(function(b,j){typeof exports=="object"&&typeof module<"u"?j(exports):typeof define=="function"&&define.amd?define(["exports"],j):(b=typeof globalThis<"u"?globalThis:b||self,j(b.zui={}))})(this,function(b){var ss,is,hn,Jt,rs,ue,Nt,dn,un,Fi,fn,pn,gn,Ie,At,fe,mn,os,as,Mi,ls,cs,hs,Ti,Ri,Ni,Ai,Eh,Li,Pi,Mh,Di,Th,Wi,ds,Ii,Oi,Hi,pe,ge;"use strict";var ba=(b,j,it)=>{if(!j.has(b))throw TypeError("Cannot "+it)};var x=(b,j,it)=>(ba(b,j,"read from private field"),it?it.call(b):j.get(b)),P=(b,j,it)=>{if(j.has(b))throw TypeError("Cannot add the same private member more than once");j instanceof WeakSet?j.add(b):j.set(b,it)},z=(b,j,it,Ui)=>(ba(b,j,"write to private field"),Ui?Ui.call(b,it):j.set(b,it),it);var Oe=(b,j,it)=>(ba(b,j,"access private method"),it);const j="",it="",Ui="",$f="",Lt=document,fs=window,$a=Lt.documentElement,me=Lt.createElement.bind(Lt),Ca=me("div"),Vi=me("table"),Rh=me("tbody"),ka=me("tr"),{isArray:ps,prototype:Sa}=Array,{concat:Nh,filter:qi,indexOf:xa,map:Ea,push:Ah,slice:Ma,some:Gi,splice:Lh}=Sa,Ph=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,Dh=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,Wh=/<.+>/,Ih=/^\w+$/;function ji(e,t){const n=Oh(t);return!e||!n&&!ye(t)&&!Y(t)?[]:!n&&Dh.test(e)?t.getElementsByClassName(e.slice(1).replace(/\\/g,"")):!n&&Ih.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}class gs{constructor(t,n){if(!t)return;if(Yi(t))return t;let s=t;if(tt(t)){const i=n||Lt;if(s=Ph.test(t)&&ye(i)?i.getElementById(t.slice(1).replace(/\\/g,"")):Wh.test(t)?Pa(t):Yi(i)?i.find(t):tt(i)?g(i).find(t):ji(t,i),!s)return}else if(we(t))return this.ready(t);(s.nodeType||s===fs)&&(s=[s]),this.length=s.length;for(let i=0,r=this.length;i<r;i++)this[i]=s[i]}init(t,n){return new gs(t,n)}}const C=gs.prototype,g=C.init;g.fn=g.prototype=C,C.length=0,C.splice=Lh,typeof Symbol=="function"&&(C[Symbol.iterator]=Sa[Symbol.iterator]);function Yi(e){return e instanceof gs}function He(e){return!!e&&e===e.window}function ye(e){return!!e&&e.nodeType===9}function Oh(e){return!!e&&e.nodeType===11}function Y(e){return!!e&&e.nodeType===1}function Hh(e){return!!e&&e.nodeType===3}function Bh(e){return typeof e=="boolean"}function we(e){return typeof e=="function"}function tt(e){return typeof e=="string"}function rt(e){return e===void 0}function yn(e){return e===null}function Ta(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ki(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}g.isWindow=He,g.isFunction=we,g.isArray=ps,g.isNumeric=Ta,g.isPlainObject=Ki;function K(e,t,n){if(n){let s=e.length;for(;s--;)if(t.call(e[s],s,e[s])===!1)return e}else if(Ki(e)){const s=Object.keys(e);for(let i=0,r=s.length;i<r;i++){const o=s[i];if(t.call(e[o],o,e[o])===!1)return e}}else for(let s=0,i=e.length;s<i;s++)if(t.call(e[s],s,e[s])===!1)return e;return e}g.each=K,C.each=function(e){return K(this,e)},C.empty=function(){return this.each((e,t)=>{for(;t.firstChild;)t.removeChild(t.firstChild)})};function ms(...e){const t=Bh(e[0])?e.shift():!1,n=e.shift(),s=e.length;if(!n)return{};if(!s)return ms(t,g,n);for(let i=0;i<s;i++){const r=e[i];for(const o in r)t&&(ps(r[o])||Ki(r[o]))?((!n[o]||n[o].constructor!==r[o].constructor)&&(n[o]=new r[o].constructor),ms(t,n[o],r[o])):n[o]=r[o]}return n}g.extend=ms,C.extend=function(e){return ms(C,e)};const zh=/\S+/g;function ys(e){return tt(e)?e.match(zh)||[]:[]}C.toggleClass=function(e,t){const n=ys(e),s=!rt(t);return this.each((i,r)=>{Y(r)&&K(n,(o,a)=>{s?t?r.classList.add(a):r.classList.remove(a):r.classList.toggle(a)})})},C.addClass=function(e){return this.toggleClass(e,!0)},C.removeAttr=function(e){const t=ys(e);return this.each((n,s)=>{Y(s)&&K(t,(i,r)=>{s.removeAttribute(r)})})};function Fh(e,t){if(e){if(tt(e)){if(arguments.length<2){if(!this[0]||!Y(this[0]))return;const n=this[0].getAttribute(e);return yn(n)?void 0:n}return rt(t)?this:yn(t)?this.removeAttr(e):this.each((n,s)=>{Y(s)&&s.setAttribute(e,t)})}for(const n in e)this.attr(n,e[n]);return this}}C.attr=Fh,C.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},C.hasClass=function(e){return!!e&&Gi.call(this,t=>Y(t)&&t.classList.contains(e))},C.get=function(e){return rt(e)?Ma.call(this):(e=Number(e),this[e<0?e+this.length:e])},C.eq=function(e){return g(this.get(e))},C.first=function(){return this.eq(0)},C.last=function(){return this.eq(-1)};function Uh(e){return rt(e)?this.get().map(t=>Y(t)||Hh(t)?t.textContent:"").join(""):this.each((t,n)=>{Y(n)&&(n.textContent=e)})}C.text=Uh;function Pt(e,t,n){if(!Y(e))return;const s=fs.getComputedStyle(e,null);return n?s.getPropertyValue(t)||void 0:s[t]||e.style[t]}function $t(e,t){return parseInt(Pt(e,t),10)||0}function Ra(e,t){return $t(e,`border${t?"Left":"Top"}Width`)+$t(e,`padding${t?"Left":"Top"}`)+$t(e,`padding${t?"Right":"Bottom"}`)+$t(e,`border${t?"Right":"Bottom"}Width`)}const Xi={};function Vh(e){if(Xi[e])return Xi[e];const t=me(e);Lt.body.insertBefore(t,null);const n=Pt(t,"display");return Lt.body.removeChild(t),Xi[e]=n!=="none"?n:"block"}function Na(e){return Pt(e,"display")==="none"}function Aa(e,t){const n=e&&(e.matches||e.webkitMatchesSelector||e.msMatchesSelector);return!!n&&!!t&&n.call(e,t)}function ws(e){return tt(e)?(t,n)=>Aa(n,e):we(e)?e:Yi(e)?(t,n)=>e.is(n):e?(t,n)=>n===e:()=>!1}C.filter=function(e){const t=ws(e);return g(qi.call(this,(n,s)=>t.call(n,s,n)))};function Qt(e,t){return t?e.filter(t):e}C.detach=function(e){return Qt(this,e).each((t,n)=>{n.parentNode&&n.parentNode.removeChild(n)}),this};const qh=/^\s*<(\w+)[^>]*>/,Gh=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,La={"*":Ca,tr:Rh,td:ka,th:ka,thead:Vi,tbody:Vi,tfoot:Vi};function Pa(e){if(!tt(e))return[];if(Gh.test(e))return[me(RegExp.$1)];const t=qh.test(e)&&RegExp.$1,n=La[t]||La["*"];return n.innerHTML=e,g(n.childNodes).detach().get()}g.parseHTML=Pa,C.has=function(e){const t=tt(e)?(n,s)=>ji(e,s).length:(n,s)=>s.contains(e);return this.filter(t)},C.not=function(e){const t=ws(e);return this.filter((n,s)=>(!tt(e)||Y(s))&&!t.call(s,n,s))};function Dt(e,t,n,s){const i=[],r=we(t),o=s&&ws(s);for(let a=0,l=e.length;a<l;a++)if(r){const h=t(e[a]);h.length&&Ah.apply(i,h)}else{let h=e[a][t];for(;h!=null&&!(s&&o(-1,h));)i.push(h),h=n?h[t]:null}return i}function Da(e){return e.multiple&&e.options?Dt(qi.call(e.options,t=>t.selected&&!t.disabled&&!t.parentNode.disabled),"value"):e.value||""}function jh(e){return arguments.length?this.each((t,n)=>{const s=n.multiple&&n.options;if(s||Ga.test(n.type)){const i=ps(e)?Ea.call(e,String):yn(e)?[]:[String(e)];s?K(n.options,(r,o)=>{o.selected=i.indexOf(o.value)>=0},!0):n.checked=i.indexOf(n.value)>=0}else n.value=rt(e)||yn(e)?"":e}):this[0]&&Da(this[0])}C.val=jh,C.is=function(e){const t=ws(e);return Gi.call(this,(n,s)=>t.call(n,s,n))},g.guid=1;function Ct(e){return e.length>1?qi.call(e,(t,n,s)=>xa.call(s,t)===n):e}g.unique=Ct,C.add=function(e,t){return g(Ct(this.get().concat(g(e,t).get())))},C.children=function(e){return Qt(g(Ct(Dt(this,t=>t.children))),e)},C.parent=function(e){return Qt(g(Ct(Dt(this,"parentNode"))),e)},C.index=function(e){const t=e?g(e)[0]:this[0],n=e?this:g(t).parent().children();return xa.call(n,t)},C.closest=function(e){const t=this.filter(e);if(t.length)return t;const n=this.parent();return n.length?n.closest(e):t},C.siblings=function(e){return Qt(g(Ct(Dt(this,t=>g(t).parent().children().not(t)))),e)},C.find=function(e){return g(Ct(Dt(this,t=>ji(e,t))))};const Yh=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kh=/^$|^module$|\/(java|ecma)script/i,Xh=["type","src","nonce","noModule"];function Jh(e,t){const n=g(e);n.filter("script").add(n.find("script")).each((s,i)=>{if(Kh.test(i.type)&&$a.contains(i)){const r=me("script");r.text=i.textContent.replace(Yh,""),K(Xh,(o,a)=>{i[a]&&(r[a]=i[a])}),t.head.insertBefore(r,null),t.head.removeChild(r)}})}function Zh(e,t,n,s,i){s?e.insertBefore(t,n?e.firstChild:null):e.nodeName==="HTML"?e.parentNode.replaceChild(t,e):e.parentNode.insertBefore(t,n?e:e.nextSibling),i&&Jh(t,e.ownerDocument)}function te(e,t,n,s,i,r,o,a){return K(e,(l,h)=>{K(g(h),(c,d)=>{K(g(t),(u,f)=>{const p=n?d:f,y=n?f:d,v=n?c:u;Zh(p,v?y.cloneNode(!0):y,s,i,!v)},a)},o)},r),t}C.after=function(){return te(arguments,this,!1,!1,!1,!0,!0)},C.append=function(){return te(arguments,this,!1,!1,!0)};function Qh(e){if(!arguments.length)return this[0]&&this[0].innerHTML;if(rt(e))return this;const t=/<script[\s>]/.test(e);return this.each((n,s)=>{Y(s)&&(t?g(s).empty().append(e):s.innerHTML=e)})}C.html=Qh,C.appendTo=function(e){return te(arguments,this,!0,!1,!0)},C.wrapInner=function(e){return this.each((t,n)=>{const s=g(n),i=s.contents();i.length?i.wrapAll(e):s.append(e)})},C.before=function(){return te(arguments,this,!1,!0)},C.wrapAll=function(e){let t=g(e),n=t[0];for(;n.children.length;)n=n.firstElementChild;return this.first().before(t),this.appendTo(n)},C.wrap=function(e){return this.each((t,n)=>{const s=g(e)[0];g(n).wrapAll(t?s.cloneNode(!0):s)})},C.insertAfter=function(e){return te(arguments,this,!0,!1,!1,!1,!1,!0)},C.insertBefore=function(e){return te(arguments,this,!0,!0)},C.prepend=function(){return te(arguments,this,!1,!0,!0,!0,!0)},C.prependTo=function(e){return te(arguments,this,!0,!0,!0,!1,!1,!0)},C.contents=function(){return g(Ct(Dt(this,e=>e.tagName==="IFRAME"?[e.contentDocument]:e.tagName==="TEMPLATE"?e.content.childNodes:e.childNodes)))},C.next=function(e,t,n){return Qt(g(Ct(Dt(this,"nextElementSibling",t,n))),e)},C.nextAll=function(e){return this.next(e,!0)},C.nextUntil=function(e,t){return this.next(t,!0,e)},C.parents=function(e,t){return Qt(g(Ct(Dt(this,"parentElement",!0,t))),e)},C.parentsUntil=function(e,t){return this.parents(t,e)},C.prev=function(e,t,n){return Qt(g(Ct(Dt(this,"previousElementSibling",t,n))),e)},C.prevAll=function(e){return this.prev(e,!0)},C.prevUntil=function(e,t){return this.prev(t,!0,e)},C.map=function(e){return g(Nh.apply([],Ea.call(this,(t,n)=>e.call(t,n,t))))},C.clone=function(){return this.map((e,t)=>t.cloneNode(!0))},C.offsetParent=function(){return this.map((e,t)=>{let n=t.offsetParent;for(;n&&Pt(n,"position")==="static";)n=n.offsetParent;return n||$a})},C.slice=function(e,t){return g(Ma.call(this,e,t))};const td=/-([a-z])/g;function Ji(e){return e.replace(td,(t,n)=>n.toUpperCase())}C.ready=function(e){const t=()=>setTimeout(e,0,g);return Lt.readyState!=="loading"?t():Lt.addEventListener("DOMContentLoaded",t),this},C.unwrap=function(){return this.parent().each((e,t)=>{if(t.tagName==="BODY")return;const n=g(t);n.replaceWith(n.children())}),this},C.offset=function(){const e=this[0];if(!e)return;const t=e.getBoundingClientRect();return{top:t.top+fs.pageYOffset,left:t.left+fs.pageXOffset}},C.position=function(){const e=this[0];if(!e)return;const t=Pt(e,"position")==="fixed",n=t?e.getBoundingClientRect():this.offset();if(!t){const s=e.ownerDocument;let i=e.offsetParent||s.documentElement;for(;(i===s.body||i===s.documentElement)&&Pt(i,"position")==="static";)i=i.parentNode;if(i!==e&&Y(i)){const r=g(i).offset();n.top-=r.top+$t(i,"borderTopWidth"),n.left-=r.left+$t(i,"borderLeftWidth")}}return{top:n.top-$t(e,"marginTop"),left:n.left-$t(e,"marginLeft")}};const Wa={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};C.prop=function(e,t){if(e){if(tt(e))return e=Wa[e]||e,arguments.length<2?this[0]&&this[0][e]:this.each((n,s)=>{s[e]=t});for(const n in e)this.prop(n,e[n]);return this}},C.removeProp=function(e){return this.each((t,n)=>{delete n[Wa[e]||e]})};const ed=/^--/;function Zi(e){return ed.test(e)}const Qi={},{style:nd}=Ca,sd=["webkit","moz","ms"];function id(e,t=Zi(e)){if(t)return e;if(!Qi[e]){const n=Ji(e),s=`${n[0].toUpperCase()}${n.slice(1)}`,i=`${n} ${sd.join(`${s} `)}${s}`.split(" ");K(i,(r,o)=>{if(o in nd)return Qi[e]=o,!1})}return Qi[e]}const rd={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Ia(e,t,n=Zi(e)){return!n&&!rd[e]&&Ta(t)?`${t}px`:t}function od(e,t){if(tt(e)){const n=Zi(e);return e=id(e,n),arguments.length<2?this[0]&&Pt(this[0],e,n):e?(t=Ia(e,t,n),this.each((s,i)=>{Y(i)&&(n?i.style.setProperty(e,t):i.style[e]=t)})):this}for(const n in e)this.css(n,e[n]);return this}C.css=od;function Oa(e,t){try{return e(t)}catch{return t}}const ad=/^\s+|\s+$/;function Ha(e,t){const n=e.dataset[t]||e.dataset[Ji(t)];return ad.test(n)?n:Oa(JSON.parse,n)}function ld(e,t,n){n=Oa(JSON.stringify,n),e.dataset[Ji(t)]=n}function cd(e,t){if(!e){if(!this[0])return;const n={};for(const s in this[0].dataset)n[s]=Ha(this[0],s);return n}if(tt(e))return arguments.length<2?this[0]&&Ha(this[0],e):rt(t)?this:this.each((n,s)=>{ld(s,e,t)});for(const n in e)this.data(n,e[n]);return this}C.data=cd;function Ba(e,t){const n=e.documentElement;return Math.max(e.body[`scroll${t}`],n[`scroll${t}`],e.body[`offset${t}`],n[`offset${t}`],n[`client${t}`])}K([!0,!1],(e,t)=>{K(["Width","Height"],(n,s)=>{const i=`${t?"outer":"inner"}${s}`;C[i]=function(r){if(this[0])return He(this[0])?t?this[0][`inner${s}`]:this[0].document.documentElement[`client${s}`]:ye(this[0])?Ba(this[0],s):this[0][`${t?"offset":"client"}${s}`]+(r&&t?$t(this[0],`margin${n?"Top":"Left"}`)+$t(this[0],`margin${n?"Bottom":"Right"}`):0)}})}),K(["Width","Height"],(e,t)=>{const n=t.toLowerCase();C[n]=function(s){if(!this[0])return rt(s)?void 0:this;if(!arguments.length)return He(this[0])?this[0].document.documentElement[`client${t}`]:ye(this[0])?Ba(this[0],t):this[0].getBoundingClientRect()[n]-Ra(this[0],!e);const i=parseInt(s,10);return this.each((r,o)=>{if(!Y(o))return;const a=Pt(o,"boxSizing");o.style[n]=Ia(n,i+(a==="border-box"?Ra(o,!e):0))})}});const za="___cd";C.toggle=function(e){return this.each((t,n)=>{if(!Y(n))return;const s=Na(n);(rt(e)?s:e)?(n.style.display=n[za]||"",Na(n)&&(n.style.display=Vh(n.tagName))):s||(n[za]=Pt(n,"display"),n.style.display="none")})},C.hide=function(){return this.toggle(!1)},C.show=function(){return this.toggle(!0)};const Fa="___ce",tr=".",er={focus:"focusin",blur:"focusout"},Ua={mouseenter:"mouseover",mouseleave:"mouseout"},hd=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function nr(e){return Ua[e]||er[e]||e}function sr(e){const t=e.split(tr);return[t[0],t.slice(1).sort()]}C.trigger=function(e,t){if(tt(e)){const[s,i]=sr(e),r=nr(s);if(!r)return this;const o=hd.test(r)?"MouseEvents":"HTMLEvents";e=Lt.createEvent(o),e.initEvent(r,!0,!0),e.namespace=i.join(tr),e.___ot=s}e.___td=t;const n=e.___ot in er;return this.each((s,i)=>{n&&we(i[e.___ot])&&(i[`___i${e.type}`]=!0,i[e.___ot](),i[`___i${e.type}`]=!1),i.dispatchEvent(e)})};function Va(e){return e[Fa]=e[Fa]||{}}function dd(e,t,n,s,i){const r=Va(e);r[t]=r[t]||[],r[t].push([n,s,i]),e.addEventListener(t,i)}function qa(e,t){return!t||!Gi.call(t,n=>e.indexOf(n)<0)}function vs(e,t,n,s,i){const r=Va(e);if(t)r[t]&&(r[t]=r[t].filter(([o,a,l])=>{if(i&&l.guid!==i.guid||!qa(o,n)||s&&s!==a)return!0;e.removeEventListener(t,l)}));else for(t in r)vs(e,t,n,s,i)}C.off=function(e,t,n){if(rt(e))this.each((s,i)=>{!Y(i)&&!ye(i)&&!He(i)||vs(i)});else if(tt(e))we(t)&&(n=t,t=""),K(ys(e),(s,i)=>{const[r,o]=sr(i),a=nr(r);this.each((l,h)=>{!Y(h)&&!ye(h)&&!He(h)||vs(h,a,o,t,n)})});else for(const s in e)this.off(s,e[s]);return this},C.remove=function(e){return Qt(this,e).detach().off(),this},C.replaceWith=function(e){return this.before(e).remove()},C.replaceAll=function(e){return g(e).replaceWith(this),this};function ud(e,t,n,s,i){if(!tt(e)){for(const r in e)this.on(r,t,n,e[r],i);return this}return tt(t)||(rt(t)||yn(t)?t="":rt(n)?(n=t,t=""):(s=n,n=t,t="")),we(s)||(s=n,n=void 0),s?(K(ys(e),(r,o)=>{const[a,l]=sr(o),h=nr(a),c=a in Ua,d=a in er;h&&this.each((u,f)=>{if(!Y(f)&&!ye(f)&&!He(f))return;const p=function(y){if(y.target[`___i${y.type}`])return y.stopImmediatePropagation();if(y.namespace&&!qa(l,y.namespace.split(tr))||!t&&(d&&(y.target!==f||y.___ot===h)||c&&y.relatedTarget&&f.contains(y.relatedTarget)))return;let v=f;if(t){let _=y.target;for(;!Aa(_,t);)if(_===f||(_=_.parentNode,!_))return;v=_}Object.defineProperty(y,"currentTarget",{configurable:!0,get(){return v}}),Object.defineProperty(y,"delegateTarget",{configurable:!0,get(){return f}}),Object.defineProperty(y,"data",{configurable:!0,get(){return n}});const w=s.call(v,y,y.___td);i&&vs(f,h,l,t,p),w===!1&&(y.preventDefault(),y.stopPropagation())};p.guid=s.guid=s.guid||g.guid++,dd(f,h,l,t,p)})}),this):this}C.on=ud;function fd(e,t,n,s){return this.on(e,t,n,s,!0)}C.one=fd;const pd=/\r?\n/g;function gd(e,t){return`&${encodeURIComponent(e)}=${encodeURIComponent(t.replace(pd,`\r
`))}`}const md=/file|reset|submit|button|image/i,Ga=/radio|checkbox/i;C.serialize=function(){let e="";return this.each((t,n)=>{K(n.elements||[n],(s,i)=>{if(i.disabled||!i.name||i.tagName==="FIELDSET"||md.test(i.type)||Ga.test(i.type)&&!i.checked)return;const r=Da(i);if(!rt(r)){const o=ps(r)?r:[r];K(o,(a,l)=>{e+=gd(i.name,l)})}})}),e.slice(1)},window.$=g;function ja(e,t){if(e==null)return[e,void 0];typeof t=="string"&&(t=t.split("."));const n=t.join(".");let s=e;const i=[s];for(;typeof s=="object"&&s!==null&&t.length;){let r=t.shift(),o;const a=r.indexOf("[");if(a>0&&a<r.length-1&&r.endsWith("]")&&(o=r.substring(a+1,r.length-1),r=r.substring(0,a)),s=s[r],i.push(s),o!==void 0)if(typeof s=="object"&&s!==null)s instanceof Map?s=s.get(o):s=s[o],i.push(s);else throw new Error(`Cannot access property "${r}[${o}]", the full path is "${n}".`)}if(t.length)throw new Error(`Cannot access property with rest path "${t.join(".")}", the full path is "${n}".`);return i}function Ya(e,t,n){try{const s=ja(e,t),i=s[s.length-1];return i===void 0?n:i}catch{return n}}function et(e,...t){if(t.length===0)return e;if(t.length===1&&typeof t[0]=="object"&&t[0]){const n=t[0];return Object.keys(n).forEach(s=>{const i=n[s]??"";e=e.replace(new RegExp(`\\{${s}\\}`,"g"),`${i}`)}),e}for(let n=0;n<t.length;n++){const s=t[n]??"";e=e.replace(new RegExp(`\\{${n}\\}`,"g"),`${s}`)}return e}var ir=(e=>(e[e.B=1]="B",e[e.KB=1024]="KB",e[e.MB=1048576]="MB",e[e.GB=1073741824]="GB",e[e.TB=1099511627776]="TB",e))(ir||{});function Ka(e,t=2,n){return Number.isNaN(e)?"?KB":(n||(e<1024?n="B":e<1048576?n="KB":e<1073741824?n="MB":e<1099511627776?n="GB":n="TB"),(e/ir[n]).toFixed(t)+n)}const Xa=e=>{const t=/^[0-9]*(B|KB|MB|GB|TB)$/;e=e.toUpperCase();const n=e.match(t);if(!n)return 0;const s=n[1];return e=e.replace(s,""),Number.parseInt(e,10)*ir[s]};let rr=(document.documentElement.getAttribute("lang")||"zh_cn").toLowerCase().replace("-","_"),ee;function yd(){return rr}function wd(e){rr=e.toLowerCase()}function Ja(e,t){ee||(ee={}),typeof e=="string"&&(e={[e]:t??{}}),g.extend(!0,ee,e)}function kt(e,t,n,s,i,r){Array.isArray(e)?ee&&e.unshift(ee):e=ee?[ee,e]:[e],typeof n=="string"&&(r=i,i=s,s=n,n=void 0);const o=i||rr;let a;for(const l of e){if(!l)continue;const h=l[o];if(!h)continue;const c=r&&l===ee?`${r}.${t}`:t;if(a=Ya(h,c),a!==void 0)break}return a===void 0?s:n?et(a,...Array.isArray(n)?n:[n]):a}function vd(e,t,n,s){return kt(void 0,e,t,n,s)}kt.addLang=Ja,kt.getLang=vd,kt.getCode=yd,kt.setCode=wd,Ja({zh_cn:{confirm:"确定",cancel:"取消",delete:"删除",add:"添加"},zh_tw:{confirm:"確定",cancel:"取消",delete:"刪除",add:"添加"},en:{confirm:"Confirm",cancel:"Cancel",delete:"Delete",add:"Add"}});function or(...e){const t=[],n=new Map,s=(i,r)=>{if(Array.isArray(i)&&(r=i[1],i=i[0]),!i.length)return;const o=n.get(i);typeof o=="number"?t[o][1]=!!r:(n.set(i,t.length),t.push([i,!!r]))};return e.forEach(i=>{typeof i=="function"&&(i=i()),Array.isArray(i)?or(...i).forEach(s):i&&typeof i=="object"?Object.entries(i).forEach(s):typeof i=="string"&&i.split(" ").forEach(r=>s(r,!0))}),t.sort((i,r)=>(n.get(i[0])||0)-(n.get(r[0])||0))}const T=(...e)=>or(...e).reduce((t,[n,s])=>(s&&t.push(n),t),[]).join(" ");g.classes=T,g.fn.setClass=function(e,...t){return this.each((n,s)=>{const i=g(s);e===!0?i.attr("class",T(i.attr("class"),...t)):i.addClass(T(e,...t))})};const wn=new WeakMap;function ar(e,t,n){const s=wn.has(e),i=s?wn.get(e):{};typeof t=="string"?i[t]=n:t===null?Object.keys(i).forEach(r=>{delete i[r]}):Object.assign(i,t),Object.keys(i).forEach(r=>{i[r]===void 0&&delete i[r]}),Object.keys(i).length?(!s&&e instanceof Element&&Object.assign(i,g(e).dataset(),i),wn.set(e,i)):wn.delete(e)}function Za(e,t){let n=wn.get(e)||{};return e instanceof Element&&(n=Object.assign({},g(e).dataset(),n)),t===void 0?n:n[t]}g.fn.dataset=g.fn.data,g.fn.data=function(...e){if(!this.length)return;const[t,n]=e;return!e.length||e.length===1&&typeof t=="string"?Za(this[0],t):this.each((s,i)=>ar(i,t,n))},g.fn.removeData=function(e=null){return this.each((t,n)=>ar(n,e))},g.fn._attr=g.fn.attr,g.fn.extend({attr(...e){const[t,n]=e;return!e.length||e.length===1&&typeof t=="string"?this._attr.apply(this,e):typeof t=="object"?(t&&Object.keys(t).forEach(s=>{const i=t[s];i===null?this.removeAttr(s):this._attr(s,i)}),this):n===null?this.removeAttr(t):this._attr(t,n)}}),g.Event=(e,t)=>{const[n,...s]=e.split("."),i=new Event(n,{bubbles:!0,cancelable:!0});return i.namespace=s.join("."),i.___ot=n,i.___td=t,i};const vn=(e,t)=>new Promise(n=>{const s=window.setTimeout(n,e);t&&t(s)});function Qa(e,t){const n=g(e)[0];if(!n)return!1;const{left:s,top:i,width:r,height:o}=n.getBoundingClientRect(),{innerHeight:a,innerWidth:l}=window,{clientHeight:h,clientWidth:c}=document.documentElement,d=a||h,u=l||c;if(t!=null&&t.fullyCheck)return s>=0&&i>=0&&s+r<=u&&i+o<=d;const f=i<=d&&i+o>=0,p=s<=u&&s+r>=0;return f&&p}g.fn.isVisible=function(e){return this.each((t,n)=>{Qa(n,e)})};function lr(e,t,n=!1){const s=g(e);if(t!==void 0){if(t.length){const i=`zui-runjs-${g.guid++}`;s.append(`<script id="${i}">${t}<\/script>`),n&&s.find(`#${i}`).remove()}return}s.find("script").each((i,r)=>{lr(s,r.innerHTML),r.remove()})}g.runJS=(e,...t)=>(e=e.trim(),e.startsWith("return ")||(e=`return ${e}`),new Function(...t.map(([s])=>s),e)(...t.map(([,s])=>s))),g.fn.runJS=function(e){return this.each((t,n)=>{lr(n,e)})};const _d=Object.freeze(Object.defineProperty({__proto__:null,isVisible:Qa,runJS:lr},Symbol.toStringTag,{value:"Module"}));var _s,F,tl;b.isValidElement=void 0;var ve,el,nl,cr,bs={},sl=[],bd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,hr=Array.isArray;function ne(e,t){for(var n in t)e[n]=t[n];return e}function il(e){var t=e.parentNode;t&&t.removeChild(e)}function G(e,t,n){var s,i,r,o={};for(r in t)r=="key"?s=t[r]:r=="ref"?i=t[r]:o[r]=t[r];if(arguments.length>2&&(o.children=arguments.length>3?_s.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)o[r]===void 0&&(o[r]=e.defaultProps[r]);return $s(e,o,s,i,null)}function $s(e,t,n,s,i){var r={type:e,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++tl};return i==null&&F.vnode!=null&&F.vnode(r),r}function lt(){return{current:null}}function _n(e){return e.children}function U(e,t){this.props=e,this.context=t}function bn(e,t){if(t==null)return e.__?bn(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?bn(e):null}function rl(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return rl(e)}}function ol(e){(!e.__d&&(e.__d=!0)&&ve.push(e)&&!Cs.__r++||el!==F.debounceRendering)&&((el=F.debounceRendering)||nl)(Cs)}function Cs(){var e,t,n,s,i,r,o,a;for(ve.sort(cr);e=ve.shift();)e.__d&&(t=ve.length,s=void 0,i=void 0,o=(r=(n=e).__v).__e,(a=n.__P)&&(s=[],(i=ne({},r)).__v=r.__v+1,dr(a,r,i,n.__n,a.ownerSVGElement!==void 0,r.__h!=null?[o]:null,s,o??bn(r),r.__h),pl(s,r),r.__e!=o&&rl(r)),ve.length>t&&ve.sort(cr));Cs.__r=0}function al(e,t,n,s,i,r,o,a,l,h){var c,d,u,f,p,y,v,w=s&&s.__k||sl,_=w.length;for(n.__k=[],c=0;c<t.length;c++)if((f=n.__k[c]=(f=t[c])==null||typeof f=="boolean"||typeof f=="function"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?$s(null,f,null,null,f):hr(f)?$s(_n,{children:f},null,null,null):f.__b>0?$s(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(u=w[c])===null||u&&f.key==u.key&&f.type===u.type)w[c]=void 0;else for(d=0;d<_;d++){if((u=w[d])&&f.key==u.key&&f.type===u.type){w[d]=void 0;break}u=null}dr(e,f,u=u||bs,i,r,o,a,l,h),p=f.__e,(d=f.ref)&&u.ref!=d&&(v||(v=[]),u.ref&&v.push(u.ref,null,f),v.push(d,f.__c||p,f)),p!=null?(y==null&&(y=p),typeof f.type=="function"&&f.__k===u.__k?f.__d=l=ll(f,l,e):l=cl(e,f,u,w,p,l),typeof n.type=="function"&&(n.__d=l)):l&&u.__e==l&&l.parentNode!=e&&(l=bn(u))}for(n.__e=y,c=_;c--;)w[c]!=null&&(typeof n.type=="function"&&w[c].__e!=null&&w[c].__e==n.__d&&(n.__d=hl(s).nextSibling),ml(w[c],w[c]));if(v)for(c=0;c<v.length;c++)gl(v[c],v[++c],v[++c])}function ll(e,t,n){for(var s,i=e.__k,r=0;i&&r<i.length;r++)(s=i[r])&&(s.__=e,t=typeof s.type=="function"?ll(s,t,n):cl(n,s,s,i,s.__e,t));return t}function cl(e,t,n,s,i,r){var o,a,l;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||i!=r||i.parentNode==null)t:if(r==null||r.parentNode!==e)e.appendChild(i),o=null;else{for(a=r,l=0;(a=a.nextSibling)&&l<s.length;l+=1)if(a==i)break t;e.insertBefore(i,r),o=r}return o!==void 0?o:i.nextSibling}function hl(e){var t,n,s;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(s=hl(n)))return s}return null}function $d(e,t,n,s,i){var r;for(r in n)r==="children"||r==="key"||r in t||ks(e,r,null,n[r],s);for(r in t)i&&typeof t[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===t[r]||ks(e,r,t[r],n[r],s)}function dl(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||bd.test(t)?n:n+"px"}function ks(e,t,n,s,i){var r;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||dl(e.style,t,"");if(n)for(t in n)s&&n[t]===s[t]||dl(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?s||e.addEventListener(t,r?fl:ul,r):e.removeEventListener(t,r?fl:ul,r);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function ul(e){return this.l[e.type+!1](F.event?F.event(e):e)}function fl(e){return this.l[e.type+!0](F.event?F.event(e):e)}function dr(e,t,n,s,i,r,o,a,l){var h,c,d,u,f,p,y,v,w,_,k,E,S,R,A,L=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=t.__e=n.__e,t.__h=null,r=[a]),(h=F.__b)&&h(t);try{t:if(typeof L=="function"){if(v=t.props,w=(h=L.contextType)&&s[h.__c],_=h?w?w.props.value:h.__:s,n.__c?y=(c=t.__c=n.__c).__=c.__E:("prototype"in L&&L.prototype.render?t.__c=c=new L(v,_):(t.__c=c=new U(v,_),c.constructor=L,c.render=kd),w&&w.sub(c),c.props=v,c.state||(c.state={}),c.context=_,c.__n=s,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),L.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ne({},c.__s)),ne(c.__s,L.getDerivedStateFromProps(v,c.__s))),u=c.props,f=c.state,c.__v=t,d)L.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(L.getDerivedStateFromProps==null&&v!==u&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,_),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,_)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(c.props=v,c.state=c.__s,c.__d=!1),c.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(H){H&&(H.__=t)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&o.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,_),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(u,f,p)})}if(c.context=_,c.props=v,c.__P=e,E=F.__r,S=0,"prototype"in L&&L.prototype.render){for(c.state=c.__s,c.__d=!1,E&&E(t),h=c.render(c.props,c.state,c.context),R=0;R<c._sb.length;R++)c.__h.push(c._sb[R]);c._sb=[]}else do c.__d=!1,E&&E(t),h=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++S<25);c.state=c.__s,c.getChildContext!=null&&(s=ne(ne({},s),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(u,f)),al(e,hr(A=h!=null&&h.type===_n&&h.key==null?h.props.children:h)?A:[A],t,n,s,i,r,o,a,l),c.base=t.__e,t.__h=null,c.__h.length&&o.push(c),y&&(c.__E=c.__=null),c.__e=!1}else r==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Cd(n.__e,t,n,s,i,r,o,l);(h=F.diffed)&&h(t)}catch(H){t.__v=null,(l||r!=null)&&(t.__e=a,t.__h=!!l,r[r.indexOf(a)]=null),F.__e(H,t,n)}}function pl(e,t){F.__c&&F.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(s){s.call(n)})}catch(s){F.__e(s,n.__v)}})}function Cd(e,t,n,s,i,r,o,a){var l,h,c,d=n.props,u=t.props,f=t.type,p=0;if(f==="svg"&&(i=!0),r!=null){for(;p<r.length;p++)if((l=r[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){e=l,r[p]=null;break}}if(e==null){if(f===null)return document.createTextNode(u);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,u.is&&u),r=null,a=!1}if(f===null)d===u||a&&e.data===u||(e.data=u);else{if(r=r&&_s.call(e.childNodes),h=(d=n.props||bs).dangerouslySetInnerHTML,c=u.dangerouslySetInnerHTML,!a){if(r!=null)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(c||h)&&(c&&(h&&c.__html==h.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if($d(e,u,d,i,a),c)t.__k=[];else if(al(e,hr(p=t.props.children)?p:[p],t,n,s,i&&f!=="foreignObject",r,o,r?r[0]:n.__k&&bn(n,0),a),r!=null)for(p=r.length;p--;)r[p]!=null&&il(r[p]);a||("value"in u&&(p=u.value)!==void 0&&(p!==e.value||f==="progress"&&!p||f==="option"&&p!==d.value)&&ks(e,"value",p,d.value,!1),"checked"in u&&(p=u.checked)!==void 0&&p!==e.checked&&ks(e,"checked",p,d.checked,!1))}return e}function gl(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(s){F.__e(s,n)}}function ml(e,t,n){var s,i;if(F.unmount&&F.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||gl(s,null,t)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(r){F.__e(r,t)}s.base=s.__P=null,e.__c=void 0}if(s=e.__k)for(i=0;i<s.length;i++)s[i]&&ml(s[i],t,n||typeof e.type!="function");n||e.__e==null||il(e.__e),e.__=e.__e=e.__d=void 0}function kd(e,t,n){return this.constructor(e,n)}function Be(e,t,n){var s,i,r;F.__&&F.__(e,t),i=(s=typeof n=="function")?null:n&&n.__k||t.__k,r=[],dr(t,e=(!s&&n||t).__k=G(_n,null,[e]),i||bs,bs,t.ownerSVGElement!==void 0,!s&&n?[n]:i?null:t.firstChild?_s.call(t.childNodes):null,r,!s&&n?n:i?i.__e:t.firstChild,s),pl(r,e)}_s=sl.slice,F={__e:function(e,t,n,s){for(var i,r,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,s||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},tl=0,b.isValidElement=function(e){return e!=null&&e.constructor===void 0},U.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ne({},this.state),typeof e=="function"&&(e=e(ne({},n),this.props)),e&&ne(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ol(this))},U.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ol(this))},U.prototype.render=_n,ve=[],nl=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cr=function(e,t){return e.__v.__b-t.__v.__b},Cs.__r=0;var yl=function(e,t,n,s){var i;t[0]=0;for(var r=1;r<t.length;r++){var o=t[r++],a=t[r]?(t[0]|=o?1:2,n[t[r++]]):t[++r];o===3?s[0]=a:o===4?s[1]=Object.assign(s[1]||{},a):o===5?(s[1]=s[1]||{})[t[++r]]=a:o===6?s[1][t[++r]]+=a+"":o?(i=e.apply(a,yl(e,a,n,["",null])),s.push(i),a[0]?t[0]|=2:(t[r-2]=0,t[r]=i)):s.push(a)}return s},wl=new Map;function vl(e){var t=wl.get(this);return t||(t=new Map,wl.set(this,t)),(t=yl(this,t.get(e)||(t.set(e,t=function(n){for(var s,i,r=1,o="",a="",l=[0],h=function(u){r===1&&(u||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,u,o):r===3&&(u||o)?(l.push(3,u,o),r=2):r===2&&o==="..."&&u?l.push(4,u,0):r===2&&o&&!u?l.push(5,0,!0,o):r>=5&&((o||!u&&r===5)&&(l.push(r,0,o,i),r=6),u&&(l.push(r,u,0,i),r=6)),o=""},c=0;c<n.length;c++){c&&(r===1&&h(),h(c));for(var d=0;d<n[c].length;d++)s=n[c][d],r===1?s==="<"?(h(),l=[l],r=3):o+=s:r===4?o==="--"&&s===">"?(r=1,o=""):o=s+o[0]:a?s===a?a="":o+=s:s==='"'||s==="'"?a=s:s===">"?(h(),r=1):r&&(s==="="?(r=5,i=o,o=""):s==="/"&&(r<5||n[c][d+1]===">")?(h(),r===3&&(l=l[0]),r=l,(l=l[0]).push(2,0,r),r=0):s===" "||s==="	"||s===`
`||s==="\r"?(h(),r=2):o+=s),r===3&&o==="!--"&&(r=4,l=l[0])}return h(),l}(e)),t),arguments,[])).length>1?t:t[0]}const Sd=vl.bind(G);function _l(e){const{tagName:t="div",className:n,style:s,children:i,attrs:r,...o}=e;return G(t,{class:T(n),style:s,...o,...r},i)}var xd=0;function m(e,t,n,s,i,r){var o,a,l={};for(a in t)a=="ref"?o=t[a]:l[a]=t[a];var h={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--xd,__source:i,__self:r};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return F.vnode&&F.vnode(h),h}class ur extends U{constructor(){super(...arguments);P(this,ss,lt())}componentDidMount(){this.props.executeScript&&g(x(this,ss).current).runJS()}render(n){const{executeScript:s,html:i,...r}=n;return m(_l,{ref:x(this,ss),dangerouslySetInnerHTML:{__html:i},...r})}}ss=new WeakMap;function bl(e){const{tag:t,className:n,style:s,renders:i,generateArgs:r=[],generatorThis:o,generators:a,onGenerate:l,onRenderItem:h,...c}=e,d=[n],u={...s},f=[],p=[];return i.forEach(y=>{const v=[];if(typeof y=="string"&&a&&a[y]&&(y=a[y]),typeof y=="function")if(l)v.push(...l.call(o,y,f,...r));else{const w=y.call(o,f,...r);w&&(Array.isArray(w)?v.push(...w):v.push(w))}else v.push(y);v.forEach(w=>{w!=null&&(typeof w=="object"&&!b.isValidElement(w)&&("html"in w||"__html"in w||"className"in w||"style"in w||"attrs"in w||"children"in w)?w.html?f.push(m("div",{className:T(w.className),style:w.style,dangerouslySetInnerHTML:{__html:w.html},...w.attrs??{}})):w.__html?p.push(w.__html):(w.style&&Object.assign(u,w.style),w.className&&d.push(w.className),w.children&&f.push(w.children),w.attrs&&Object.assign(c,w.attrs)):f.push(w))})}),p.length&&Object.assign(c,{dangerouslySetInnerHTML:{__html:p}}),[{className:T(d),style:u,...c},f]}function Ss({tag:e="div",...t}){const[n,s]=bl(t);return G(e,n,...s)}function ze(e){const{icon:t,className:n,...s}=e;if(!t)return null;if(b.isValidElement(t))return t;const i=["icon",n];return typeof t=="string"?i.push(t.startsWith("icon-")?t:`icon-${t}`):typeof t=="object"&&(i.push(t.className),Object.assign(s,t)),m("i",{className:T(i),...s})}function Ed(e){return this.getChildContext=()=>e.context,e.children}function Md(e){const t=this,n=e._container;t.componentWillUnmount=function(){Be(null,t._temp),t._temp=null,t._container=null},t._container&&t._container!==n&&t.componentWillUnmount(),e._vnode?(t._temp||(t._container=n,t._temp={nodeType:1,parentNode:n,childNodes:[],appendChild(s){this.childNodes.push(s),t._container.appendChild(s)},insertBefore(s,i){this.childNodes.push(s),t._container.appendChild(s)},removeChild(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),t._container.removeChild(s)}}),Be(G(Ed,{context:t.context},e._vnode),t._temp)):t._temp&&t.componentWillUnmount()}function $l(e,t){const n=G(Md,{_vnode:e,_container:t});return n.containerInfo=t,n}var Cl=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Fe=(e,t,n)=>(Cl(e,t,"read from private field"),n?n.call(e):t.get(e)),xs=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ue=(e,t,n,s)=>(Cl(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),_e,$n,Es,Ms;const kl=class{constructor(e,t){xs(this,_e,void 0),xs(this,$n,void 0),xs(this,Es,void 0),xs(this,Ms,!1);const{KEY:n,DATA_KEY:s,DEFAULT:i,MULTI_INSTANCE:r}=this.constructor,o=g(e);if(o.data(n)&&!r)throw new Error("[ZUI] The component has been initialized on element.");const a=g.guid++;if(Ue(this,Es,a),Ue(this,$n,o[0]),o.on("DOMNodeRemovedFromDocument",()=>{this.destroy()}),Ue(this,_e,{...i,...o.dataset()}),this.setOptions(t),this._key=this.options.key??`__${a}`,o.data(n,this).attr(s,`${a}`),r){const l=`${n}:ALL`;let h=o.data(l);h||(h=new Map,o.data(l,h)),h.set(this._key,this)}this.init(),requestAnimationFrame(()=>{Ue(this,Ms,!0),this.emit("inited",this.options),this.afterInit()})}static get KEY(){return`zui.${this.NAME}`}static get NAMESPACE(){return`.${this.NAME}.zui`}static get DATA_KEY(){return`data-zui-${this.NAME}`}get inited(){return Fe(this,Ms)}get element(){return Fe(this,$n)}get key(){return this._key}get options(){return Fe(this,_e)}get gid(){return Fe(this,Es)}get $element(){return g(this.element)}get $emitter(){return this.$element}init(){}afterInit(){}render(e){this.setOptions(e)}destroy(){const{KEY:e,DATA_KEY:t,MULTI_INSTANCE:n}=this.constructor,{$element:s}=this;if(this.emit("destroyed"),s.off(this.namespace).removeData(e).attr(t,null),n){const i=this.$element.data(`${e}:ALL`);if(i)if(i.delete(this._key),i.size===0)this.$element.removeData(`${e}:ALL`);else{const r=i.values().next().value;s.data(e,r).attr(t,r.gid)}}Ue(this,_e,void 0),Ue(this,$n,void 0)}setOptions(e){return e&&g.extend(Fe(this,_e),e),Fe(this,_e)}emit(e,...t){const n=g.Event(this._wrapEvent(e));return this.$emitter.trigger(n,[this,...t]),n}on(e,t){this.$element.on(this._wrapEvent(e),t)}one(e,t){this.$element.one(this._wrapEvent(e),t)}off(e,t){this.$element.off(this._wrapEvent(e),t)}i18n(e,t,n){return kt(this.options.i18n,e,t,n,this.options.lang,this.constructor.NAME)??kt(this.options.i18n,e,t,n,this.options.lang)??`{i18n:${e}}`}get namespace(){return`.${this._key}${this.constructor.NAMESPACE}`}_wrapEvent(e){return e.split(" ").map(t=>t.includes(".")?t:`${t}${this.namespace}`).join(" ")}static get(e,t){const n=g(e);if(this.MULTI_INSTANCE&&t!==void 0){const s=n.data(`${this.KEY}:ALL`);return s?s.get(t):void 0}return n.data(this.KEY)}static ensure(e,t){const n=this.get(e,t==null?void 0:t.key);return n?(t&&n.setOptions(t),n):new this(e,t)}static getAll(e){const{MULTI_INSTANCE:t,DATA_KEY:n}=this,s=[];return g(e||document).find(`[${n}]`).each((i,r)=>{if(t){const a=g(r).data(`${this.KEY}:ALL`);if(a){s.push(...a.values());return}}const o=g(r).data(this.KEY);o&&s.push(o)}),s}static query(e,t){return e===void 0?this.getAll().sort((n,s)=>n.gid-s.gid)[0]:this.get(g(e).closest(`[${this.DATA_KEY}]`),t)}static defineFn(e){g.fn.extend({[e||this.NAME.replace(/(^[A-Z]+)/,t=>t.toLowerCase())](t,...n){return this.each((s,i)=>{var o;const r=this.ensure(i,typeof t=="object"?t:void 0);typeof t=="string"&&((o=r[t])==null||o.call(r,...n))})}})}};let ot=kl;_e=new WeakMap,$n=new WeakMap,Es=new WeakMap,Ms=new WeakMap,ot.DEFAULT={},ot.NAME=kl.name,ot.MULTI_INSTANCE=!1;class X extends ot{constructor(){super(...arguments),this.ref=lt()}get $(){return this.ref.current}afterInit(){this.render()}destroy(){var t,n;(n=(t=this.$)==null?void 0:t.componentWillUnmount)==null||n.call(t),this.element&&(this.element.innerHTML=""),super.destroy()}render(t){Be(G(this.constructor.Component,{ref:this.ref,...this.setOptions(t)}),this.element)}}const Cf="";function Td({component:e="div",className:t,children:n,style:s,attrs:i}){return G(e,{className:T(t),style:s,...i},n)}function Sl({type:e,component:t="a",className:n,children:s,attrs:i,url:r,disabled:o,active:a,icon:l,text:h,target:c,trailingIcon:d,hint:u,checked:f,onClick:p,...y}){const v=[typeof f=="boolean"?m("div",{class:`checkbox-primary${f?" checked":""}`,children:m("label",{})}):null,m(ze,{icon:l}),m("span",{className:"text",children:h}),typeof s=="function"?s():s,m(ze,{icon:d})];return G(t,{className:T(n,{disabled:o,active:a}),title:u,[t==="a"?"href":"data-url"]:r,[t==="a"?"target":"data-target"]:c,onClick:p,...y,...i},...v)}function Rd({component:e="div",className:t,text:n,attrs:s,children:i,style:r,onClick:o}){return G(e,{className:T(t),style:r,onClick:o,...s},n,typeof i=="function"?i():i)}function Nd({component:e="div",className:t,style:n,space:s,flex:i,attrs:r,onClick:o,children:a}){return G(e,{className:T(t),style:{width:s,height:s,flex:i,...n},onClick:o,...r},a)}function Ad({type:e,...t}){return m(Ss,{...t})}function xl({component:e="div",className:t,children:n,style:s,attrs:i}){return G(e,{className:T(t),style:s,...i},n)}const fr=class extends U{constructor(){super(...arguments),this.ref=lt()}get name(){return this.props.name??this.constructor.NAME}componentDidMount(){this.afterRender(!0)}componentDidUpdate(){this.afterRender(!1)}componentWillUnmount(){var e,t;(t=(e=this.props).beforeDestroy)==null||t.call(e,{menu:this})}afterRender(e){var t,n;(n=(t=this.props).afterRender)==null||n.call(t,{menu:this,firstRender:e})}handleItemClick(e,t,n,s){n&&n.call(s.target,s,e,t);const{onClickItem:i}=this.props;i&&i({menu:this,item:e,index:t,event:s})}beforeRender(){var n;const e={...this.props},t=(n=e.beforeRender)==null?void 0:n.call(e,{menu:this,options:e});return t&&Object.assign(e,t),e}getItemRenderProps(e,t,n){const{commonItemProps:s,onClickItem:i}=e,r={...t};return s&&Object.assign(r,s[t.type||"item"]),(i||t.onClick)&&(r.onClick=this.handleItemClick.bind(this,r,n,t.onClick)),r.className=T(r.className),r}renderItem(e,t,n){if(!t)return null;const s=this.getItemRenderProps(e,t,n),{itemRender:i}=e;if(i){if(typeof i=="object"){const p=i[t.type||"item"];if(p)return m(p,{...s})}else if(typeof i=="function"){const p=i.call(this,s,G);if(b.isValidElement(p))return p;typeof p=="object"&&Object.assign(s,p)}}const{type:r="item",component:o,key:a=n,rootAttrs:l,rootClass:h,rootStyle:c,rootChildren:d,...u}=s;if(r==="html")return m("li",{className:T("action-menu-item",`${this.name}-html`,h,u.className),...l,style:c||u.style,dangerouslySetInnerHTML:{__html:u.html}},a);const f=!o||typeof o=="string"?this.constructor.ItemComponents&&this.constructor.ItemComponents[r]||fr.ItemComponents[r]:o;return Object.assign(u,{type:r,component:typeof o=="string"?o:void 0}),e.checkbox&&r==="item"&&u.checked===void 0&&(u.checked=!!u.active),this.renderTypedItem(f,{className:T(h),children:d,style:c,key:a,...l},{...u,type:r,component:typeof o=="string"?o:void 0})}renderTypedItem(e,t,n){const{children:s,className:i,key:r,...o}=t;return m("li",{className:T(`${this.constructor.NAME}-item`,`${this.name}-${n.type}`,i),...o,children:[m(e,{...n}),typeof s=="function"?s():s]},r)}render(){const e=this.beforeRender(),{name:t,style:n,commonItemProps:s,className:i,items:r,children:o,itemRender:a,onClickItem:l,beforeRender:h,afterRender:c,beforeDestroy:d,...u}=e,f=this.constructor.ROOT_TAG;return m(f,{class:T(this.name,i),style:n,...u,ref:this.ref,children:[r&&r.map(this.renderItem.bind(this,e)),o]})}};let be=fr;be.ItemComponents={divider:Td,item:Sl,heading:Rd,space:Nd,custom:Ad,basic:xl},be.ROOT_TAG="menu",be.NAME="action-menu";class pr extends X{}pr.NAME="ActionMenu",pr.Component=be;function Ld({items:e,show:t,level:n,...s}){return m(Sl,{...s})}var El=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},dt=(e,t,n)=>(El(e,t,"read from private field"),n?n.call(e):t.get(e)),gr=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Pd=(e,t,n,s)=>(El(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ts,Wt,Cn;let Rs=class extends be{constructor(t){super(t),gr(this,Ts,new Set),gr(this,Wt,void 0),gr(this,Cn,(n,s,i)=>{g(i.target).closest(".not-nested-toggle").length||(this.toggleNestedMenu(n,s),i.preventDefault())}),Pd(this,Wt,t.nestedShow===void 0),dt(this,Wt)&&(this.state={nestedShow:t.defaultNestedShow??{}})}get nestedTrigger(){return this.props.nestedTrigger}beforeRender(){const t=super.beforeRender(),{nestedShow:n,nestedTrigger:s,defaultNestedShow:i,controlledMenu:r,indent:o,...a}=t;return typeof a.items=="function"&&(a.items=a.items(this)),!r&&o&&(a.style=Object.assign({[`--${this.name}-indent`]:`${o}px`},a.style)),a}getNestedMenuProps(t){const{name:n,controlledMenu:s,nestedShow:i,beforeDestroy:r,beforeRender:o,itemRender:a,onClickItem:l,afterRender:h,commonItemProps:c,level:d}=this.props;return{items:t,name:n,nestedShow:dt(this,Wt)?this.state.nestedShow:i,nestedTrigger:this.nestedTrigger,controlledMenu:s||this,commonItemProps:c,onClickItem:l,afterRender:h,beforeRender:o,beforeDestroy:r,itemRender:a,level:(d||0)+1}}renderNestedMenu(t){let{items:n}=t;if(!n||(typeof n=="function"&&(n=n(t,this)),!n.length))return;const s=this.constructor,i=this.getNestedMenuProps(n);return m(s,{...i,"data-level":i.level})}isNestedItem(t){return(!t.type||t.type==="item")&&!!t.items}renderToggleIcon(t,n){}getItemRenderProps(t,n,s){const i=super.getItemRenderProps(t,n,s);if(i.level=t.level||0,!this.isNestedItem(i))return i;const r=i.key??i.id??`${t.level||0}:${s}`;dt(this,Ts).add(r);const o=this.isNestedMenuShow(r);if(o&&(i.rootChildren=[i.rootChildren,this.renderNestedMenu(n)]),this.nestedTrigger==="hover")i.rootAttrs={...i.rootAttrs,onMouseEnter:dt(this,Cn).bind(this,r,!0),onMouseLeave:dt(this,Cn).bind(this,r,!1)};else if(this.nestedTrigger==="click"){const{onClick:l}=i;i.onClick=h=>{dt(this,Cn).call(this,r,void 0,h),l==null||l(h)}}const a=this.renderToggleIcon(o,i);return a&&(i.children=[i.children,a]),i.show=o,i.rootClass=[i.rootClass,"has-nested-menu",o?"show":""],i}isNestedMenuShow(t){const n=dt(this,Wt)?this.state.nestedShow:this.props.nestedShow;return n&&typeof n=="object"?n[t]:!!n}toggleNestedMenu(t,n){const{controlledMenu:s}=this.props;if(s)return s.toggleNestedMenu(t,n);if(!dt(this,Wt))return!1;let{nestedShow:i={}}=this.state;if(typeof i=="boolean"&&(i===!0?i=[...dt(this,Ts).values()].reduce((r,o)=>(r[o]=!0,r),{}):i={}),n===void 0)n=!i[t];else if(!!i[t]==!!n)return!1;return n?i[t]=n:delete i[t],this.setState({nestedShow:{...i}}),!0}showNestedMenu(t){return this.toggleNestedMenu(t,!0)}hideNestedMenu(t){return this.toggleNestedMenu(t,!1)}showAllNestedMenu(){dt(this,Wt)&&this.setState({nestedShow:!0})}hideAllNestedMenu(){dt(this,Wt)&&this.setState({nestedShow:!1})}};Ts=new WeakMap,Wt=new WeakMap,Cn=new WeakMap,Rs.ItemComponents={item:Ld};class mr extends X{}mr.NAME="ActionMenuNested",mr.Component=Rs;const kf="",Sf="",xf="",Ef="",Mf="",Tf="",Rf="",Nf="",Af="",Lf="",Pf="",Df="",Wf="";let Ns=class extends Rs{get nestedTrigger(){return this.props.nestedTrigger||"click"}get menuName(){return"menu-nested"}beforeRender(){const t=super.beforeRender();let{hasIcons:n}=t;return n===void 0&&(n=t.items.some(s=>s.icon)),t.className=T(t.className,this.menuName,{"has-icons":n,"has-nested-items":t.items.some(s=>this.isNestedItem(s)),"menu-popup":t.popup}),t}renderToggleIcon(t){return m("span",{class:`${this.name}-toggle-icon caret-${t?"down":"right"}`})}};Ns.NAME="menu";class yr extends X{}yr.NAME="Menu",yr.Component=Ns;const If="";class It extends U{render(){const{component:t,type:n,btnType:s,size:i,className:r,children:o,url:a,target:l,disabled:h,active:c,loading:d,loadingIcon:u,loadingText:f,icon:p,text:y,trailingIcon:v,caret:w,square:_,hint:k,...E}=this.props,S=t||(a?"a":"button"),R=y==null||typeof y=="string"&&!y.length||d&&!f,A=w&&R&&!p&&!v&&!o&&!d;return G(S,{className:T("btn",n,r,{"btn-caret":A,disabled:h||d,active:c,loading:d,square:_===void 0?!A&&!o&&R:_},i?`size-${i}`:""),title:k,[S==="a"?"href":"data-url"]:a,[S==="a"?"target":"data-target"]:l,type:S==="button"?s:void 0,...E},m(ze,{icon:d?`icon ${u||"icon-spinner-snake"} spin`:p}),R?null:m("span",{className:"text",children:d?f:y}),d?null:o,d?null:typeof v=="string"?m("i",{class:`icon ${v}`}):v,d?null:w?m("span",{className:typeof w=="string"?`caret-${w}`:"caret"}):null)}}const Of="",Hf="";function Dd({key:e,type:t,btnType:n,...s}){return m(It,{type:n,...s})}const Bf="";function kn(e){return e.split("-")[1]}function wr(e){return e==="y"?"height":"width"}function $e(e){return e.split("-")[0]}function Sn(e){return["top","bottom"].includes($e(e))?"x":"y"}function Ml(e,t,n){let{reference:s,floating:i}=e;const r=s.x+s.width/2-i.width/2,o=s.y+s.height/2-i.height/2,a=Sn(t),l=wr(a),h=s[l]/2-i[l]/2,c=a==="x";let d;switch($e(t)){case"top":d={x:r,y:s.y-i.height};break;case"bottom":d={x:r,y:s.y+s.height};break;case"right":d={x:s.x+s.width,y:o};break;case"left":d={x:s.x-i.width,y:o};break;default:d={x:s.x,y:s.y}}switch(kn(t)){case"start":d[a]-=h*(n&&c?-1:1);break;case"end":d[a]+=h*(n&&c?-1:1)}return d}const Wd=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Ml(h,s,l),u=s,f={},p=0;for(let y=0;y<a.length;y++){const{name:v,fn:w}=a[y],{x:_,y:k,data:E,reset:S}=await w({x:c,y:d,initialPlacement:s,placement:u,strategy:i,middlewareData:f,rects:h,platform:o,elements:{reference:e,floating:t}});c=_??c,d=k??d,f={...f,[v]:{...f[v],...E}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(u=S.placement),S.rects&&(h=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:d}=Ml(h,u,l)),y=-1)}return{x:c,y:d,placement:u,strategy:i,middlewareData:f}};function xn(e,t){return typeof e=="function"?e(t):e}function Tl(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function As(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Rl(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:r,rects:o,elements:a,strategy:l}=e,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:u=!1,padding:f=0}=xn(t,e),p=Tl(f),y=a[u?d==="floating"?"reference":"floating":d],v=As(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),w=d==="floating"?{...o.floating,x:s,y:i}:o.reference,_=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),k=await(r.isElement==null?void 0:r.isElement(_))&&await(r.getScale==null?void 0:r.getScale(_))||{x:1,y:1},E=As(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:_,strategy:l}):w);return{top:(v.top-E.top+p.top)/k.y,bottom:(E.bottom-v.bottom+p.bottom)/k.y,left:(v.left-E.left+p.left)/k.x,right:(E.right-v.right+p.right)/k.x}}const vr=Math.min,Id=Math.max;function _r(e,t,n){return Id(e,vr(t,n))}const br=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:r,platform:o,elements:a}=t,{element:l,padding:h=0}=xn(e,t)||{};if(l==null)return{};const c=Tl(h),d={x:n,y:s},u=Sn(i),f=wr(u),p=await o.getDimensions(l),y=u==="y",v=y?"top":"left",w=y?"bottom":"right",_=y?"clientHeight":"clientWidth",k=r.reference[f]+r.reference[u]-d[u]-r.floating[f],E=d[u]-r.reference[u],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let R=S?S[_]:0;R&&await(o.isElement==null?void 0:o.isElement(S))||(R=a.floating[_]||r.floating[f]);const A=k/2-E/2,L=R/2-p[f]/2-1,H=vr(c[v],L),$=vr(c[w],L),N=H,I=R-p[f]-$,D=R/2-p[f]/2+A,O=_r(N,D,I),W=kn(i)!=null&&D!=O&&r.reference[f]/2-(D<N?H:$)-p[f]/2<0?D<N?N-D:I-D:0;return{[u]:d[u]-W,data:{[u]:O,centerOffset:D-O+W}}}});["top","right","bottom","left"].reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Od={left:"right",right:"left",bottom:"top",top:"bottom"};function Ls(e){return e.replace(/left|right|bottom|top/g,t=>Od[t])}function Hd(e,t,n){n===void 0&&(n=!1);const s=kn(e),i=Sn(e),r=wr(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=Ls(o)),{main:o,cross:Ls(o)}}const Bd={start:"end",end:"start"};function $r(e){return e.replace(/start|end/g,t=>Bd[t])}const Ps=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:s,middlewareData:i,rects:r,initialPlacement:o,platform:a,elements:l}=t,{mainAxis:h=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...y}=xn(e,t),v=$e(s),w=$e(o)===o,_=await(a.isRTL==null?void 0:a.isRTL(l.floating)),k=d||(w||!p?[Ls(o)]:function(N){const I=Ls(N);return[$r(N),I,$r(I)]}(o));d||f==="none"||k.push(...function(N,I,D,O){const W=kn(N);let q=function(bt,Zt,Bi){const us=["left","right"],zi=["right","left"],_a=["top","bottom"],bf=["bottom","top"];switch(bt){case"top":case"bottom":return Bi?Zt?zi:us:Zt?us:zi;case"left":case"right":return Zt?_a:bf;default:return[]}}($e(N),D==="start",O);return W&&(q=q.map(bt=>bt+"-"+W),I&&(q=q.concat(q.map($r)))),q}(o,p,f,_));const E=[o,...k],S=await Rl(t,y),R=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&R.push(S[v]),c){const{main:N,cross:I}=Hd(s,r,_);R.push(S[N],S[I])}if(A=[...A,{placement:s,overflows:R}],!R.every(N=>N<=0)){var L,H;const N=(((L=i.flip)==null?void 0:L.index)||0)+1,I=E[N];if(I)return{data:{index:N,overflows:A},reset:{placement:I}};let D=(H=A.filter(O=>O.overflows[0]<=0).sort((O,W)=>O.overflows[1]-W.overflows[1])[0])==null?void 0:H.placement;if(!D)switch(u){case"bestFit":{var $;const O=($=A.map(W=>[W.placement,W.overflows.filter(q=>q>0).reduce((q,bt)=>q+bt,0)]).sort((W,q)=>W[1]-q[1])[0])==null?void 0:$[0];O&&(D=O);break}case"initialPlacement":D=o}if(s!==D)return{reset:{placement:D}}}return{}}}},Cr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:s}=t,i=await async function(r,o){const{placement:a,platform:l,elements:h}=r,c=await(l.isRTL==null?void 0:l.isRTL(h.floating)),d=$e(a),u=kn(a),f=Sn(a)==="x",p=["left","top"].includes(d)?-1:1,y=c&&f?-1:1,v=xn(o,r);let{mainAxis:w,crossAxis:_,alignmentAxis:k}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return u&&typeof k=="number"&&(_=u==="end"?-1*k:k),f?{x:_*y,y:w*p}:{x:w*p,y:_*y}}(t,e);return{x:n+i.x,y:s+i.y,data:i}}}};function zd(e){return e==="x"?"y":"x"}const kr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:w,y:_}=v;return{x:w,y:_}}},...l}=xn(e,t),h={x:n,y:s},c=await Rl(t,l),d=Sn($e(i)),u=zd(d);let f=h[d],p=h[u];if(r){const v=d==="y"?"bottom":"right";f=_r(f+c[d==="y"?"top":"left"],f,f-c[v])}if(o){const v=u==="y"?"bottom":"right";p=_r(p+c[u==="y"?"top":"left"],p,p-c[v])}const y=a.fn({...t,[d]:f,[u]:p});return{...y,data:{x:y.x-n,y:y.y-s}}}}};function ct(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ut(e){return ct(e).getComputedStyle(e)}function Nl(e){return e instanceof ct(e).Node}function se(e){return Nl(e)?(e.nodeName||"").toLowerCase():"#document"}function ft(e){return e instanceof ct(e).HTMLElement}function Ot(e){return e instanceof ct(e).Element}function Al(e){return typeof ShadowRoot<"u"&&(e instanceof ct(e).ShadowRoot||e instanceof ShadowRoot)}function En(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=ut(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function Fd(e){return["table","td","th"].includes(se(e))}function Sr(e){const t=xr(),n=ut(e);return n.transform!=="none"||n.perspective!=="none"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function xr(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ds(e){return["html","body","#document"].includes(se(e))}const Ll=Math.min,Mn=Math.max,Ws=Math.round,Is=Math.floor,Ce=e=>({x:e,y:e});function Pl(e){const t=ut(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=ft(e),r=i?e.offsetWidth:n,o=i?e.offsetHeight:s,a=Ws(n)!==r||Ws(s)!==o;return a&&(n=r,s=o),{width:n,height:s,$:a}}function Er(e){return Ot(e)?e:e.contextElement}function Ve(e){const t=Er(e);if(!ft(t))return Ce(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:r}=Pl(t);let o=(r?Ws(n.width):n.width)/s,a=(r?Ws(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const Dl=Ce(0);function Wl(e,t,n){var s,i;if(t===void 0&&(t=!0),!xr())return Dl;const r=e?ct(e):window;return!n||t&&n!==r?Dl:{x:((s=r.visualViewport)==null?void 0:s.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function ke(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=Er(e);let o=Ce(1);t&&(s?Ot(s)&&(o=Ve(s)):o=Ve(e));const a=Wl(r,n,s);let l=(i.left+a.x)/o.x,h=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(r){const u=ct(r),f=s&&Ot(s)?ct(s):s;let p=u.frameElement;for(;p&&s&&f!==u;){const y=Ve(p),v=p.getBoundingClientRect(),w=getComputedStyle(p),_=v.left+(p.clientLeft+parseFloat(w.paddingLeft))*y.x,k=v.top+(p.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,h*=y.y,c*=y.x,d*=y.y,l+=_,h+=k,p=ct(p).frameElement}}return As({width:c,height:d,x:l,y:h})}function Ht(e){return((Nl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Os(e){return Ot(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Il(e){return ke(Ht(e)).left+Os(e).scrollLeft}function qe(e){if(se(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Al(e)&&e.host||Ht(e);return Al(t)?t.host:t}function Ol(e){const t=qe(e);return Ds(t)?e.ownerDocument?e.ownerDocument.body:e.body:ft(t)&&En(t)?t:Ol(t)}function Hs(e,t){var n;t===void 0&&(t=[]);const s=Ol(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),r=ct(s);return i?t.concat(r,r.visualViewport||[],En(s)?s:[]):t.concat(s,Hs(s))}function Hl(e,t,n){let s;if(t==="viewport")s=function(i,r){const o=ct(i),a=Ht(i),l=o.visualViewport;let h=a.clientWidth,c=a.clientHeight,d=0,u=0;if(l){h=l.width,c=l.height;const f=xr();(!f||f&&r==="fixed")&&(d=l.offsetLeft,u=l.offsetTop)}return{width:h,height:c,x:d,y:u}}(e,n);else if(t==="document")s=function(i){const r=Ht(i),o=Os(i),a=i.ownerDocument.body,l=Mn(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),h=Mn(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let c=-o.scrollLeft+Il(i);const d=-o.scrollTop;return ut(a).direction==="rtl"&&(c+=Mn(r.clientWidth,a.clientWidth)-l),{width:l,height:h,x:c,y:d}}(Ht(e));else if(Ot(t))s=function(i,r){const o=ke(i,!0,r==="fixed"),a=o.top+i.clientTop,l=o.left+i.clientLeft,h=ft(i)?Ve(i):Ce(1);return{width:i.clientWidth*h.x,height:i.clientHeight*h.y,x:l*h.x,y:a*h.y}}(t,n);else{const i=Wl(e);s={...t,x:t.x-i.x,y:t.y-i.y}}return As(s)}function Bl(e,t){const n=qe(e);return!(n===t||!Ot(n)||Ds(n))&&(ut(n).position==="fixed"||Bl(n,t))}function zl(e,t){return ft(e)&&ut(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Fl(e,t){const n=ct(e);if(!ft(e))return n;let s=zl(e,t);for(;s&&Fd(s)&&ut(s).position==="static";)s=zl(s,t);return s&&(se(s)==="html"||se(s)==="body"&&ut(s).position==="static"&&!Sr(s))?n:s||function(i){let r=qe(i);for(;ft(r)&&!Ds(r);){if(Sr(r))return r;r=qe(r)}return null}(e)||n}function Ud(e,t,n){const s=ft(t),i=Ht(t),r=n==="fixed",o=ke(e,!0,r,t);let a={scrollLeft:0,scrollTop:0};const l=Ce(0);if(s||!s&&!r)if((se(t)!=="body"||En(i))&&(a=Os(t)),ft(t)){const h=ke(t,!0,r,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Il(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}const Vd={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const r=n==="clippingAncestors"?function(h,c){const d=c.get(h);if(d)return d;let u=Hs(h).filter(v=>Ot(v)&&se(v)!=="body"),f=null;const p=ut(h).position==="fixed";let y=p?qe(h):h;for(;Ot(y)&&!Ds(y);){const v=ut(y),w=Sr(y);w||v.position!=="fixed"||(f=null),(p?!w&&!f:!w&&v.position==="static"&&f&&["absolute","fixed"].includes(f.position)||En(y)&&!w&&Bl(h,y))?u=u.filter(_=>_!==y):f=v,y=qe(y)}return c.set(h,u),u}(t,this._c):[].concat(n),o=[...r,s],a=o[0],l=o.reduce((h,c)=>{const d=Hl(t,c,i);return h.top=Mn(d.top,h.top),h.right=Ll(d.right,h.right),h.bottom=Ll(d.bottom,h.bottom),h.left=Mn(d.left,h.left),h},Hl(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:s}=e;const i=ft(n),r=Ht(n);if(n===r)return t;let o={scrollLeft:0,scrollTop:0},a=Ce(1);const l=Ce(0);if((i||!i&&s!=="fixed")&&((se(n)!=="body"||En(r))&&(o=Os(n)),ft(n))){const h=ke(n);a=Ve(n),l.x=h.x+n.clientLeft,l.y=h.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-o.scrollLeft*a.x+l.x,y:t.y*a.y-o.scrollTop*a.y+l.y}},isElement:Ot,getDimensions:function(e){return Pl(e)},getOffsetParent:Fl,getDocumentElement:Ht,getScale:Ve,async getElementRects(e){let{reference:t,floating:n,strategy:s}=e;const i=this.getOffsetParent||Fl,r=this.getDimensions;return{reference:Ud(t,await i(n),s),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ut(e).direction==="rtl"};function Mr(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=!0,layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,h=Er(e),c=i||r?[...h?Hs(h):[],...Hs(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});const d=h&&a?function(y,v){let w,_=null;const k=Ht(y);function E(){clearTimeout(w),_&&_.disconnect(),_=null}return function S(R,A){R===void 0&&(R=!1),A===void 0&&(A=1),E();const{left:L,top:H,width:$,height:N}=y.getBoundingClientRect();if(R||v(),!$||!N)return;const I=Is(H),D=Is(k.clientWidth-(L+$)),O=Is(k.clientHeight-(H+N)),W=Is(L);let q=!0;_=new IntersectionObserver(bt=>{const Zt=bt[0].intersectionRatio;if(Zt!==A){if(!q)return S();Zt===0?w=setTimeout(()=>{S(!1,1e-7)},100):S(!1,Zt)}q=!1},{rootMargin:-I+"px "+-D+"px "+-O+"px "+-W+"px",threshold:A}),_.observe(y)}(!0),E}(h,n):null;let u,f=null;o&&(f=new ResizeObserver(n),h&&!l&&f.observe(h),f.observe(t));let p=l?ke(e):null;return l&&function y(){const v=ke(e);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,u=requestAnimationFrame(y)}(),n(),()=>{c.forEach(y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),d&&d(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(u)}}const Bs=(e,t,n)=>{const s=new Map,i={platform:Vd,...n},r={...i.platform,_c:s};return Wd(e,t,{...i,platform:r})},Ff="",Uf="",Vf="";let qd=class extends Ns{get nestedTrigger(){return this.props.nestedTrigger||"hover"}get name(){return"menu"}get menuName(){return"menu-context"}getPopperOptions(){return{middleware:[Ps()],placement:"right-start"}}getPopperElement(){var t;return(t=this.ref.current)==null?void 0:t.parentElement}createPopper(){const t=this.getPopperOptions();this.ref.current&&Bs(this.getPopperElement(),this.ref.current,t).then(({x:n,y:s})=>{Object.assign(this.ref.current.style,{left:`${n}px`,top:`${s}px`,position:"absolute"})})}afterRender(t){super.afterRender(t),this.props.controlledMenu&&this.createPopper()}beforeRender(){const t=super.beforeRender();return t.className=T(t.className,"menu-popup"),t}renderToggleIcon(){return m("span",{class:"contextmenu-toggle-icon caret-right"})}};var Tr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Bt=(e,t,n)=>(Tr(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},zs=(e,t,n,s)=>(Tr(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ul=(e,t,n)=>(Tr(e,t,"access private method"),n),ie,Tn,Fs,Us,Rr,Vl,Nr,ql;const Ar="show",Gd='[data-toggle="contextmenu"]';class nt extends ot{constructor(){super(...arguments),Ge(this,Rr),Ge(this,Nr),Ge(this,ie,void 0),Ge(this,Tn,void 0),Ge(this,Fs,void 0),Ge(this,Us,void 0)}get isShown(){return Bt(this,ie)&&g(Bt(this,ie)).hasClass(Ar)}get menu(){return Bt(this,ie)||this.ensureMenu()}get trigger(){return Bt(this,Fs)||this.element}get isDynamic(){return this.options.items||this.options.menu}init(){const{$element:t}=this;!t.is("body")&&!t.attr("data-toggle")&&t.attr("data-toggle",this.constructor.NAME.toLowerCase())}afterInit(){super.afterInit(),this.on("hidden",()=>{this.options.destoryOnHide&&this.isDynamic&&this.destroy()})}show(t){return this.isShown||(zs(this,Fs,t),this.emit("show",this.trigger).defaultPrevented)||this.isDynamic&&!this.renderMenu()?!1:(g(this.menu).addClass(Ar),this.createPopper(),this.emit("shown"),!0)}hide(){var t;return!this.isShown||((t=Bt(this,Us))==null||t.call(this),this.emit("hide").defaultPrevented)?!1:(g(Bt(this,ie)).removeClass(Ar),this.emit("hidden"),!0)}toggle(t){return this.isShown?this.hide():this.show(t)}destroy(){var t;super.destroy(),this.hide(),(t=Bt(this,ie))==null||t.remove()}ensureMenu(){const{$element:t}=this,n=this.constructor.MENU_CLASS;let s;if(this.isDynamic)s=g(`<div class="${n}" />`).appendTo("body");else if(t.length){const i=t.attr("href")||t.dataset("target")||"";if(i[0]==="#"&&(s=g(document).find(i)),!(s!=null&&s.length)){const r=t.next();r.hasClass(n)?s=r:s=t.parent().find(`.${n}`)}s&&s.addClass("menu-popup")}if(!(s!=null&&s.length))throw new Error("[ZUI] ContextMenu: Cannot find menu element.");return s.css({width:"max-content",position:this.options.strategy,top:0,left:0}),zs(this,ie,s[0]),s[0]}getPopperOptions(){var i;const{placement:t,strategy:n}=this.options,s={middleware:[],placement:t,strategy:n};return this.options.flip&&((i=s.middleware)==null||i.push(Ps())),s}createPopper(){const t=this.getPopperOptions(),n=this.getPopperElement(),s=this.menu;zs(this,Us,Mr(n,s,()=>{Bs(n,s,t).then(({x:i,y:r,middlewareData:o,placement:a})=>{g(s).css({left:`${i}px`,top:`${r}px`});const l=a.split("-")[0],h=Ul(this,Rr,Vl).call(this,l);if(o.arrow&&this.arrowEl){const{x:c,y:d}=o.arrow;g(this.arrowEl).css({left:c!=null?`${c}px`:"",top:d!=null?`${d}px`:"",[h]:`${-this.arrowEl.offsetWidth/2}px`,background:"inherit",border:"inherit",...Ul(this,Nr,ql).call(this,l)})}})}))}getMenuOptions(){const{menu:t,items:n}=this.options;let s=n||(t==null?void 0:t.items);if(s)return typeof s=="function"&&(s=s(this)),{nestedTrigger:"hover",...t,items:s}}renderMenu(){const t=this.getMenuOptions();return!t||this.emit("updateMenu",t,this.trigger).defaultPrevented?!1:(Be(G(qd,t),this.menu),!0)}getPopperElement(){return Bt(this,Tn)||zs(this,Tn,{getBoundingClientRect:()=>{const{trigger:t}=this;if(t instanceof MouseEvent){const{clientX:n,clientY:s}=t;return{width:0,height:0,top:s,right:n,bottom:s,left:n}}return t instanceof HTMLElement?t.getBoundingClientRect():t},contextElement:this.element}),Bt(this,Tn)}static clear(t){var a,l;t instanceof Event&&(t={event:t});const{event:n,exclude:s,ignoreSelector:i=".not-hide-menu"}=t||{};if(n&&i&&((l=(a=n.target).closest)!=null&&l.call(a,i))||n&&n.button===2)return;const r=this.getAll(),o=new Set(s||[]);for(const h of r)o.has(h.element)||h.hide()}static show(t){const{event:n,...s}=t,i=this.ensure(document.body);return i.setOptions(s),i.show(n),n instanceof Event&&n.stopPropagation(),i}static hide(t){const n=this.query(t);return n==null||n.hide(),n}}ie=new WeakMap,Tn=new WeakMap,Fs=new WeakMap,Us=new WeakMap,Rr=new WeakSet,Vl=function(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]},Nr=new WeakSet,ql=function(e){const t={bottom:"Right",top:"Left",left:"Bottom",right:"Top"};return{[`border${e[0].toUpperCase()}${e.substring(1)}Style`]:"none",[`border${t[e]}Style`]:"none"}},nt.MENU_CLASS="contextmenu",nt.NAME="ContextMenu",nt.MULTI_INSTANCE=!0,nt.DEFAULT={placement:"bottom-start",strategy:"fixed",flip:!0,preventOverflow:!0,destoryOnHide:!0},g(document).on(`contextmenu${nt.NAMESPACE}`,e=>{const t=g(e.target);if(t.closest(`.${nt.MENU_CLASS}`).length)return;const n=t.closest(Gd).not(":disabled,.disabled");if(n.length){const s=`${nt.KEY}:options`,i=n.data(s),r=nt.ensure(n,i);i||n.data(s,r.options),r.show(e),e.preventDefault()}}).on(`click${nt.NAMESPACE}`,nt.clear.bind(nt));const qf="";var Lr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Rn=(e,t,n)=>(Lr(e,t,"read from private field"),n?n.call(e):t.get(e)),Vs=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Pr=(e,t,n,s)=>(Lr(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),jd=(e,t,n)=>(Lr(e,t,"access private method"),n),Nn,An,qs,Dr,Gl;const jl='[data-toggle="dropdown"]',Yl=class extends nt{constructor(){super(...arguments),Vs(this,Dr),Vs(this,Nn,!1),Vs(this,An,0),this.hideLater=()=>{Rn(this,qs).call(this),Pr(this,An,window.setTimeout(this.hide.bind(this),100))},Vs(this,qs,()=>{clearTimeout(Rn(this,An)),Pr(this,An,0)})}get isHover(){return this.options.trigger==="hover"}get elementShowClass(){return`with-${this.constructor.NAME}-show`}show(e,t){(t==null?void 0:t.clearOthers)!==!1&&Yl.clear({event:t==null?void 0:t.event,exclude:[this.element]});const n=super.show(e);return n&&(!Rn(this,Nn)&&this.isHover&&jd(this,Dr,Gl).call(this),this.$element.addClass(this.elementShowClass)),n}hide(){const e=super.hide();return e&&this.$element.removeClass(this.elementShowClass),e}toggle(e,t){return this.isShown?this.hide():this.show(e,{event:e,...t})}destroy(){Rn(this,Nn)&&g(this.menu).off(this.constructor.NAMESPACE),super.destroy()}getArrowSize(){const{arrow:e}=this.options;return e?typeof e=="number"?e:8:0}getPopperOptions(){var n,s;const e=super.getPopperOptions(),t=this.getArrowSize();return t&&this.arrowEl&&((n=e.middleware)==null||n.push(Cr(t)),(s=e.middleware)==null||s.push(br({element:this.arrowEl}))),e}ensureMenu(){const e=super.ensureMenu();if(this.options.arrow){const t=this.getArrowSize(),n=g('<div class="arrow-el" />').css({position:"absolute",width:`${t}px`,height:`${t}px`,transform:"rotate(45deg)"});this.arrowEl=n[0]}return e}getMenuOptions(){const e=super.getMenuOptions();if(e&&this.options.arrow){const{afterRender:t}=e;e.afterRender=(...n)=>{this.arrowEl&&g(this.menu).find(".menu").each((s,i)=>{g(i).find(".arrow-el").length===0&&g(i).parent().hasClass("dropdown-menu")&&g(i).append(this.arrowEl)}),t==null||t(...n)}}return e}};let St=Yl;Nn=new WeakMap,An=new WeakMap,qs=new WeakMap,Dr=new WeakSet,Gl=function(){g(this.menu).on(`mouseenter${this.constructor.NAMESPACE}`,Rn(this,qs)).on(`mouseleave${this.constructor.NAMESPACE}`,this.hideLater),this.on("mouseleave",this.hideLater),Pr(this,Nn,!0)},St.MENU_CLASS="dropdown-menu",St.NAME="Dropdown",St.DEFAULT={...nt.DEFAULT,strategy:"fixed",trigger:"click"};const Gs=`${St.KEY}:options`;g(document).on("click",function(e){const t=g(e.target).closest(jl).not(":disabled,.disabled");if(!t.length){St.clear({event:e});return}const n=t.data(Gs),s=St.ensure(t,n);n||t.data(Gs,s.options),s.options.trigger==="click"&&s.toggle()}).on("mouseover",function(e){const t=g(e.target).closest(jl);if(!t.length)return;const n=t.data(Gs),s=St.ensure(t,n);n||t.data(Gs,s.options),s.isHover&&s.show()});let js=0;window.addEventListener("scroll",e=>{js&&clearTimeout(js),js=window.setTimeout(()=>{St.clear({event:e}),js=0},50)},!0);class Yd extends U{constructor(n){var s;super(n);P(this,is,void 0);P(this,hn,lt());this.state={placement:((s=n.dropdown)==null?void 0:s.placement)||"",show:!1}}get ref(){return x(this,hn)}get triggerElement(){return x(this,hn).current}componentDidMount(){const{modifiers:n=[],...s}=this.props.dropdown||{};n.push({name:"dropdown-trigger",enabled:!0,phase:"beforeMain",fn:({state:i})=>{var o;const r=((o=i.placement)==null?void 0:o.split("-").shift())||"";this.setState({placement:r})}}),z(this,is,St.ensure(this.triggerElement,{...s,modifiers:n,onShow:()=>{this.setState({show:!0})},onHide:()=>{this.setState({show:!0})}}))}componentWillUnmount(){var n;(n=x(this,is))==null||n.destroy()}beforeRender(){const{className:n,children:s,dropdown:i,...r}=this.props;return{className:T("dropdown",n),children:typeof s=="function"?s(this.state):s,...r,"data-toggle":"dropdown","data-dropdown-placement":this.state.placement,ref:x(this,hn)}}render(){const{children:n,...s}=this.beforeRender();return m("div",{...s,children:n})}}is=new WeakMap,hn=new WeakMap;class Kd extends Yd{get triggerElement(){return this.ref.current.base}render(){var r;const{placement:t,show:n}=this.state,s=this.beforeRender();let{caret:i=!0}=s;if(i!==!1&&(n||i===!0)){const o=(n?t:(r=this.props.dropdown)==null?void 0:r.placement)||"";i=(o.includes("top")?"up":o.includes("bottom")?"down":o)||(typeof i=="string"?i:"")||"down"}return s.caret=i,m(It,{...s})}}function Kl({key:e,type:t,btnType:n,...s}){return m(Kd,{type:n,...s})}const Gf="";let Xl=class extends U{componentDidMount(){var t;(t=this.props.afterRender)==null||t.call(this,{firstRender:!0})}componentDidUpdate(){var t;(t=this.props.afterRender)==null||t.call(this,{firstRender:!1})}componentWillUnmount(){var t;(t=this.props.beforeDestroy)==null||t.call(this)}handleItemClick(t,n,s,i){s&&s.call(i.target,i);const{onClickItem:r}=this.props;r&&r.call(this,{item:t,index:n,event:i})}beforeRender(){var s;const t={...this.props},n=(s=t.beforeRender)==null?void 0:s.call(this,t);return n&&Object.assign(t,n),typeof t.items=="function"&&(t.items=t.items.call(this)),t}onRenderItem(t,n){const{key:s=n,...i}=t;return m(It,{...i},s)}renderItem(t,n,s){const{itemRender:i,btnProps:r,onClickItem:o}=t,a={key:s,...n};if(r&&Object.assign(a,r),o&&(a.onClick=this.handleItemClick.bind(this,a,s,n.onClick)),i){const l=i.call(this,a,G);if(b.isValidElement(l))return l;typeof l=="object"&&Object.assign(a,l)}return this.onRenderItem(a,s)}render(){const t=this.beforeRender(),{className:n,items:s,size:i,type:r,btnProps:o,children:a,itemRender:l,onClickItem:h,beforeRender:c,afterRender:d,beforeDestroy:u,...f}=t;return m("div",{className:T("btn-group",i?`size-${i}`:"",n),...f,children:[s&&s.map(this.renderItem.bind(this,t)),a]})}};function Xd({key:e,type:t,btnType:n,...s}){return m(Xl,{type:n,...s})}let pt=class extends be{beforeRender(){const{gap:t,btnProps:n,wrap:s,...i}=super.beforeRender();return i.className=T(i.className,s?"flex-wrap":"",typeof t=="number"?`gap-${t}`:""),typeof t=="string"&&(i.style?i.style.gap=t:i.style={gap:t}),i}isBtnItem(t){return t==="item"||t==="dropdown"}renderTypedItem(t,n,s){const{type:i}=s,r=this.props.btnProps,o=this.isBtnItem(i)?{btnType:"ghost",...r}:{},a={...n,...o,...s,className:T(`${this.name}-${i}`,n.className,o.className,s.className),style:Object.assign({},n.style,o.style,s.style)};return i==="btn-group"&&(a.btnProps=r),m(t,{...a})}};pt.ItemComponents={item:Dd,dropdown:Kl,"btn-group":Xd},pt.ROOT_TAG="nav",pt.NAME="toolbar",pt.defaultProps={btnProps:{btnType:"ghost"}};function Jd({className:e,style:t,actions:n,heading:s,content:i,contentClass:r,children:o,close:a,onClose:l,icon:h,...c}){let d;a===!0?d=m(It,{className:"alert-close btn ghost",square:!0,onClick:l,children:m("span",{class:"close"})}):b.isValidElement(a)?d=a:typeof a=="object"&&(d=m(It,{...a,onClick:l}));const u=b.isValidElement(n)?n:n?m(pt,{...n}):null;return m("div",{className:T("alert",e),style:t,...c,children:[b.isValidElement(h)?h:typeof h=="string"?m("i",{className:`icon ${h}`}):null,b.isValidElement(i)?i:m("div",{className:T("alert-content",r),children:[b.isValidElement(s)?s:s&&m("div",{className:"alert-heading",children:s}),m("div",{className:"alert-text",children:i}),s?u:null]}),s?null:u,d,o]})}function Zd(e){if(e==="center")return"fade-from-center";if(e){if(e.includes("top"))return"fade-from-top";if(e.includes("bottom"))return"fade-from-bottom"}return"fade"}let Qd=class extends U{componentDidMount(){var t;(t=this.props.afterRender)==null||t.call(this,{firstRender:!0})}componentDidUpdate(){var t;(t=this.props.afterRender)==null||t.call(this,{firstRender:!1})}componentWillUnmount(){var t;(t=this.props.beforeDestroy)==null||t.call(this)}render(){const{afterRender:t,beforeDestroy:n,margin:s,type:i,placement:r,animation:o,show:a,className:l,time:h,...c}=this.props;return m(Jd,{className:T("messager",l,i,o===!0?Zd(r):o,a?"in":""),...c})}};var tu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},eu=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ln=(e,t,n)=>(tu(e,t,"access private method"),n),Se,je;class Wr extends X{constructor(){super(...arguments),eu(this,Se),this._show=!1,this._showTimer=0,this._afterRender=({firstRender:t})=>{t&&this.show();const{margin:n}=this.options;n&&this.$element.css("margin",`${n}px`)}}get isShown(){return this._show}afterInit(){this.on("click",t=>{g(t.target).closest('.alert-close,[data-dismiss="messager"]').length&&(t.preventDefault(),t.stopPropagation(),this.hide())})}setOptions(t){return t=super.setOptions(t),{...t,show:this._show,afterRender:this._afterRender}}show(){this.render(),this.emit("show"),Ln(this,Se,je).call(this,()=>{this._show=!0,this.render(),Ln(this,Se,je).call(this,()=>{this.emit("shown");const{time:t}=this.options;t&&Ln(this,Se,je).call(this,()=>this.hide(),t)})},100)}hide(){this._show&&Ln(this,Se,je).call(this,()=>{this.emit("hide"),this._show=!1,this.render(),Ln(this,Se,je).call(this,()=>{this.emit("hidden")})},50)}}Se=new WeakSet,je=function(e,t=200){this._showTimer&&clearTimeout(this._showTimer),this._showTimer=window.setTimeout(()=>{e(),this._showTimer=0},t)},Wr.NAME="MessagerItem",Wr.Component=Qd;var Ir=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},xe=(e,t,n)=>(Ir(e,t,"read from private field"),n?n.call(e):t.get(e)),Ys=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ks=(e,t,n,s)=>(Ir(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Jl=(e,t,n)=>(Ir(e,t,"access private method"),n),Ye,zt,Or,Zl,Hr,Ql;const tc=class extends ot{constructor(){super(...arguments),Ys(this,Or),Ys(this,Hr),Ys(this,Ye,void 0),Ys(this,zt,void 0)}get isShown(){var e;return!!((e=xe(this,zt))!=null&&e.isShown)}show(e){this.setOptions(e),Jl(this,Or,Zl).call(this).show()}hide(){var e;(e=xe(this,zt))==null||e.hide()}static show(e){typeof e=="string"&&(e={content:e});const{container:t,...n}=e,s=tc.ensure(t||"body");return s.setOptions(n),s.hide(),s.show(),s}};let Xs=tc;Ye=new WeakMap,zt=new WeakMap,Or=new WeakSet,Zl=function(){if(xe(this,zt))xe(this,zt).setOptions(this.options);else{const e=Jl(this,Hr,Ql).call(this),t=new Wr(e,this.options);t.on("hidden",()=>{t.destroy(),e==null||e.remove(),Ks(this,Ye,void 0),Ks(this,zt,void 0)}),Ks(this,zt,t)}return xe(this,zt)},Hr=new WeakSet,Ql=function(){if(xe(this,Ye))return xe(this,Ye);const{placement:e="top"}=this.options;let t=this.$element.find(`.messagers-${e}`);t.length||(t=g(`<div class="messagers messagers-${e}"></div>`).appendTo(this.$element));let n=t.find(`#messager-${this.gid}`);return n.length||(n=g(`<div class="messager-holder" id="messager-${this.gid}"></div>`).appendTo(t),Ks(this,Ye,n[0])),n[0]},Xs.NAME="messager",Xs.DEFAULT={placement:"top",animation:!0,close:!0,margin:6,time:5e3},g(document).on("to-show.messager.zui",(e,t)=>{t&&Xs.show(t)});const jf="",Yf="",Kf="",Xf="";let Br=class extends U{render(){const{percent:t,circleSize:n,circleBorderSize:s,circleBgColor:i,circleColor:r}=this.props,o=(n-s)/2,a=n/2;return m("svg",{width:n,height:n,class:"progress-circle",children:[m("circle",{cx:a,cy:a,r:o,stroke:i,"stroke-width":s}),m("circle",{cx:a,cy:a,r:o,stroke:r,"stroke-dasharray":Math.PI*o*2,"stroke-dashoffset":Math.PI*o*2*(100-t)/100,"stroke-width":s}),m("text",{x:a,y:a+s/4,"dominant-baseline":"middle",style:{fontSize:`${o}px`},children:Math.round(t)})]})}};Br.NAME="zui.progress-circle",Br.defaultProps={circleSize:24,circleBorderSize:2,circleBgColor:"var(--progress-circle-bg)",circleColor:"var(--progress-circle-bar-color)"};class zr extends X{}zr.NAME="ProgressCircle",zr.Component=Br;const Jf="",Zf="";let nu=class extends U{constructor(){super(...arguments),this.state={checked:!1},this.handleOnClick=()=>{this.setState({checked:!this.state.checked})}}componentDidMount(){this.setState({checked:this.props.defaultChecked??!1})}render(){const{component:t,className:n,children:s,text:i,icon:r,surffixIcon:o,disabled:a,defaultChecked:l,onChange:h,...c}=this.props,d=this.state.checked?1:0,u=t||"div",f=typeof r=="string"?m("i",{class:`icon ${r}`}):r,p=typeof o=="string"?m("i",{class:`icon ${o}`}):o,y=[m("input",{onChange:h,type:"checkbox",value:d,checked:!!this.state.checked}),m("label",{children:[f,i,p]})];return G(u,{className:T("switch",n,{disabled:a}),onClick:this.handleOnClick,...c},...y,s)}};class Fr extends X{}Fr.NAME="Switch",Fr.Component=nu;class Ur extends X{}Ur.NAME="BtnGroup",Ur.Component=Xl;const Qf="";class ec extends ot{init(){const{multiple:t,defaultFileList:n,limitSize:s}=this.options;this.fileMap=new Map,this.renameMap=new Map,this.itemMap=new Map,this.dataTransfer=new DataTransfer,this.limitBytes=s?Xa(s):Number.MAX_VALUE,this.currentBytes=0,t||(this.options.limitCount=1),this.$element.addClass("upload"),this.initFileInputCash(),this.initUploadCash(),n&&this.addFileItem(n)}initUploadCash(){const{name:t,uploadText:n,listPosition:s,limitSize:i,btnClass:r,tipText:o,draggable:a}=this.options;this.$list=g('<div class="file-list py-1"></div>');const l=i?g(`<span class="upload-tip">${o==null?void 0:o.replace("%s",i)}</span>`):null;if(!a){this.$label=g(`<label class="btn ${r}" for="${t}">${n}</label>`);const c=s==="bottom"?[this.$label,l,this.$list]:[this.$list,this.$label,l];this.$element.append(this.$input,...c);return}this.$label=g(`<label class="draggable-area col justify-center items-center cursor-pointer block w-full h-16 border border-dashed border-gray" for="${t}"></label>`).append(`<span class="text-primary">${n}</span>`).append(l),this.bindDragEvent();const h=s==="bottom"?[this.$label,this.$list]:[this.$list,this.$label];this.$element.append(this.$input,...h)}bindDragEvent(){this.$label.on("dragover",t=>{t.preventDefault(),console.log("dragover"),this.$label.hasClass("border-primary")||(this.$label.removeClass("border-gray"),this.$label.addClass("border-primary"))}).on("dragleave",t=>{t.preventDefault(),this.$label.removeClass("border-primary"),this.$label.addClass("border-gray")}).on("drop",t=>{var s;t.preventDefault(),this.$label.removeClass("border-primary"),this.$label.addClass("border-gray");const n=Array.from(((s=t.dataTransfer)==null?void 0:s.files)??[]);console.log(t.dataTransfer.files),this.addFileItem(n)})}initFileInputCash(){const{name:t,multiple:n,accept:s,onChange:i}=this.options;this.$input=g("<input />").addClass("hidden").prop("type","file").prop("name",t).prop("id",t).prop("multiple",n).on("change",r=>{const o=r.target.files;if(!o)return;const a=[...o];this.addFileItem(a),i==null||i(a)}),s&&this.$input.prop("accept",s)}addFile(t){this.options.multiple||(this.renameMap.clear(),this.fileMap.clear(),this.dataTransfer.items.clear(),this.currentBytes=t.size),this.renameMap.set(t.name,t.name),this.fileMap.set(t.name,t),this.dataTransfer.items.add(t),this.$input.prop("files",this.dataTransfer.files),this.currentBytes+=t.size}addFileItem(t){const{multiple:n,limitCount:s}=this.options;if(n){for(const o of t){if(console.log(this.limitBytes,this.currentBytes,o.size),s&&this.fileMap.size>=s||this.currentBytes+o.size>this.limitBytes)return;const a=this.createFileItem(o);this.itemMap.set(o.name,a),this.$list.append(a)}return}const i=t[0];if(i.size>this.limitBytes)return;const r=this.createFileItem(i);this.itemMap.clear(),this.itemMap.set(i.name,r),this.$list.empty().append(r)}deleteFileItem(t){var i,r,o;const n=this.renameMap.get(t)??t;this.renameMap.delete(t);const s=this.fileMap.get(n);s&&((i=this.itemMap.get(s.name))==null||i.remove(),this.itemMap.delete(s.name),(o=(r=this.options).onDelete)==null||o.call(r,s),this.fileMap.delete(s.name),this.currentBytes-=s.size,this.dataTransfer=new DataTransfer,this.fileMap.forEach(a=>this.dataTransfer.items.add(a)),this.$input.prop("files",this.dataTransfer.files))}renameFileItem(t,n){var r,o;const s=this.renameMap.get(t.name);this.renameMap.set(t.name,n),s&&(t=this.fileMap.get(s)??t);const i=this.itemMap.get(t.name);i&&(this.itemMap.set(n,i).delete(t.name),(o=(r=this.options).onRename)==null||o.call(r,n,t.name),this.fileMap.delete(t.name),this.dataTransfer=new DataTransfer,t=new File([t],n),this.fileMap.set(n,t).forEach(a=>this.dataTransfer.items.add(a)),this.$input.prop("files",this.dataTransfer.files))}createFileItem(t){const{showIcon:n}=this.options;return this.addFile(t),g('<li class="file-item my-1 flex items-center gap-2"></li>').append(n?this.fileIcon():null).append(this.createfileInfo(t)).append(this.createRenameContainer(t))}fileIcon(){const{icon:t}=this.options;return g(`<i class="icon icon-${t}"></i>`)}createfileInfo(t){const n=g(`<span class="file-name">${t.name}</span>`),s=g(`<span class="file-size text-gray">${Ka(t.size)}</span>`),i=g('<div class="file-info flex items-center gap-2"></div>').append(n).append(s),{renameBtn:r,renameText:o,deleteBtn:a,deleteText:l}=this.options;return r&&i.append(g("<span />").addClass("btn size-sm rounded-sm text-primary canvas file-action file-rename").html(o).on("click",h=>{i.addClass("hidden").closest(".file-item").find(".input-group.hidden").removeClass("hidden");const c=g(h.target).closest("li").find("input")[0];c.focus(),c.value.lastIndexOf(".")!==-1&&c.setSelectionRange(0,c.value.lastIndexOf("."))})),a&&i.append(g("<span />").html(l).addClass("btn size-sm rounded-sm text-primary canvas file-action file-delete").on("click",()=>this.deleteFileItem(n.html()))),i}createRenameContainer(t){const{confirmText:n,cancelText:s}=this.options,i=g('<div class="input-group hidden"></div>'),r=g("<input />").addClass("form-control").prop("type","text").prop("autofocus",!0).prop("defaultValue",t.name).on("keydown",h=>{h.key==="Enter"?(this.renameFileItem(t,r.val()),i.addClass("hidden").closest(".file-item").find(".file-info.hidden").removeClass("hidden").find(".file-name").html(r.val())):h.key==="Escape"&&(r.val(t.name),i.addClass("hidden").closest(".file-item").find(".file-info.hidden").removeClass("hidden"))}),o=g("<button />").addClass("btn rename-confirm-btn").prop("type","button").html(n).on("click",()=>{this.renameFileItem(t,r.val()),i.addClass("hidden").closest(".file-item").find(".file-info.hidden").removeClass("hidden").find(".file-name").html(r.val())}),a=g("<button />").prop("type","button").addClass("btn rename-cancel-btn").html(s).on("click",()=>{r.val(t.name),i.addClass("hidden").closest(".file-item").find(".file-info.hidden").removeClass("hidden")}),l=g('<div class="btn-group"></div').append(o).append(a);return i.append(r).append(l)}}ec.DEFAULT={uploadText:"上传文件",renameText:"重命名",deleteText:"删除",confirmText:"确定",cancelText:"取消",tipText:"（不超过 %s）",renameBtn:!0,deleteBtn:!0,showIcon:!0,multiple:!0,listPosition:"bottom",limitSize:!1,icon:"file-o",btnClass:"",draggable:!1};class su{constructor(t=""){P(this,Jt,void 0);typeof t=="object"?z(this,Jt,t):z(this,Jt,document.appendChild(document.createComment(t)))}on(t,n,s){x(this,Jt).addEventListener(t,n,s)}once(t,n,s){x(this,Jt).addEventListener(t,n,{once:!0,...s})}off(t,n,s){x(this,Jt).removeEventListener(t,n,s)}emit(t){return x(this,Jt).dispatchEvent(t),t}}Jt=new WeakMap;const Vr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);class qr extends su{on(t,n,s){super.on(t,n,s)}off(t,n,s){super.off(t,n,s)}once(t,n,s){super.once(t,n,s)}emit(t,n){return typeof t=="string"&&(Vr.has(t)?(t=new Event(t),Object.assign(t,{detail:n})):t=new CustomEvent(t,{detail:n})),super.emit(qr.createEvent(t,n))}static createEvent(t,n){return typeof t=="string"&&(Vr.has(t)?(t=new Event(t),Object.assign(t,{detail:n})):t=new CustomEvent(t,{detail:n})),t}}let nc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const va=class{constructor(t,n="local"){P(this,un);P(this,rs,void 0);P(this,ue,void 0);P(this,Nt,void 0);P(this,dn,void 0);z(this,rs,n),z(this,ue,`ZUI_STORE:${t??nc()}`),z(this,Nt,n==="local"?localStorage:sessionStorage)}get type(){return x(this,rs)}get session(){return this.type==="session"?this:(x(this,dn)||z(this,dn,new va(x(this,ue),"session")),x(this,dn))}get(t,n){const s=x(this,Nt).getItem(Oe(this,un,Fi).call(this,t));return typeof s=="string"?JSON.parse(s):s??n}set(t,n){if(n==null)return this.remove(t);x(this,Nt).setItem(Oe(this,un,Fi).call(this,t),JSON.stringify(n))}remove(t){x(this,Nt).removeItem(Oe(this,un,Fi).call(this,t))}each(t){for(let n=0;n<x(this,Nt).length;n++){const s=x(this,Nt).key(n);if(s!=null&&s.startsWith(x(this,ue))){const i=x(this,Nt).getItem(s);typeof i=="string"&&t(s.substring(x(this,ue).length+1),JSON.parse(i))}}}getAll(){const t={};return this.each((n,s)=>{t[n]=s}),t}};let Js=va;rs=new WeakMap,ue=new WeakMap,Nt=new WeakMap,dn=new WeakMap,un=new WeakSet,Fi=function(t){return`${x(this,ue)}:${t}`};const sc=new Js("DEFAULT");function iu(e,t="local"){return new Js(e,t)}Object.assign(sc,{create:iu});const tp="";function ru(e){if(e.indexOf("#")===0&&(e=e.slice(1)),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length!==6)throw new Error(`Invalid HEX color "${e}".`);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function ou(e){const[t,n,s]=typeof e=="string"?ru(e):e;return t*.299+n*.587+s*.114>186}function ic(e,t){return ou(e)?(t==null?void 0:t.dark)??"#333333":(t==null?void 0:t.light)??"#ffffff"}function rc(e,t=255){return Math.min(Math.max(e,0),t)}function au(e,t,n){e=e%360/360,t=rc(t),n=rc(n);const s=n<=.5?n*(t+1):n+t-n*t,i=n*2-s,r=o=>(o=o<0?o+1:o>1?o-1:o,o*6<1?i+(s-i)*o*6:o*2<1?s:o*3<2?i+(s-i)*(2/3-o)*6:i);return[r(e+1/3)*255,r(e)*255,r(e-1/3)*255]}function lu(e){let t=0;if(typeof e!="string"&&(e=String(e)),e&&e.length)for(let n=0;n<e.length;++n)t+=(n+1)*e.charCodeAt(n);return t}function cu(e,t){return/^[\u4e00-\u9fa5\s]+$/.test(e)?e.length<=t?e:e.substring(e.length-t):/^[A-Za-z\d\s]+$/.test(e)?e[0].toUpperCase():e.length<=t?e:e.substring(0,t)}let oc=class extends U{render(){const{className:t,style:n,size:s="",circle:i,rounded:r,background:o,foreColor:a,text:l,code:h,maxTextLength:c=2,src:d,hueDistance:u=43,saturation:f=.4,lightness:p=.6,children:y,...v}=this.props,w=["avatar",t],_={...n,background:o,color:a};let k=32;s&&(typeof s=="number"?(_.width=`${s}px`,_.height=`${s}px`,_.fontSize=`${Math.max(12,Math.round(s/2))}px`,k=s):(w.push(`size-${s}`),k={xs:20,sm:24,lg:48,xl:80}[s])),i?w.push("circle"):r&&(typeof r=="number"?_.borderRadius=`${r}px`:w.push(`rounded-${r}`));let E;if(d)w.push("has-img"),E=m("img",{className:"avatar-img",src:d,alt:l});else if(l!=null&&l.length){const S=cu(l,c);if(w.push("has-text",`has-text-${S.length}`),o)!a&&o&&(_.color=ic(o));else{const A=h??l,L=(typeof A=="number"?A:lu(A))*u%360;if(_.background=`hsl(${L},${f*100}%,${p*100}%)`,!a){const H=au(L,f,p);_.color=ic(H)}}let R;k&&k<14*S.length&&(R={transform:`scale(${k/(14*S.length)})`,whiteSpace:"nowrap"}),E=m("div",{"data-actualSize":k,className:"avatar-text",style:R,children:S})}return m("div",{className:T(w),style:_,...v,children:[E,y]})}};class Gr extends X{}Gr.NAME="Avatar",Gr.Component=oc;const ep="",np="";var jr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ee=(e,t,n)=>(jr(e,t,"read from private field"),n?n.call(e):t.get(e)),Pn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Dn=(e,t,n,s)=>(jr(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Yr=(e,t,n)=>(jr(e,t,"access private method"),n),Ke,Zs,Me,Kr,Wn,Qs;const Xr="show",ac="in",hu='[data-dismiss="modal"]',In=class extends ot{constructor(){super(...arguments),Pn(this,Wn),Pn(this,Ke,0),Pn(this,Zs,void 0),Pn(this,Me,void 0),Pn(this,Kr,e=>{const t=e.target,n=t.closest(".modal");!n||n!==this.modalElement||(t.closest(hu)||this.options.backdrop===!0&&t===n)&&(e.stopPropagation(),this.hide())})}get modalElement(){return this.element}get shown(){return this.modalElement.classList.contains(Xr)}get dialog(){return this.modalElement.querySelector(".modal-dialog")}afterInit(){if(this.on("click",Ee(this,Kr)),this.options.responsive&&typeof ResizeObserver<"u"){const{dialog:e}=this;if(e){const t=new ResizeObserver(()=>{if(!this.shown)return;const n=e.clientWidth,s=e.clientHeight;(!Ee(this,Me)||Ee(this,Me)[0]!==n||Ee(this,Me)[1]!==s)&&(Dn(this,Me,[n,s]),this.layout())});t.observe(e),Dn(this,Zs,t)}}this.options.show&&this.show()}destroy(){var e;super.destroy(),(e=Ee(this,Zs))==null||e.disconnect()}show(e){const{modalElement:t}=this;if(this.shown)return g(t).css("z-index",`${In.zIndex++}`),!1;this.setOptions(e);const{animation:n,backdrop:s,className:i,style:r}=this.options;return g(t).setClass({"modal-trans":n,"modal-no-backdrop":!s},Xr,i).css({zIndex:`${In.zIndex++}`,...r}),this.layout(),this.emit("show"),Yr(this,Wn,Qs).call(this,()=>{g(t).addClass(ac),Yr(this,Wn,Qs).call(this,()=>{this.emit("shown")})},50),!0}hide(){return this.shown?(g(this.modalElement).removeClass(ac),this.emit("hide"),Yr(this,Wn,Qs).call(this,()=>{g(this.modalElement).removeClass(Xr),this.emit("hidden")}),!0):!1}layout(e,t){if(!this.shown)return;const{dialog:n}=this;if(!n)return;t=t??this.options.size,g(n).removeAttr("data-size");const s={width:"",height:""};typeof t=="object"?(s.width=t.width,s.height=t.height):typeof t=="string"&&["md","sm","lg","full"].includes(t)?g(n).attr("data-size",t):t&&(s.width=t),g(n).css(s),e=e??this.options.position??"fit";const i=n.clientWidth,r=n.clientHeight;Dn(this,Me,[i,r]),typeof e=="function"&&(e=e({width:i,height:r}));const o={top:null,left:null,bottom:null,right:null,alignSelf:"center"};typeof e=="number"?(o.alignSelf="flex-start",o.top=e):typeof e=="object"&&e?(o.alignSelf="flex-start",Object.assign(o,e)):e==="fit"?(o.alignSelf="flex-start",o.top=`${Math.max(0,Math.floor((window.innerHeight-r)/3))}px`):e==="bottom"?o.alignSelf="flex-end":e==="top"?o.alignSelf="flex-start":e!=="center"&&typeof e=="string"&&(o.alignSelf="flex-start",o.top=e),g(n).css(o),g(this.modalElement).css("justifyContent",o.left?"flex-start":"center")}static hide(e){var t;(t=In.query(e))==null||t.hide()}static show(e){var t;(t=In.query(e))==null||t.show()}};let xt=In;Ke=new WeakMap,Zs=new WeakMap,Me=new WeakMap,Kr=new WeakMap,Wn=new WeakSet,Qs=function(e,t){Ee(this,Ke)&&(clearTimeout(Ee(this,Ke)),Dn(this,Ke,0)),e&&(this.options.animation?Dn(this,Ke,window.setTimeout(e,t??this.options.transTime)):e())},xt.NAME="Modal",xt.MULTI_INSTANCE=!0,xt.DEFAULT={position:"fit",show:!0,keyboard:!0,animation:!0,backdrop:!0,responsive:!0,transTime:300},xt.zIndex=2e3,g(window).on("resize.modal.zui",()=>{xt.getAll().forEach(e=>{const t=e;t.shown&&t.options.responsive&&t.layout()})}),g(document).on("to-hide.modal.zui",(e,t)=>{xt.hide(t==null?void 0:t.target)});class lc extends U{componentDidMount(){var t;(t=this.props.afterRender)==null||t.call(this,{firstRender:!0})}componentDidUpdate(){var t;(t=this.props.afterRender)==null||t.call(this,{firstRender:!1})}componentWillUnmount(){var t;(t=this.props.beforeDestroy)==null||t.call(this)}renderHeader(){const{header:t,title:n}=this.props;return b.isValidElement(t)?t:t===!1||!n?null:m("div",{className:"modal-header",children:m("div",{className:"modal-title",children:n})})}renderActions(){const{actions:t,closeBtn:n}=this.props;return!n&&!t?null:b.isValidElement(t)?t:m("div",{className:"modal-actions",children:[t?m(pt,{...t}):null,n?m("button",{type:"button",class:"btn square ghost","data-dismiss":"modal",children:m("span",{class:"close"})}):null]})}renderBody(){const{body:t}=this.props;return t?b.isValidElement(t)?t:m("div",{className:"modal-body",children:t}):null}renderFooter(){const{footer:t,footerActions:n}=this.props;return b.isValidElement(t)?t:t===!1||!n?null:m("div",{className:"modal-footer",children:n?m(pt,{...n}):null})}render(){const{className:t,style:n,children:s}=this.props;return m("div",{className:T("modal-dialog",t),style:n,children:m("div",{className:"modal-content",children:[this.renderHeader(),this.renderActions(),this.renderBody(),s,this.renderFooter()]})})}}lc.defaultProps={closeBtn:!0};class du extends U{constructor(){super(...arguments);P(this,fn,void 0);P(this,pn,void 0);P(this,gn,void 0);z(this,fn,lt()),this.state={},z(this,gn,()=>{var i,r;const n=(r=(i=x(this,fn).current)==null?void 0:i.contentWindow)==null?void 0:r.document;if(!n)return;let s=x(this,pn);s==null||s.disconnect(),s=new ResizeObserver(()=>{const o=n.body,a=n.documentElement,l=Math.ceil(Math.max(o.scrollHeight,o.offsetHeight,a.offsetHeight));this.setState({height:l})}),s.observe(n.body),s.observe(n.documentElement),z(this,pn,s)})}componentDidMount(){x(this,gn).call(this)}componentWillUnmount(){var n;(n=x(this,pn))==null||n.disconnect()}render(){const{url:n}=this.props;return m("iframe",{className:"modal-iframe",style:this.state,src:n,ref:x(this,fn),onLoad:x(this,gn)})}}fn=new WeakMap,pn=new WeakMap,gn=new WeakMap;var Jr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Et=(e,t,n)=>(Jr(e,t,"read from private field"),n?n.call(e):t.get(e)),On=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xe=(e,t,n,s)=>(Jr(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ti=(e,t,n)=>(Jr(e,t,"access private method"),n),re,Hn,Ft,ei,Zr,ni,Qr;function uu(e,t){const{custom:n,title:s,content:i}=t;return{body:i,title:s,...typeof n=="function"?n():n}}async function fu(e,t){const{dataType:n="html",url:s,request:i,custom:r,title:o,replace:a=!0,executeScript:l=!0}=t,c=await(await fetch(s,{headers:{"X-Requested-With":"XMLHttpRequest","X-ZUI-Modal":"true"},...i})).text();if(n!=="html")try{const d=JSON.parse(c);return{title:o,...r,...d}}catch{}return a!==!1&&n==="html"?[c]:{title:o,...r,body:n==="html"?m(ur,{className:"modal-body",html:c,executeScript:l}):c}}async function pu(e,t){const{url:n,custom:s,title:i}=t;return{title:i,...s,body:m(du,{url:n})}}const gu={custom:uu,ajax:fu,iframe:pu},to="loading",Bn=class extends xt{constructor(){super(...arguments),On(this,ei),On(this,ni),On(this,re,void 0),On(this,Hn,void 0),On(this,Ft,void 0)}get id(){return Et(this,Hn)}get loading(){var e;return(e=this.modalElement)==null?void 0:e.classList.contains(to)}get shown(){var e;return!!((e=Et(this,re))!=null&&e.classList.contains("show"))}get modalElement(){let e=Et(this,re);if(!e){const{options:t}=this;let n=Et(this,Hn);n||(n=t.id||`modal-${g.guid++}`,Xe(this,Hn,n));const{$element:s}=this;if(e=s.find(`#${n}`)[0],!e){const i=this.key;e=g("<div>").attr({id:n,"data-key":i}).data(this.constructor.KEY,this).css(t.style||{}).setClass("modal modal-async load-indicator",t.className).appendTo(s)[0]}Xe(this,re,e)}return e}get $emitter(){const e=Et(this,re);return e?g(e):this.$element}afterInit(){super.afterInit(),this.on("hidden",()=>{this.options.destoryOnHide&&this.destroy()})}show(e){return super.show(e)?(this.buildDialog(),!0):!1}destroy(){super.destroy();const e=Et(this,re);e&&(g(e).removeData(this.constructor.KEY).remove(),Xe(this,re,void 0))}render(e){super.render(e),this.buildDialog()}async buildDialog(){if(this.loading)return!1;Et(this,Ft)&&clearTimeout(Et(this,Ft));const{modalElement:e,options:t}=this,n=g(e),{type:s,loadTimeout:i,loadingText:r=null}=t,o=gu[s];if(!o)return console.warn(`Modal: Cannot build modal with type "${s}"`),!1;n.attr("data-loading",r).addClass(to),i&&Xe(this,Ft,window.setTimeout(()=>{Xe(this,Ft,0),ti(this,ni,Qr).call(this,this.options.timeoutTip)},i));const a=await o.call(this,e,t);return a===!1?await ti(this,ni,Qr).call(this,this.options.failedTip):a&&typeof a=="object"&&await ti(this,ei,Zr).call(this,a),Et(this,Ft)&&(clearTimeout(Et(this,Ft)),Xe(this,Ft,0)),await vn(100),n.removeClass(to),!0}static open(e){return new Promise(t=>{const{container:n=document.body,...s}=e,i={show:!0,...s};!i.type&&i.url&&(i.type="ajax");const r=Bn.ensure(n,i);r.one("hidden",()=>t(r)),r.show()})}static async alert(e){typeof e=="string"&&(e={message:e});const{type:t,message:n,icon:s,iconClass:i="icon-lg muted",actions:r="confirm",onClickAction:o,custom:a,key:l="__alert",...h}=e;let c=m("div",{children:n});s?c=m("div",{className:"modal-body row gap-4 items-center",children:[m("div",{className:`icon ${s} ${i}`}),c]}):c=m("div",{className:"modal-body",children:c});const d=[];(Array.isArray(r)?r:[r]).forEach(p=>{p={...typeof p=="string"?{key:p}:p},typeof p.key=="string"&&(p.text||(p.text=kt.getLang(p.key,p.key)),p.btnType||(p.btnType=`btn-wide ${p.key==="confirm"?"primary":"btn-default"}`)),p&&d.push(p)},[]);let u;const f=d.length?{gap:4,items:d,onClickItem:({item:p,event:y})=>{const v=Bn.query(y.target,l);u=p.key,(o==null?void 0:o(p,v))!==!1&&v&&v.hide()}}:void 0;return await Bn.open({key:l,type:"custom",size:400,className:"modal-alert",content:c,backdrop:"static",custom:{footerActions:f,...typeof a=="function"?a():a},...h}),u}static async confirm(e){typeof e=="string"&&(e={message:e});const{onClickAction:t,onResult:n,...s}=e;return await Bn.alert({actions:["confirm","cancel"],onClickAction:(r,o)=>{n==null||n(r.key==="confirm",o),t==null||t(r,o)},...s})==="confirm"}};let eo=Bn;re=new WeakMap,Hn=new WeakMap,Ft=new WeakMap,ei=new WeakSet,Zr=function(e){return new Promise(t=>{if(Array.isArray(e))return this.modalElement.innerHTML=e[0],g(this.modalElement).runJS(),t();const{afterRender:n,...s}=e;e={afterRender:i=>{this.layout(),n==null||n(i),t()},...s},Be(m(lc,{...e}),this.modalElement)})},ni=new WeakSet,Qr=function(e){if(e)return ti(this,ei,Zr).call(this,{body:m("div",{className:"modal-load-failed",children:e})})},eo.DEFAULT={...xt.DEFAULT,loadTimeout:1e4,destoryOnHide:!0};var no=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},so=(e,t,n)=>(no(e,t,"read from private field"),n?n.call(e):t.get(e)),si=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},cc=(e,t,n,s)=>(no(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),io=(e,t,n)=>(no(e,t,"access private method"),n),Te,ro,hc,oo,dc,ao,uc;const mu='[data-toggle="modal"]';class lo extends ot{constructor(){super(...arguments),si(this,ro),si(this,oo),si(this,ao),si(this,Te,void 0)}get modal(){return so(this,Te)}get container(){const{container:t}=this.options;return typeof t=="string"?document.querySelector(t):t instanceof HTMLElement?t:document.body}show(){var t;return(t=io(this,oo,dc).call(this))==null?void 0:t.show()}hide(){var t;return(t=so(this,Te))==null?void 0:t.hide()}}Te=new WeakMap,ro=new WeakSet,hc=function(){const{container:e,...t}=this.options,n=t,s=this.$element.attr("href")||"";return n.type||(n.target||s[0]==="#"?n.type="static":n.type=n.type||(n.url||s?"ajax":"custom")),!n.url&&(n.type==="iframe"||n.type==="ajax")&&s[0]!=="#"&&(n.url=s),!n.key&&n.id&&(n.key=n.id),n},oo=new WeakSet,dc=function(){const e=io(this,ro,hc).call(this);let t=so(this,Te);if(t)return t.setOptions(e),t;if(e.type==="static"){const n=io(this,ao,uc).call(this);if(!n)return;t=xt.ensure(n,e)}else t=eo.ensure(this.container,e);return cc(this,Te,t),t.on("destroyed",()=>{cc(this,Te,void 0)}),t},ao=new WeakSet,uc=function(){let e=this.options.target;if(!e){const{$element:t}=this;if(t.is("a")){const n=t.attr("href");n!=null&&n.startsWith("#")&&(e=n)}}return this.container.querySelector(e||".modal")},lo.NAME="ModalTrigger",g(document).on("click.modal.zui",e=>{var s;const t=e.target,n=(s=t.closest)==null?void 0:s.call(t,mu);if(n){const i=lo.ensure(n);i&&(i.show(),e.preventDefault())}});const sp="";let fc=class extends be{beforeRender(){const t=super.beforeRender();return t.className=T(t.className,t.type?`nav-${t.type}`:"",{"nav-stacked":t.stacked}),t}};fc.NAME="nav";class co extends X{}co.NAME="Nav",co.Component=fc;const ip="";function zn(e,t){const n=e.pageTotal||Math.ceil(e.recTotal/e.recPerPage);return typeof t=="string"&&(t==="first"?t=1:t==="last"?t=n:t==="prev"?t=e.page-1:t==="next"?t=e.page+1:t==="current"?t=e.page:t=Number.parseInt(t,10)),t=t!==void 0?Math.max(1,Math.min(t<0?n+t:t,n)):e.page,{...e,pageTotal:n,page:t}}function yu({key:e,type:t,btnType:n,page:s,format:i,pagerInfo:r,linkCreator:o,...a}){const l=zn(r,s);return a.text===void 0&&!a.icon&&i&&(a.text=typeof i=="function"?i(l):et(i,l)),a.url===void 0&&o&&(a.url=typeof o=="function"?o(l):et(o,l)),a.disabled===void 0&&(a.disabled=s!==void 0&&l.page===r.page),m(It,{type:n,...a})}const Mt=24*60*60*1e3,st=e=>e?(e instanceof Date||(typeof e=="string"&&(e=e.trim(),/^\d+$/.test(e)&&(e=Number.parseInt(e,10))),typeof e=="number"&&e<1e10&&(e*=1e3),e=new Date(e)),e):new Date,Je=(e,t=new Date)=>(e=st(e),t=st(t),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()),ii=(e,t=new Date)=>st(e).getFullYear()===st(t).getFullYear(),pc=(e,t=new Date)=>(e=st(e),t=st(t),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()),wu=(e,t=new Date)=>{e=st(e),t=st(t);const n=1e3*60*60*24,s=Math.floor(e.getTime()/n),i=Math.floor(t.getTime()/n);return Math.floor((s+4)/7)===Math.floor((i+4)/7)},vu=(e,t)=>Je(st(t),e),_u=(e,t)=>Je(st(t).getTime()-Mt,e),bu=(e,t)=>Je(st(t).getTime()+Mt,e),$u=(e,t)=>Je(st(t).getTime()-2*Mt,e),ri=(e,t="yyyy-MM-dd hh:mm",n="")=>{if(e=st(e),Number.isNaN(e.getDay()))return n;const s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"H+":e.getHours()%12,"m+":e.getMinutes(),"s+":e.getSeconds(),"S+":e.getMilliseconds()};return/(y+)/i.test(t)&&(t.includes("[yyyy-]")&&(t=t.replace("[yyyy-]",ii(e)?"":"yyyy-")),t=t.replace(RegExp.$1,`${e.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(s).forEach(i=>{if(new RegExp(`(${i})`).test(t)){const r=`${s[i]}`;t=t.replace(RegExp.$1,RegExp.$1.length===1?r:`00${r}`.substring(r.length))}}),t},Cu=(e,t,n)=>{const s={full:"yyyy-M-d",month:"M-d",day:"d",str:"{0} ~ {1}",...n},i=ri(e,ii(e)?s.month:s.full);if(Je(e,t))return i;const r=ri(t,ii(e,t)?pc(e,t)?s.day:s.month:s.full);return s.str.replace("{0}",i).replace("{1}",r)},ku=e=>{const t=new Date().getTime();switch(e){case"oneWeek":return t-Mt*7;case"oneMonth":return t-Mt*31;case"threeMonth":return t-Mt*31*3;case"halfYear":return t-Mt*183;case"oneYear":return t-Mt*365;case"twoYear":return t-2*(Mt*365);default:return 0}},ho=(e,t,n=!0,s=Date.now())=>{switch(t){case"year":return e*=365,ho(e,"day",n,s);case"quarter":e*=3;break;case"month":return e*=30,ho(e,"day",n,s);case"week":e*=7;break;case"day":e*=24;break;case"hour":e*=60;break;case"minute":e*=6e4;break;default:e=0}return n?s+e:s-e};function Su({key:e,type:t,page:n,text:s="",pagerInfo:i,children:r,...o}){const a=zn(i,n);return s=typeof s=="function"?s(a):et(s,a),m(xl,{...o,children:[r,s]})}function xu({key:e,type:t,btnType:n,count:s=12,pagerInfo:i,onClick:r,linkCreator:o,...a}){if(!i.pageTotal)return;const l={...a,square:!0},h=()=>(l.text="",l.icon="icon-ellipsis-h",l.disabled=!0,m(It,{type:n,...l})),c=(u,f)=>{const p=[];for(let y=u;y<=f;y++){l.text=y,delete l.icon,l.disabled=!1;const v=zn(i,y);o&&(l.url=typeof o=="function"?o(v):et(o,v)),p.push(m(It,{type:n,...l,onClick:r}))}return p};let d=[];return d=[...c(1,1)],i.pageTotal<=1||(i.pageTotal<=s?d=[...d,...c(2,i.pageTotal)]:i.page<s-2?d=[...d,...c(2,s-2),h(),...c(i.pageTotal,i.pageTotal)]:i.page>i.pageTotal-s+3?d=[...d,h(),...c(i.pageTotal-s+3,i.pageTotal)]:d=[...d,h(),...c(i.page-Math.ceil((s-4)/2),i.page+Math.floor((s-4)/2)),h(),...c(i.pageTotal,i.pageTotal)]),d}function Eu({type:e,pagerInfo:t,linkCreator:n,items:s=[5,10,15,20,25,30,35,40,45,50,100,200,500,1e3,2e3],dropdown:i={},itemProps:r,...o}){var l;i.items=i.items??s.map(h=>{const c={...t,recPerPage:h};return{...r,text:`${h}`,active:h===t.recPerPage,url:typeof n=="function"?n(c):et(n,c)}});const{text:a=""}=o;return o.text=typeof a=="function"?a(t):et(a,t),i.menu={...i.menu,className:T((l=i.menu)==null?void 0:l.className,"pager-size-menu")},m(Kl,{type:"dropdown",dropdown:i,...o})}function Mu({key:e,page:t,type:n,btnType:s,pagerInfo:i,size:r,onClick:o,onChange:a,linkCreator:l,...h}){const c={...h};let d;const u=y=>{var v;d=Number((v=y.target)==null?void 0:v.value)||1,d=d>i.pageTotal?i.pageTotal:d},f=y=>{if(!(y!=null&&y.target))return;d=d<=i.pageTotal?d:i.pageTotal;const v=zn(i,d);a&&!a({info:v,event:y})||(y.target.href=c.url=typeof l=="function"?l(v):et(l,v))},p=zn(i,t||0);return c.url=typeof l=="function"?l(p):et(l,p),m("div",{className:T("input-group","pager-goto-group",r?`size-${r}`:""),children:[m("input",{type:"number",class:"form-control",max:i.pageTotal,min:"1",onInput:u}),m(It,{type:s,...c,onClick:f})]})}let oi=class extends pt{get pagerInfo(){const{page:t=1,recTotal:n=0,recPerPage:s=10}=this.props;return{page:t,recTotal:n,recPerPage:s,pageTotal:s?Math.ceil(n/s):0}}isBtnItem(t){return t==="link"||t==="nav"||t==="size-menu"||t==="goto"||super.isBtnItem(t)}getItemRenderProps(t,n,s){const i=super.getItemRenderProps(t,n,s),r=n.type||"item";return r==="info"?Object.assign(i,{pagerInfo:this.pagerInfo}):(r==="link"||r==="size-menu"||r==="nav"||r==="goto")&&Object.assign(i,{pagerInfo:this.pagerInfo,linkCreator:t.linkCreator}),i}};oi.NAME="pager",oi.defaultProps={btnProps:{btnType:"ghost",size:"sm"}},oi.ItemComponents={...pt.ItemComponents,link:yu,info:Su,nav:xu,"size-menu":Eu,goto:Mu};class uo extends X{}uo.NAME="Pager",uo.Component=oi;const rp="";class fo extends U{constructor(){super(...arguments),this._handleClick=t=>{t.stopPropagation(),!g(t.target).closest("a,.btn,input").length&&this.props.togglePop(!0)}}_getClass(){const{state:t,className:n}=this.props,{open:s,disabled:i}=t;return T("pick",n,s&&"is-open focus",i&&"disabled")}_renderTrigger(){const{children:t,state:n}=this.props;return t??n.value}_renderValue(){const{name:t,state:n}=this.props;return t?m("input",{type:"hidden",className:"pick-value",name:t,value:n.value}):null}render(t){const{id:n,style:s}=t;return m("div",{id:`pick-${n}`,className:this._getClass(),style:s,tabIndex:-1,onClick:this._handleClick,children:[this._renderTrigger(),this._renderValue()]})}}class gc extends U{constructor(){super(...arguments);P(this,Ie,void 0);P(this,At,void 0);P(this,fe,void 0);this.state={show:!1},z(this,Ie,lt()),this._handleDocClick=n=>{const{state:{open:s},id:i,togglePop:r}=this.props;s!=="closing"&&!g(n.target).closest(`#pick-${i},#pick-pop-${i}`).length&&r(!1)}}get trigger(){return g(`#pick-${this.props.id}`)[0]}get element(){var n;return(n=x(this,Ie))==null?void 0:n.current}get container(){return x(this,fe)}_getClass(n){const{className:s,state:i}=n,{open:r}=i;return T("pick-pop",s,r===!0&&"in")}_getContainer(n){if(!x(this,fe)){const s=g(n.container||"body");let i=s.find(".pick-container");i.length||(i=g("<div>").addClass("pick-container").appendTo(s)),z(this,fe,i[0])}return x(this,fe)}_render(n){const{id:s,style:i,maxHeight:r,maxWidth:o,minHeight:a,minWidth:l}=n,h=g.extend({maxHeight:r,maxWidth:o,minHeight:a,minWidth:l},i);return m("div",{id:`pick-pop-${s}`,className:this._getClass(n),style:h,ref:x(this,Ie),children:this._renderPop(n)})}_renderPop(n){return n.children}layout(){const{element:n,trigger:s,props:i}=this,{state:r}=i;if(!n||!s||!r.open){x(this,At)&&(x(this,At).call(this),z(this,At,void 0));return}x(this,At)||z(this,At,Mr(s,n,()=>{const{direction:o,width:a}=i;Bs(s,n,{placement:`${o==="top"?"top":"bottom"}-start`,middleware:[o==="auto"?Ps():null,kr(),Cr(1)].filter(Boolean)}).then(({x:l,y:h})=>{g(n).css({left:l,top:h,width:a==="100%"?g(s).outerWidth():void 0})}),a==="100%"&&g(n).css({width:g(n).width()})}))}componentDidMount(){this.layout(),g(document).on("click",this._handleDocClick)}componentWillUnmount(){g(document).off("click",this._handleDocClick);const n=x(this,At);n&&(n(),z(this,At,void 0)),z(this,fe,void 0),z(this,Ie,void 0)}render(n){return $l(this._render(n),this._getContainer(n))}}Ie=new WeakMap,At=new WeakMap,fe=new WeakMap;const op="";var mc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Fn=(e,t,n)=>(mc(e,t,"read from private field"),n?n.call(e):t.get(e)),yc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ze=(e,t,n,s)=>(mc(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ai,gt;let Qe=class extends U{constructor(t){super(t),yc(this,ai,void 0),yc(this,gt,0),this.changeState=(n,s)=>new Promise(i=>{this.setState(n,()=>{s==null||s(),i(this.state)})}),this.toggle=async(n,s)=>{const{state:i}=this;if(typeof n=="boolean"&&n===(!!i.open&&i.open!=="closing"))return s&&await this.changeState(s),this.state;Fn(this,gt)&&(clearTimeout(Fn(this,gt)),Ze(this,gt,0));let r=await this.changeState(a=>(n=n??!a.open,{open:n?"opening":"closing",...s}));const{open:o}=r;return o==="closing"?(await vn(200,a=>{Ze(this,gt,a)}),Ze(this,gt,0),r=await this.changeState({open:!1})):o==="opening"&&(await vn(50,a=>{Ze(this,gt,a)}),Ze(this,gt,0),r=await this.changeState({open:!0})),r},this.state={value:t.defaultValue,open:!1,disabled:!1},Ze(this,ai,t.id??`_${g.guid++}`)}get id(){return Fn(this,ai)}_getTriggerProps(t,n){return{id:this.id,state:n,className:t.className,style:t.style,name:t.name,changeState:this.changeState,togglePop:this.toggle}}_getPopProps(t,n){return{id:this.id,state:n,className:t.popClass,style:t.popStyle,changeState:this.changeState,togglePop:this.toggle,direction:t.popDirection,container:t.popContainer,width:t.popWidth,height:t.popHeight,minHeight:t.popMinHeight,maxHeight:t.popMaxHeight,maxWidth:t.popMaxWidth,minWidth:t.popMinWidth}}_renderTrigger(t,n){return null}_renderPop(t,n){return null}_afterRender(t=!1){var n;(n=this.props.afterRender)==null||n.call(this,{firstRender:t})}_getPop(t){return t.Pop||this.constructor.Pop}_getTrigger(t){return t.Trigger||this.constructor.Trigger}componentDidMount(){this._afterRender(!0)}componentWillUpdate(t,n){const{open:s}=this.state,{open:i}=n;if(s===i)return;const{onPopShow:r,onPopHide:o}=this.props;i&&r?r():!i&&o&&o()}componentDidUpdate(t,n){const{open:s,value:i}=this.state,{open:r,value:o}=n;if(!!s!=!!r){const{onPopShown:a,onPopHidden:l}=this.props;s&&a?a():!s&&l&&l()}if(i!==o){const{onChange:a}=this.props;a==null||a(i,o)}this._afterRender()}componentWillUnmount(){var t;(t=this.props.beforeDestroy)==null||t.call(this),Fn(this,gt)&&clearTimeout(Fn(this,gt))}render(t,n){const{open:s}=n,i=this._getTrigger(t);let r;if(s){const o=this._getPop(t);r=m(o,{...this._getPopProps(t,n),children:this._renderPop(t,n)},"pop")}return m(_n,{children:[m(i,{...this._getTriggerProps(t,n),children:this._renderTrigger(t,n)},"pick"),r]})}};ai=new WeakMap,gt=new WeakMap,Qe.Trigger=fo,Qe.Pop=gc,Qe.defaultProps={popContainer:"body",popClass:"menu-popup",popWidth:"100%",popDirection:"auto",popMinWidth:50,popMinHeight:32,popMaxHeight:300};class po extends X{}po.NAME="Pick",po.Component=Qe;const ap="",lp="";class wc extends U{constructor(n){super(n);P(this,mn,lt());P(this,os,lt());P(this,as,n=>{var i,r;const s=n.target.value;(r=(i=this.props).onSearch)==null||r.call(i,s),this.setState({search:s})});P(this,Mi,n=>{var s,i;n.stopPropagation(),(i=(s=this.props).onClear)==null||i.call(s),this.setState({search:""},()=>this.focus())});this.state={search:n.defaultSearch??""}}focus(){var n;(n=x(this,mn).current)==null||n.focus()}componentDidMount(){this.focus()}componentDidUpdate(){const{inline:n}=this.props;if(n){const{current:s}=x(this,os),{current:i}=x(this,mn);if(s&&i){const r=g(i).parent();r.width(Math.ceil(Math.min(s.clientWidth,r.closest(".picker").outerWidth()-32)))}}}render(n,s){const{placeholder:i,inline:r}=n,{search:o}=s,a=o.trim().length>0;let l;return r?l=m("div",{className:"picker-search-measure",ref:x(this,os),children:o}):a?l=m("button",{type:"button",className:"btn picker-search-clear square size-sm ghost",onClick:x(this,Mi),children:m("span",{className:"close"})}):l=m("span",{className:"magnifier"}),m("div",{className:`picker-search${r?" is-inline":""}`,children:[m("input",{className:"form-control picker-search-input",type:"text",placeholder:i,value:o,onChange:x(this,as),onInput:x(this,as),ref:x(this,mn)}),l]})}}mn=new WeakMap,os=new WeakMap,as=new WeakMap,Mi=new WeakMap;class Tu extends fo{constructor(){super(...arguments);P(this,ls,void 0);P(this,cs,void 0);P(this,hs,void 0);z(this,ls,n=>{const{onDeselect:s,state:{selections:i}}=this.props,r=g(n.target).closest(".picker-deselect-btn").dataset("value");s&&i.length&&r&&s(r),n.stopPropagation()}),z(this,cs,n=>{this.props.changeState({search:n})}),z(this,hs,()=>{this.props.togglePop(!0,{search:""})}),this._renderSelection=n=>m("div",{className:"picker-multi-selection",children:[m("span",{className:"text",children:n.text??n.value}),m("div",{className:"picker-deselect-btn btn size-xs ghost",onClick:x(this,ls),"data-value":n.value,children:m("span",{className:"close"})})]},n.value)}_getClass(){return T(super._getClass(),"picker-select picker-select-multi form-control")}_renderSearch(){const{state:{search:n},searchHint:s}=this.props;return m(wc,{inline:!0,defaultSearch:n,onSearch:x(this,cs),onClear:x(this,hs),placeholder:s})}_renderTrigger(){const{state:{selections:n=[],open:s},search:i,placeholder:r,children:o}=this.props,a=s&&i;return!a&&!n.length?m("span",{className:"picker-select-placeholder",children:r},"selections"):[m("div",{className:"picker-multi-selections",children:[n.map(this._renderSelection),a?this._renderSearch():null]},"selections"),o,m("span",{class:"caret"},"caret")]}}ls=new WeakMap,cs=new WeakMap,hs=new WeakMap;class Ru extends fo{constructor(){super(...arguments);P(this,Ai);P(this,Ti,n=>{this.props.onClear(),this.props.togglePop(!0,{search:""}),n.stopPropagation()});P(this,Ri,n=>{this.props.changeState({search:n})});P(this,Ni,()=>{this.props.togglePop(!0,{search:""})})}_getClass(){return T(super._getClass(),"picker-select picker-select-single form-control")}_renderSearch(){const{state:{search:n}}=this.props;return m(wc,{defaultSearch:n,onSearch:x(this,Ri),onClear:x(this,Ni),placeholder:Oe(this,Ai,Eh).call(this)})}_renderTrigger(){const{children:n,state:{selections:s=[],open:i},placeholder:r,search:o}=this.props,[a]=s,l=i&&o;let h;l?h=this._renderSearch():a?h=m("span",{className:"picker-single-selection",children:a.text??a.value},"main"):h=m("span",{className:"picker-select-placeholder",children:r},"main");const c=a&&!l?m("button",{type:"button",className:"btn picker-deselect-btn size-sm square ghost",onClick:x(this,Ti),children:m("span",{className:"close"})},"deselect"):null;return[h,n,c,l?null:m("span",{className:"caret"},"caret")]}}Ti=new WeakMap,Ri=new WeakMap,Ni=new WeakMap,Ai=new WeakSet,Eh=function(){const{searchHint:n,state:{value:s,selections:i}}=this.props;let r=n;if(r===void 0){const o=i.find(a=>a.value===s);o&&typeof o.text=="string"?r=o.text:r=s}return r};const Nu=(e,t)=>e.reduce((n,s)=>[...n].reduce((i,r)=>{if(typeof r!="string")return i.push(r),i;const o=r.toLowerCase().split(s);if(o.length===1)return i.push(r),i;let a=0;return o.forEach((l,h)=>{h&&(i.push(m("span",{class:"picker-menu-item-match",children:r.substring(a,a+s.length)})),a+=s.length),i.push(r.substring(a,a+l.length)),a+=l.length}),i},[]),t);class Au extends gc{constructor(){super(...arguments);P(this,Pi);P(this,Di);P(this,Li,lt());P(this,Wi,({item:n})=>{const s=n.key,{multiple:i,onToggleValue:r,onSelect:o,togglePop:a}=this.props;i?r(s):(o(s),a(!1,{search:""}))})}componentDidMount(){super.componentDidMount();const n=this.element;n&&g(n).on("mouseenter.picker.zui",".menu-item",s=>{const i=g(s.currentTarget);this.setHoverItem(i.children("a").dataset("value"))})}componentWillUnmount(){super.componentDidMount();const n=this.element;n&&g(n).off(".picker.zui")}setHoverItem(n){this.props.changeState({hoverItem:n},()=>{const s=Oe(this,Pi,Mh).call(this);s!=null&&s.length&&s[0].scrollIntoView({block:"nearest",behavior:"smooth"})})}_getClass(n){return T(super._getClass(n),"picker-menu")}_renderPop(n){const{menu:s}=n;return m(Ns,{ref:x(this,Li),className:"picker-menu-list",items:Oe(this,Di,Th).call(this),onClickItem:x(this,Wi),...s})}}Li=new WeakMap,Pi=new WeakSet,Mh=function(){const n=this.element;if(n)return g(n).find(".menu-item>a.hover")},Di=new WeakSet,Th=function(){const{selections:n,items:s,hoverItem:i,search:r}=this.props.state,o=new Set(n.map(c=>c.value));let a=!1;const l=g.unique(r.toLowerCase().split(" ").filter(c=>c.length)),h=s.reduce((c,d)=>{const{value:u="",keys:f,text:p,className:y,...v}=d;u===i&&(a=!0);const w=`${p??u}`;return c.push({key:u,active:o.has(u),text:Nu(l,[w]),className:T(y,{hover:u===i}),"data-value":u,...v}),c},[]);return!a&&h.length&&(h[0].className=T(h[0].className,"hover")),h},Wi=new WeakMap;var go=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},oe=(e,t,n)=>(go(e,t,"read from private field"),n?n.call(e):t.get(e)),tn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Re=(e,t,n,s)=>(go(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),mt=(e,t,n)=>(go(e,t,"access private method"),n),Un,Ut,Ne,en,Vn,mo,vc,ae,Ae;let yo=class extends Qe{constructor(t){super(t),tn(this,en),tn(this,mo),tn(this,ae),tn(this,Un,void 0),tn(this,Ut,void 0),tn(this,Ne,0),this.toggleValue=(n,s)=>{if(!this.props.multiple)return s||n!==this.value?mt(this,ae,Ae).call(this,n):mt(this,ae,Ae).call(this);const{valueList:i}=this,r=i.indexOf(n);if(s!==r>=0)return r>-1?i.splice(r,1):i.push(n),mt(this,ae,Ae).call(this,i)},this.deselect=n=>{const{valueList:s}=this,i=new Set(mt(this,en,Vn).call(this,n)),r=s.filter(o=>!i.has(o));mt(this,ae,Ae).call(this,r)},this.clear=()=>{mt(this,ae,Ae).call(this)},this.select=n=>{const s=mt(this,en,Vn).call(this,n),i=this.props.multiple?[...this.valueList,...s]:s[0];return mt(this,ae,Ae).call(this,i)},this.isSelected=n=>this.valueList.includes(n),g.extend(this.state,{loading:!1,search:"",items:t.items,selections:[]})}get value(){return this.state.value}get valueList(){return mt(this,en,Vn).call(this,this.state.value)}async load(){let t=oe(this,Ut);t&&t.abort(),t=new AbortController,Re(this,Ut,t);const{items:n,searchDelay:s}=this.props,{search:i}=this.state;let r=[];if(typeof n=="function"){if(await vn(s||500),oe(this,Ut)!==t||(r=await n(i,{signal:t.signal}),oe(this,Ut)!==t))return r}else if(i.length){const o=g.unique(i.toLowerCase().split(" ").filter(a=>a.length));o.length?r=n.reduce((a,l)=>{const{value:h,keys:c="",text:d}=l;return o.every(u=>h.toLowerCase().includes(u)||c.toLowerCase().includes(u)||typeof d=="string"&&d.toLowerCase().includes(u))&&a.push(l),a},[]):r=n}else r=n;return Re(this,Ut,void 0),r}async update(t){const{state:n,props:s}=this,i=oe(this,Un)||{},r={};if(Re(this,Un,i),(t||i.search!==n.search||s.items!==i.items)&&(r.items=await this.load(),r.loading=!1,i.items=s.items,i.search=n.search),t||i.value!==n.value){const o=r.items||n.items,a=new Map(o.map(l=>[l.value,l]));r.selections=this.valueList.map(l=>a.get(l)||{value:l}),i.value=n.value}Object.keys(r).length&&await this.changeState(r)}async tryUpdate(){oe(this,Ne)&&clearTimeout(oe(this,Ne)),Re(this,Ne,window.setTimeout(()=>{Re(this,Ne,0),this.update()},50))}componentDidUpdate(t,n){super.componentDidUpdate(t,n),this.tryUpdate()}componentDidMount(){super.componentDidMount(),this.tryUpdate()}componentWillUnmount(){var t;(t=oe(this,Ut))==null||t.abort(),Re(this,Ut,void 0),Re(this,Un,void 0),clearTimeout(oe(this,Ne)),super.componentWillUnmount()}_getTriggerProps(t,n){return{...super._getTriggerProps(t,n),multiple:t.multiple,placeholder:t.placeholder,search:t.search,searchHint:t.searchHint,onDeselect:this.deselect,onSelect:this.select,onClear:this.clear,onToggleValue:this.toggleValue}}_getPopProps(t,n){return{...super._getPopProps(t,n),menu:t.menu,multiple:t.multiple,search:t.search,searchHint:t.searchHint,onDeselect:this.deselect,onSelect:this.select,onClear:this.clear,onToggleValue:this.toggleValue}}_getTrigger(t){return t.Trigger||(t.multiple?Tu:Ru)}};Un=new WeakMap,Ut=new WeakMap,Ne=new WeakMap,en=new WeakSet,Vn=function(e){return typeof e=="string"?e.length?g.unique(e.split(this.props.valueSplitter??",")):[]:Array.isArray(e)?g.unique(e):[]},mo=new WeakSet,vc=function(e){const t=mt(this,en,Vn).call(this,e);return t.length?t.join(this.props.valueSplitter??","):void 0},ae=new WeakSet,Ae=function(e){const t=e===void 0?e:mt(this,mo,vc).call(this,e);if(t!==this.state.value)return this.changeState({value:t})},yo.defaultProps={...Qe.defaultProps,className:"picker",valueSplitter:",",search:!0},yo.Pop=Au;class wo extends X{}wo.NAME="Picker",wo.Component=yo;class vo extends ot{constructor(){super(...arguments),this.cleanup=()=>{},this.toggle=()=>{}}init(){this.initTarget(),this.initMask(),this.initArrow(),this.createPopper(),this.toggle=()=>{if(this.$target.hasClass("hidden")){this.show();return}this.hide()},this.$element.addClass("z-50").on("click",this.toggle)}destroy(){this.cleanup(),this.$element.off("click",this.toggle),this.$target.remove()}computePositionConfig(){const{placement:t,strategy:n}=this.options,s={placement:t,strategy:n,middleware:[]},{flip:i,shift:r,arrow:o,offset:a}=this.options;return i&&s.middleware.push(Ps()),r&&s.middleware.push(r===!0?kr():kr(r)),o&&s.middleware.push(br({element:this.$arrow[0]})),a&&s.middleware.push(Cr(a)),s}createPopper(){const t=this.element,n=this.$target[0];this.cleanup=Mr(t,n,()=>{Bs(t,n,this.computePositionConfig()).then(({x:s,y:i,placement:r,middlewareData:o})=>{if(Object.assign(n.style,{left:`${s}px`,top:`${i}px`}),!br||!o.arrow)return;const{x:a,y:l}=o.arrow,h={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]];Object.assign(this.$arrow[0].style,{left:a!=null?`${a}px`:"",top:l!=null?`${l}px`:"",right:"",bottom:"",[h]:"-4px"})})})}initTarget(){const t=this.$element.data("target");if(!t)throw new Error("popsvers trigger must have target.");const n=g(t);if(!n.length)throw new Error("popovers target must exist.");const{strategy:s}=this.options;n.addClass(s),n.addClass("hidden"),n.addClass("z-50"),n.on("click",i=>{g(i.target).data("dismiss")==="popovers"&&this.hide()}),this.$target=n}show(){this.$target.removeClass("hidden"),this.$mask.removeClass("hidden")}hide(){this.$target.addClass("hidden"),this.$mask.addClass("hidden")}initMask(){const t=g('<div class="fixed top-0 right-0 bottom-0 left-0 z-40 hidden"></div>');t.on("click",()=>{this.hide()}),this.$target.parent().append(t),this.$mask=t}initArrow(){const{arrow:t}=this.options;t&&(this.$arrow=g('<div class="fl-arrow bg-inherit rotate-45 absolute w-2 h-2"></div>'),this.$target.append(this.$arrow))}}vo.NAME="Popovers",vo.DEFAULT={placement:"bottom",strategy:"fixed",flip:!0,shift:{padding:5},arrow:!1,offset:1};const cp="",hp="";class _o extends X{}_o.NAME="Toolbar",_o.Component=pt;const dp="";function qn(e){return e.split("-")[1]}function bo(e){return e==="y"?"height":"width"}function nn(e){return e.split("-")[0]}function li(e){return["top","bottom"].includes(nn(e))?"x":"y"}function _c(e,t,n){let{reference:s,floating:i}=e;const r=s.x+s.width/2-i.width/2,o=s.y+s.height/2-i.height/2,a=li(t),l=bo(a),h=s[l]/2-i[l]/2,c=a==="x";let d;switch(nn(t)){case"top":d={x:r,y:s.y-i.height};break;case"bottom":d={x:r,y:s.y+s.height};break;case"right":d={x:s.x+s.width,y:o};break;case"left":d={x:s.x-i.width,y:o};break;default:d={x:s.x,y:s.y}}switch(qn(t)){case"start":d[a]-=h*(n&&c?-1:1);break;case"end":d[a]+=h*(n&&c?-1:1)}return d}const Lu=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=_c(h,s,l),u=s,f={},p=0;for(let y=0;y<a.length;y++){const{name:v,fn:w}=a[y],{x:_,y:k,data:E,reset:S}=await w({x:c,y:d,initialPlacement:s,placement:u,strategy:i,middlewareData:f,rects:h,platform:o,elements:{reference:e,floating:t}});c=_??c,d=k??d,f={...f,[v]:{...f[v],...E}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(u=S.placement),S.rects&&(h=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:d}=_c(h,u,l)),y=-1)}return{x:c,y:d,placement:u,strategy:i,middlewareData:f}};function bc(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function ci(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Pu(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:r,rects:o,elements:a,strategy:l}=e,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:u=!1,padding:f=0}=t,p=bc(f),y=a[u?d==="floating"?"reference":"floating":d],v=ci(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),w=d==="floating"?{...o.floating,x:s,y:i}:o.reference,_=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),k=await(r.isElement==null?void 0:r.isElement(_))&&await(r.getScale==null?void 0:r.getScale(_))||{x:1,y:1},E=ci(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:_,strategy:l}):w);return{top:(v.top-E.top+p.top)/k.y,bottom:(E.bottom-v.bottom+p.bottom)/k.y,left:(v.left-E.left+p.left)/k.x,right:(E.right-v.right+p.right)/k.x}}const Du=Math.min,Wu=Math.max;function Iu(e,t,n){return Wu(e,Du(t,n))}const Ou=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:s=0}=e||{},{x:i,y:r,placement:o,rects:a,platform:l}=t;if(n==null)return{};const h=bc(s),c={x:i,y:r},d=li(o),u=bo(d),f=await l.getDimensions(n),p=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=a.reference[u]+a.reference[d]-c[d]-a.floating[u],w=c[d]-a.reference[d],_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let k=_?d==="y"?_.clientHeight||0:_.clientWidth||0:0;k===0&&(k=a.floating[u]);const E=v/2-w/2,S=h[p],R=k-f[u]-h[y],A=k/2-f[u]/2+E,L=Iu(S,A,R),H=qn(o)!=null&&A!=L&&a.reference[u]/2-(A<S?h[p]:h[y])-f[u]/2<0;return{[d]:c[d]-(H?A<S?S-A:R-A:0),data:{[d]:L,centerOffset:A-L}}}});["top","right","bottom","left"].reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Hu={left:"right",right:"left",bottom:"top",top:"bottom"};function hi(e){return e.replace(/left|right|bottom|top/g,t=>Hu[t])}function Bu(e,t,n){n===void 0&&(n=!1);const s=qn(e),i=li(e),r=bo(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=hi(o)),{main:o,cross:hi(o)}}const zu={start:"end",end:"start"};function $o(e){return e.replace(/start|end/g,t=>zu[t])}const Fu=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:s,middlewareData:i,rects:r,initialPlacement:o,platform:a,elements:l}=t,{mainAxis:h=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...y}=e,v=nn(s),w=nn(o)===o,_=await(a.isRTL==null?void 0:a.isRTL(l.floating)),k=d||(w||!p?[hi(o)]:function($){const N=hi($);return[$o($),N,$o(N)]}(o));d||f==="none"||k.push(...function($,N,I,D){const O=qn($);let W=function(q,bt,Zt){const Bi=["left","right"],us=["right","left"],zi=["top","bottom"],_a=["bottom","top"];switch(q){case"top":case"bottom":return Zt?bt?us:Bi:bt?Bi:us;case"left":case"right":return bt?zi:_a;default:return[]}}(nn($),I==="start",D);return O&&(W=W.map(q=>q+"-"+O),N&&(W=W.concat(W.map($o)))),W}(o,p,f,_));const E=[o,...k],S=await Pu(t,y),R=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&R.push(S[v]),c){const{main:$,cross:N}=Bu(s,r,_);R.push(S[$],S[N])}if(A=[...A,{placement:s,overflows:R}],!R.every($=>$<=0)){var L;const $=(((L=i.flip)==null?void 0:L.index)||0)+1,N=E[$];if(N)return{data:{index:$,overflows:A},reset:{placement:N}};let I="bottom";switch(u){case"bestFit":{var H;const D=(H=A.map(O=>[O,O.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort((O,W)=>O[1]-W[1])[0])==null?void 0:H[0].placement;D&&(I=D);break}case"initialPlacement":I=o}if(s!==I)return{reset:{placement:I}}}return{}}}},Uu=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:s}=t,i=await async function(r,o){const{placement:a,platform:l,elements:h}=r,c=await(l.isRTL==null?void 0:l.isRTL(h.floating)),d=nn(a),u=qn(a),f=li(a)==="x",p=["left","top"].includes(d)?-1:1,y=c&&f?-1:1,v=typeof o=="function"?o(r):o;let{mainAxis:w,crossAxis:_,alignmentAxis:k}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return u&&typeof k=="number"&&(_=u==="end"?-1*k:k),f?{x:_*y,y:w*p}:{x:w*p,y:_*y}}(t,e);return{x:n+i.x,y:s+i.y,data:i}}}};function ht(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tt(e){return ht(e).getComputedStyle(e)}function le(e){return Cc(e)?(e.nodeName||"").toLowerCase():""}let di;function $c(){if(di)return di;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(di=e.brands.map(t=>t.brand+"/"+t.version).join(" "),di):navigator.userAgent}function Vt(e){return e instanceof ht(e).HTMLElement}function yt(e){return e instanceof ht(e).Element}function Cc(e){return e instanceof ht(e).Node}function kc(e){return typeof ShadowRoot>"u"?!1:e instanceof ht(e).ShadowRoot||e instanceof ShadowRoot}function ui(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Tt(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function Vu(e){return["table","td","th"].includes(le(e))}function Co(e){const t=/firefox/i.test($c()),n=Tt(e),s=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!s&&s!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const r=n.contain;return r!=null&&r.includes(i)})}function Sc(){return!/^((?!chrome|android).)*safari/i.test($c())}function ko(e){return["html","body","#document"].includes(le(e))}const xc=Math.min,Gn=Math.max,fi=Math.round;function Ec(e){const t=Tt(e);let n=parseFloat(t.width),s=parseFloat(t.height);const i=e.offsetWidth,r=e.offsetHeight,o=fi(n)!==i||fi(s)!==r;return o&&(n=i,s=r),{width:n,height:s,fallback:o}}function Mc(e){return yt(e)?e:e.contextElement}const Tc={x:1,y:1};function sn(e){const t=Mc(e);if(!Vt(t))return Tc;const n=t.getBoundingClientRect(),{width:s,height:i,fallback:r}=Ec(t);let o=(r?fi(n.width):n.width)/s,a=(r?fi(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function Le(e,t,n,s){var i,r;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Mc(e);let l=Tc;t&&(s?yt(s)&&(l=sn(s)):l=sn(e));const h=a?ht(a):window,c=!Sc()&&n;let d=(o.left+(c&&((i=h.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,u=(o.top+(c&&((r=h.visualViewport)==null?void 0:r.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const y=ht(a),v=s&&yt(s)?ht(s):s;let w=y.frameElement;for(;w&&s&&v!==y;){const _=sn(w),k=w.getBoundingClientRect(),E=getComputedStyle(w);k.x+=(w.clientLeft+parseFloat(E.paddingLeft))*_.x,k.y+=(w.clientTop+parseFloat(E.paddingTop))*_.y,d*=_.x,u*=_.y,f*=_.x,p*=_.y,d+=k.x,u+=k.y,w=ht(w).frameElement}}return{width:f,height:p,top:u,right:d+f,bottom:u+p,left:d,x:d,y:u}}function ce(e){return((Cc(e)?e.ownerDocument:e.document)||window.document).documentElement}function pi(e){return yt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Rc(e){return Le(ce(e)).left+pi(e).scrollLeft}function qu(e,t,n){const s=Vt(t),i=ce(t),r=Le(e,!0,n==="fixed",t);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(s||!s&&n!=="fixed")if((le(t)!=="body"||ui(i))&&(o=pi(t)),Vt(t)){const l=Le(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else i&&(a.x=Rc(i));return{x:r.left+o.scrollLeft-a.x,y:r.top+o.scrollTop-a.y,width:r.width,height:r.height}}function jn(e){if(le(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(kc(e)?e.host:null)||ce(e);return kc(t)?t.host:t}function Nc(e){return Vt(e)&&Tt(e).position!=="fixed"?e.offsetParent:null}function Ac(e){const t=ht(e);let n=Nc(e);for(;n&&Vu(n)&&Tt(n).position==="static";)n=Nc(n);return n&&(le(n)==="html"||le(n)==="body"&&Tt(n).position==="static"&&!Co(n))?t:n||function(s){let i=jn(s);for(;Vt(i)&&!ko(i);){if(Co(i))return i;i=jn(i)}return null}(e)||t}function Lc(e){const t=jn(e);return ko(t)?e.ownerDocument.body:Vt(t)&&ui(t)?t:Lc(t)}function Yn(e,t){var n;t===void 0&&(t=[]);const s=Lc(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),r=ht(s);return i?t.concat(r,r.visualViewport||[],ui(s)?s:[]):t.concat(s,Yn(s))}function Pc(e,t,n){return t==="viewport"?ci(function(s,i){const r=ht(s),o=ce(s),a=r.visualViewport;let l=o.clientWidth,h=o.clientHeight,c=0,d=0;if(a){l=a.width,h=a.height;const u=Sc();(u||!u&&i==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:l,height:h,x:c,y:d}}(e,n)):yt(t)?function(s,i){const r=Le(s,!0,i==="fixed"),o=r.top+s.clientTop,a=r.left+s.clientLeft,l=Vt(s)?sn(s):{x:1,y:1},h=s.clientWidth*l.x,c=s.clientHeight*l.y,d=a*l.x,u=o*l.y;return{top:u,left:d,right:d+h,bottom:u+c,x:d,y:u,width:h,height:c}}(t,n):ci(function(s){var i;const r=ce(s),o=pi(s),a=(i=s.ownerDocument)==null?void 0:i.body,l=Gn(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=Gn(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+Rc(s);const d=-o.scrollTop;return Tt(a||r).direction==="rtl"&&(c+=Gn(r.clientWidth,a?a.clientWidth:0)-l),{width:l,height:h,x:c,y:d}}(ce(e)))}const Gu={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const r=n==="clippingAncestors"?function(h,c){const d=c.get(h);if(d)return d;let u=Yn(h).filter(v=>yt(v)&&le(v)!=="body"),f=null;const p=Tt(h).position==="fixed";let y=p?jn(h):h;for(;yt(y)&&!ko(y);){const v=Tt(y),w=Co(y);(p?w||f:w||v.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=v:u=u.filter(_=>_!==y),y=jn(y)}return c.set(h,u),u}(t,this._c):[].concat(n),o=[...r,s],a=o[0],l=o.reduce((h,c)=>{const d=Pc(t,c,i);return h.top=Gn(d.top,h.top),h.right=xc(d.right,h.right),h.bottom=xc(d.bottom,h.bottom),h.left=Gn(d.left,h.left),h},Pc(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:s}=e;const i=Vt(n),r=ce(n);if(n===r)return t;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((i||!i&&s!=="fixed")&&((le(n)!=="body"||ui(r))&&(o=pi(n)),Vt(n))){const h=Le(n);a=sn(n),l.x=h.x+n.clientLeft,l.y=h.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-o.scrollLeft*a.x+l.x,y:t.y*a.y-o.scrollTop*a.y+l.y}},isElement:yt,getDimensions:function(e){return Ec(e)},getOffsetParent:Ac,getDocumentElement:ce,getScale:sn,async getElementRects(e){let{reference:t,floating:n,strategy:s}=e;const i=this.getOffsetParent||Ac,r=this.getDimensions;return{reference:qu(t,await i(n),s),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Tt(e).direction==="rtl"};function ju(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=!0,animationFrame:a=!1}=s,l=i&&!a,h=l||r?[...yt(e)?Yn(e):e.contextElement?Yn(e.contextElement):[],...Yn(t)]:[];h.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),r&&f.addEventListener("resize",n)});let c,d=null;if(o){let f=!0;d=new ResizeObserver(()=>{f||n(),f=!1}),yt(e)&&!a&&d.observe(e),yt(e)||!e.contextElement||a||d.observe(e.contextElement),d.observe(t)}let u=a?Le(e):null;return a&&function f(){const p=Le(e);!u||p.x===u.x&&p.y===u.y&&p.width===u.width&&p.height===u.height||n(),u=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;h.forEach(p=>{l&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),(f=d)==null||f.disconnect(),d=null,a&&cancelAnimationFrame(c)}}const Yu=(e,t,n)=>{const s=new Map,i={platform:Gu,...n},r={...i.platform,_c:s};return Lu(e,t,{...i,platform:r})};var So=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},V=(e,t,n)=>(So(e,t,"read from private field"),n?n.call(e):t.get(e)),J=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Pe=(e,t,n,s)=>(So(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Rt=(e,t,n)=>(So(e,t,"access private method"),n),Kn,Xn,Jn,rn,at,xo,gi,mi,Eo,Mo,Dc,To,Wc,Ro,Ic,No,Oc,Ao,Hc,Lo,Bc,Po,zc,Zn,Do,Fc;const on=class extends ot{constructor(){super(...arguments),J(this,mi),J(this,Mo),J(this,To),J(this,Ro),J(this,No),J(this,Ao),J(this,Lo),J(this,Po),J(this,Do),J(this,Kn,!1),J(this,Xn,void 0),J(this,Jn,0),J(this,rn,void 0),J(this,at,void 0),J(this,xo,void 0),J(this,gi,void 0),this.hideLater=()=>{V(this,Zn).call(this),Pe(this,Jn,window.setTimeout(this.hide.bind(this),100))},J(this,Zn,()=>{clearTimeout(V(this,Jn)),Pe(this,Jn,0)})}get isShown(){var e;return(e=V(this,rn))==null?void 0:e.classList.contains(on.CLASS_SHOW)}get tooltip(){return V(this,rn)||Rt(this,To,Wc).call(this)}get trigger(){return V(this,xo)||this.element}get isHover(){return this.options.trigger==="hover"}get elementShowClass(){return`with-${on.NAME}-show`}get isDynamic(){return this.options.title}init(){const{element:e}=this;e!==document.body&&!e.hasAttribute("data-toggle")&&e.setAttribute("data-toggle","tooltip")}show(e){return this.setOptions(e),!V(this,Kn)&&this.isHover&&Rt(this,Do,Fc).call(this),this.options.animation&&this.tooltip.classList.add("fade"),this.element.classList.add(this.elementShowClass),this.tooltip.classList.add(on.CLASS_SHOW),Rt(this,Lo,Bc).call(this),!0}hide(){var t;var e;return(e=V(this,gi))==null||e.call(this),this.element.classList.remove(this.elementShowClass),(t=V(this,rn))==null||t.classList.remove(on.CLASS_SHOW),!0}toggle(e){return this.isShown?this.hide():this.show(e)}destroy(){V(this,Kn)&&(this.element.removeEventListener("mouseleave",this.hideLater),this.tooltip.removeEventListener("mouseenter",V(this,Zn)),this.tooltip.removeEventListener("mouseleave",this.hideLater)),super.destroy()}static clear(e){e instanceof Event&&(e={event:e});const{exclude:t}=e||{},n=this.getAll().entries(),s=new Set(t||[]);for(const[i,r]of n)s.has(i)||r.hide()}};let wt=on;Kn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,rn=new WeakMap,at=new WeakMap,xo=new WeakMap,gi=new WeakMap,mi=new WeakSet,Eo=function(){const{arrow:e}=this.options;return typeof e=="number"?e:8},Mo=new WeakSet,Dc=function(){const e=Rt(this,mi,Eo).call(this);return Pe(this,at,document.createElement("div")),V(this,at).style.position=this.options.strategy,V(this,at).style.width=`${e}px`,V(this,at).style.height=`${e}px`,V(this,at).style.transform="rotate(45deg)",V(this,at)},To=new WeakSet,Wc=function(){var n;const e=on.TOOLTIP_CLASS;let t;if(this.isDynamic){t=document.createElement("div");const s=this.options.className?this.options.className.split(" "):[];let i=[e,this.options.type||""];i=i.concat(s),t.classList.add(...i),t[this.options.html?"innerHTML":"innerText"]=this.options.title||""}else if(this.element){const s=this.element.getAttribute("href")??this.element.dataset.target;if(s!=null&&s.startsWith("#")&&(t=document.querySelector(s)),!t){const i=this.element.nextElementSibling;i!=null&&i.classList.contains(e)?t=i:t=(n=this.element.parentNode)==null?void 0:n.querySelector(`.${e}`)}}if(this.options.arrow&&(t==null||t.append(Rt(this,Mo,Dc).call(this))),!t)throw new Error("Tooltip: Cannot find tooltip element");return t.style.width="max-content",t.style.position="absolute",t.style.top="0",t.style.left="0",document.body.appendChild(t),Pe(this,rn,t),t},Ro=new WeakSet,Ic=function(){var i;const e=Rt(this,mi,Eo).call(this),{strategy:t,placement:n}=this.options,s={middleware:[Uu(e),Fu()],strategy:t,placement:n};return this.options.arrow&&V(this,at)&&((i=s.middleware)==null||i.push(Ou({element:V(this,at)}))),s},No=new WeakSet,Oc=function(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]},Ao=new WeakSet,Hc=function(e){return e==="bottom"?{borderBottomStyle:"none",borderRightStyle:"none"}:e==="top"?{borderTopStyle:"none",borderLeftStyle:"none"}:e==="left"?{borderBottomStyle:"none",borderLeftStyle:"none"}:{borderTopStyle:"none",borderRightStyle:"none"}},Lo=new WeakSet,Bc=function(){const e=Rt(this,Ro,Ic).call(this),t=Rt(this,Po,zc).call(this);Pe(this,gi,ju(t,this.tooltip,()=>{Yu(t,this.tooltip,e).then(({x:n,y:s,middlewareData:i,placement:r})=>{Object.assign(this.tooltip.style,{left:`${n}px`,top:`${s}px`});const o=r.split("-")[0],a=Rt(this,No,Oc).call(this,o);if(i.arrow&&V(this,at)){const{x:l,y:h}=i.arrow;Object.assign(V(this,at).style,{left:l!=null?`${l}px`:"",top:h!=null?`${h}px`:"",[a]:`${-V(this,at).offsetWidth/2}px`,background:"inherit",border:"inherit",...Rt(this,Ao,Hc).call(this,o)})}})}))},Po=new WeakSet,zc=function(){return V(this,Xn)||Pe(this,Xn,{getBoundingClientRect:()=>{const{element:e}=this;if(e instanceof MouseEvent){const{clientX:t,clientY:n}=e;return{width:0,height:0,top:n,right:t,bottom:n,left:t}}return e instanceof HTMLElement?e.getBoundingClientRect():e},contextElement:this.element}),V(this,Xn)},Zn=new WeakMap,Do=new WeakSet,Fc=function(){const{tooltip:e}=this;e.addEventListener("mouseenter",V(this,Zn)),e.addEventListener("mouseleave",this.hideLater),this.element.addEventListener("mouseleave",this.hideLater),Pe(this,Kn,!0)},wt.NAME="tooltip",wt.TOOLTIP_CLASS="tooltip",wt.CLASS_SHOW="show",wt.MENU_SELECTOR='[data-toggle="tooltip"]:not(.disabled):not(:disabled)',wt.DEFAULT={animation:!0,placement:"top",strategy:"absolute",trigger:"hover",type:"darker",arrow:!0},document.addEventListener("click",function(e){var s;const t=e.target,n=(s=t.closest)==null?void 0:s.call(t,wt.MENU_SELECTOR);if(n){const i=wt.ensure(n);i.options.trigger==="click"&&i.toggle()}else wt.clear({event:e})}),document.addEventListener("mouseover",function(e){var i;const t=e.target,n=(i=t.closest)==null?void 0:i.call(t,wt.MENU_SELECTOR);if(!n)return;const s=wt.ensure(n);s.isHover&&s.show()});function Ku({type:e,component:t,className:n,children:s,style:i,attrs:r,url:o,disabled:a,active:l,icon:h,text:c,target:d,trailingIcon:u,hint:f,checked:p,actions:y,show:v,level:w=0,items:_,...k}){const E=Array.isArray(y)?{items:y}:y;return E&&(E.btnProps||(E.btnProps={size:"sm"}),E.className=T("tree-actions not-nested-toggle",E.className)),m("div",{className:T("tree-item-content",n,{disabled:a,active:l}),title:f,"data-target":d,style:Object.assign({paddingLeft:`calc(${w} * var(--tree-indent, 20px))`},i),"data-level":w,...r,...k,children:[m("span",{class:`tree-toggle-icon${_?" state":""}`,children:_?m("span",{class:`caret-${v?"down":"right"}`}):null}),typeof p=="boolean"?m("div",{class:`tree-checkbox checkbox-primary${p?" checked":""}`,children:m("label",{})}):null,m(ze,{icon:h,className:"tree-icon"}),o?m("a",{className:"text tree-link not-nested-toggle",href:o,children:c}):m("span",{class:"text",children:c}),typeof s=="function"?s():s,E?m(pt,{...E}):null,m(ze,{icon:u,className:"tree-trailing-icon"})]})}let Wo=class extends Rs{get nestedTrigger(){return this.props.nestedTrigger||"click"}get menuName(){return"tree"}getNestedMenuProps(t){const n=super.getNestedMenuProps(t),{collapsedIcon:s,expandedIcon:i,normalIcon:r,itemActions:o}=this.props;return{collapsedIcon:s,expandedIcon:i,normalIcon:r,itemActions:o,...n}}getItemRenderProps(t,n,s){const i=super.getItemRenderProps(t,n,s),{collapsedIcon:r,expandedIcon:o,normalIcon:a,itemActions:l}=t;return i.icon===void 0&&(i.icon=i.items?i.show?o:r:a),i.actions===void 0&&l&&(i.actions=typeof l=="function"?l(n):l),i}renderToggleIcon(){return null}beforeRender(){const t=super.beforeRender(),{hover:n}=this.props;return n&&(t.className=T(t.className,"tree-hover")),t}};Wo.ItemComponents={item:Ku},Wo.NAME="tree";class Io extends X{}Io.NAME="Tree",Io.Component=Wo;const fp="",pp="";class Xu extends U{constructor(n){super(n);P(this,ds,lt());P(this,Ii,n=>{n.stopPropagation(),nt.show({event:n.target,placement:"bottom-end",menu:{onClickItem:({item:s})=>{var i;((i=s.attrs)==null?void 0:i["data-type"])==="refresh"&&this.load()}},...this.props.block.menu})});P(this,Oi,n=>{var r,o,a;const{element:s}=this,i=s.getBoundingClientRect();if(n.clientY-i.top>48){n.preventDefault();return}this.setState({dragging:!0}),(r=n.dataTransfer)==null||r.setData("application/id",this.props.block.id),(a=(o=this.props).onDragStart)==null||a.call(o,n)});P(this,Hi,n=>{var s,i;this.setState({dragging:!1}),(i=(s=this.props).onDragEnd)==null||i.call(s,n)});this.state={content:m("div",{class:"dashboard-block-body",children:n.block.content})}}get element(){return x(this,ds).current}componentDidMount(){this.load(),g(this.element).on("load.zui.dashboard",this.load.bind(this))}componentWillUnmount(){g(this.element).off("load.zui.dashboard")}load(){const{block:n}=this.props;let s=n.fetch;if(!s||this.state.loading)return;typeof s=="string"?s={url:s}:typeof s=="function"&&(s=s(n.id,n));const{url:i,...r}=s;this.setState({loading:!0},()=>{fetch(et(i,n),{headers:{"X-Requested-With":"XMLHttpRequest"},...r}).then(o=>{o.ok?o.text().then(a=>{this.setState({loading:!1,content:m(ur,{class:"dashboard-block-body",html:a,executeScript:!0})})}):this.setState({loading:!1,content:m("div",{class:"text-danger p-5 text-center",children:["Error: ",o.statusText]})})})})}render(){const{left:n,top:s,width:i,height:r,style:o,block:a}=this.props,{title:l,menu:h,id:c}=a,{loading:d,content:u,dragging:f}=this.state;return m("div",{class:"dashboard-block-cell",style:{left:n,top:s,width:i,height:r,...o},children:m("div",{class:`dashboard-block load-indicator${d?" loading":""}${h?" has-more-menu":""}${f?" is-dragging":""}`,draggable:!0,onDragStart:x(this,Oi),onDragEnd:x(this,Hi),"data-id":c,ref:x(this,ds),children:[m("div",{class:"dashboard-block-header",children:[m("div",{class:"dashboard-block-title",children:l}),h?m("div",{class:"dashboard-block-actions toolbar",children:m("button",{class:"toolbar-item dashboard-block-action btn square ghost rounded size-sm","data-type":"more",onClick:x(this,Ii),children:m("div",{class:"more-vert"})})}):null]}),u]})})}}ds=new WeakMap,Ii=new WeakMap,Oi=new WeakMap,Hi=new WeakMap;const gp="",mp="";var Uc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},qt=(e,t,n)=>(Uc(e,t,"read from private field"),n?n.call(e):t.get(e)),vt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_t=(e,t,n)=>(Uc(e,t,"access private method"),n),Gt,Oo,Vc,Ho,qc,Bo,Gc,zo,jc,yi,Fo,wi,Uo,Vo,Yc,qo,Go,vi,jo;const Yo=class extends U{constructor(){super(...arguments),vt(this,Oo),vt(this,Ho),vt(this,Bo),vt(this,zo),vt(this,yi),vt(this,wi),vt(this,Vo),vt(this,Gt,new Map),this.state={},vt(this,qo,e=>{var n;const t=(n=e.dataTransfer)==null?void 0:n.getData("application/id");t!==void 0&&(this.setState({dragging:t}),console.log("handleBlockDragStart",e))}),vt(this,Go,e=>{this.setState({dragging:void 0}),console.log("handleBlockDragEnd",e)})}render(){const{blocks:e,height:t}=_t(this,Bo,Gc).call(this),{cellHeight:n,grid:s}=this.props,i=qt(this,Gt);return console.log("Dashboard.render",{blocks:e,map:i},this),m("div",{class:"dashboard",children:m("div",{class:"dashboard-blocks",style:{height:t*n},children:e.map((r,o)=>{const{id:a}=r,[l,h,c,d]=i.get(a)||[0,0,r.width,r.height];return m(Xu,{id:a,index:o,left:`${100*l/s}%`,top:n*h,height:n*d,width:`${100*c/s}%`,block:r,moreMenu:!0,onDragStart:qt(this,qo),onDragEnd:qt(this,Go)},r.id)})})})}};let Ko=Yo;Gt=new WeakMap,Oo=new WeakSet,Vc=function(e){const{blockDefaultSize:t,blockSizeMap:n}=this.props;return e=e??t,typeof e=="string"&&(e=n[e]),e=e||t,Array.isArray(e)||(e=[e.width,e.height]),e},Ho=new WeakSet,qc=function(){const{blocks:e,blockFetch:t,blockMenu:n}=this.props;return e.map(i=>{const{id:r,size:o,left:a=-1,top:l=-1,fetch:h=t,menu:c=n,...d}=i,[u,f]=_t(this,Oo,Vc).call(this,o);return{id:`${r}`,width:u,height:f,left:a,top:l,fetch:h,menu:c,...d}})},Bo=new WeakSet,Gc=function(){qt(this,Gt).clear();let e=0;const t=_t(this,Ho,qc).call(this);return t.forEach(n=>{_t(this,zo,jc).call(this,n);const[,s,,i]=qt(this,Gt).get(n.id);e=Math.max(e,s+i)}),{blocks:t,height:e}},zo=new WeakSet,jc=function(e){const t=qt(this,Gt),{id:n,left:s,top:i,width:r,height:o}=e;if(s<0||i<0){const[a,l]=_t(this,Vo,Yc).call(this,r,o,s,i);t.set(n,[a,l,r,o])}else _t(this,wi,Uo).call(this,n,[s,i,r,o])},yi=new WeakSet,Fo=function(e){var t;const{dragging:n}=this.state;for(const[s,i]of qt(this,Gt).entries())if(s!==n&&_t(t=Yo,vi,jo).call(t,i,e))return!1;return!0},wi=new WeakSet,Uo=function(e,t){var n;qt(this,Gt).set(e,t);for(const[s,i]of qt(this,Gt).entries())s!==e&&_t(n=Yo,vi,jo).call(n,i,t)&&(i[1]=t[1]+t[3],_t(this,wi,Uo).call(this,s,i))},Vo=new WeakSet,Yc=function(e,t,n,s){if(n>=0&&s>=0){if(_t(this,yi,Fo).call(this,[n,s,e,t]))return[n,s];s=-1}let i=n<0?0:n,r=s<0?0:s,o=!1;const a=this.props.grid;for(;!o;){if(_t(this,yi,Fo).call(this,[i,r,e,t])){o=!0;break}n<0?(i+=1,i+e>a&&(i=0,r+=1)):r+=1}return[i,r]},qo=new WeakMap,Go=new WeakMap,vi=new WeakSet,jo=function([e,t,n,s],[i,r,o,a]){return!(e+n<=i||i+o<=e||t+s<=r||r+a<=t)},vt(Ko,vi),Ko.defaultProps={responsive:!1,blocks:[],grid:3,gap:16,cellHeight:64,blockDefaultSize:[1,3],blockMenu:{items:[{text:"Refresh",attrs:{"data-type":"refresh"}}]},blockSizeMap:{xs:[1,3],sm:[1,4],md:[1,5],lg:[1,6],xl:[1,8],xsWide:[2,3],smWide:[2,4],mdWide:[2,5],lgWide:[2,6],xlWide:[2,8],xsLong:[3,3],smLong:[3,4],mdLong:[3,5],lgLong:[3,6],xlLong:[3,8]}};class Xo extends X{}Xo.NAME="Dashboard",Xo.Component=Ko;const yp="";class Kc extends U{constructor(n){super(n);P(this,pe,void 0);P(this,ge,void 0);z(this,pe,0),z(this,ge,null),this._handleWheel=s=>{const{wheelContainer:i}=this.props,r=s.target;if(!(!r||!i)&&(typeof i=="string"&&r.closest(i)||typeof i=="object")){const o=(this.props.type==="horz"?s.deltaX:s.deltaY)*(this.props.wheelSpeed??1);this.scrollOffset(o)&&s.preventDefault()}},this._handleMouseMove=s=>{const{dragStart:i}=this.state;i&&(x(this,pe)&&cancelAnimationFrame(x(this,pe)),z(this,pe,requestAnimationFrame(()=>{const r=this.props.type==="horz"?s.clientX-i.x:s.clientY-i.y;this.scroll(i.offset+r*this.props.scrollSize/this.props.clientSize),z(this,pe,0)})),s.preventDefault())},this._handleMouseUp=()=>{this.state.dragStart&&this.setState({dragStart:!1})},this._handleMouseDown=s=>{this.state.dragStart||this.setState({dragStart:{x:s.clientX,y:s.clientY,offset:this.scrollPos}}),s.stopPropagation()},this._handleClick=s=>{const i=s.currentTarget;if(!i)return;const r=i.getBoundingClientRect(),{type:o,clientSize:a,scrollSize:l}=this.props,h=(o==="horz"?s.clientX-r.left:s.clientY-r.top)-this.barSize/2;this.scroll(h*l/a),s.preventDefault()},this.state={scrollPos:this.props.defaultScrollPos??0,dragStart:!1}}get scrollPos(){return this.props.scrollPos??this.state.scrollPos}get controlled(){return this.props.scrollPos!==void 0}get maxScrollPos(){const{scrollSize:n,clientSize:s}=this.props;return Math.max(0,n-s)}get barSize(){const{clientSize:n,scrollSize:s,size:i=12,minBarSize:r=3*i}=this.props;return Math.max(Math.round(n*n/s),r)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:n}=this.props;n&&(z(this,ge,typeof n=="string"?document:n.current),x(this,ge).addEventListener("wheel",this._handleWheel,{passive:!1}))}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),x(this,ge)&&x(this,ge).removeEventListener("wheel",this._handleWheel)}scroll(n){return n=Math.max(0,Math.min(Math.round(n),this.maxScrollPos)),n===this.scrollPos?!1:(this.controlled?this._afterScroll(n):this.setState({scrollPos:n},this._afterScroll.bind(this,n)),!0)}scrollOffset(n){return this.scroll(this.scrollPos+n)}_afterScroll(n){const{onScroll:s}=this.props;s&&s(n,this.props.type??"vert")}render(){const{clientSize:n,type:s,size:i=12,className:r,style:o,left:a,top:l,bottom:h,right:c}=this.props,{maxScrollPos:d,scrollPos:u}=this,{dragStart:f}=this.state,p={left:a,top:l,bottom:h,right:c,...o},y={};return s==="horz"?(p.height=i,p.width=n,y.width=this.barSize,y.left=Math.round(Math.min(d,u)*(n-y.width)/d)):(p.width=i,p.height=n,y.height=this.barSize,y.top=Math.round(Math.min(d,u)*(n-y.height)/d)),m("div",{className:T("scrollbar",r,{"is-vert":s==="vert","is-horz":s==="horz","is-dragging":f}),style:p,onMouseDown:this._handleClick,children:m("div",{className:"scrollbar-bar",style:y,onMouseDown:this._handleMouseDown})})}}pe=new WeakMap,ge=new WeakMap;function Xc({col:e,className:t,height:n,row:s,onRenderCell:i,style:r,outerStyle:o,children:a,outerClass:l,...h}){var H;const c={left:e.left,width:e.realWidth,height:n,...o},{align:d,border:u}=e.setting,f={justifyContent:d?d==="left"?"start":d==="right"?"end":d:void 0,...e.setting.cellStyle,...r},p=["dtable-cell",l,t,e.setting.className,{"has-border-left":u===!0||u==="left","has-border-right":u===!0||u==="right"}],y=["dtable-cell-content",e.setting.cellClass],v=(H=s.data)==null?void 0:H[e.name],w=[a??v??""],_=i?i(w,{row:s,col:e,value:v},G):w,k=[],E=[],S={},R={};let A="div";_==null||_.forEach($=>{if(typeof $=="object"&&$&&!b.isValidElement($)&&("html"in $||"className"in $||"style"in $||"attrs"in $||"children"in $||"tagName"in $)){const N=$.outer?k:E;$.html?N.push(m("div",{className:T("dtable-cell-html",$.className),style:$.style,dangerouslySetInnerHTML:{__html:$.html},...$.attrs??{}})):($.style&&Object.assign($.outer?c:f,$.style),$.className&&($.outer?p:y).push($.className),$.children&&N.push($.children),$.attrs&&Object.assign($.outer?S:R,$.attrs)),$.tagName&&!$.outer&&(A=$.tagName)}else E.push($)});const L=A;return m("div",{className:T(p),style:c,"data-col":e.name,"data-type":e.type,...h,...S,children:[E.length>0&&m(L,{className:T(y),style:f,...R,children:E}),k]})}function Jo({row:e,className:t,top:n=0,left:s=0,width:i,height:r,cols:o,CellComponent:a=Xc,onRenderCell:l}){return m("div",{className:T("dtable-cells",t),style:{top:n,left:s,width:i,height:r},children:o.map(h=>h.visible?m(a,{col:h,row:e,onRenderCell:l},h.name):null)})}function Jc({row:e,className:t,top:n,height:s,cols:{left:i,center:r,right:o},scrollLeft:a,CellComponent:l=Xc,onRenderCell:h,style:c,...d}){let u=null;i.list.length&&(u=m(Jo,{className:"dtable-fixed-left",cols:i.list,width:i.width,row:e,CellComponent:l,onRenderCell:h}));let f=null;r.list.length&&(f=m(Jo,{className:"dtable-flexable",cols:r.list,left:i.width-a,width:Math.max(r.width,r.totalWidth),row:e,CellComponent:l,onRenderCell:h}));let p=null;o.list.length&&(p=m(Jo,{className:"dtable-fixed-right",cols:o.list,left:i.width+r.width,width:o.width,row:e,CellComponent:l,onRenderCell:h}));const y={top:n,height:s,lineHeight:`${s-2}px`,...c};return m("div",{className:T("dtable-row",t),style:y,"data-id":e.id,...d,children:[u,f,p]})}function Ju({height:e,onRenderRow:t,...n}){const s={height:e,...n,row:{id:"HEADER",index:-1,top:0},className:"dtable-in-header",top:0};if(t){const i=t({props:s},G);i&&Object.assign(s,i)}return m("div",{className:"dtable-header",style:{height:e},children:m(Jc,{...s})})}function Zu({className:e,style:t,top:n,rows:s,height:i,rowHeight:r,scrollTop:o,onRenderRow:a,...l}){return t={...t,top:n,height:i},m("div",{className:T("dtable-rows",e),style:t,children:s.map(h=>{const c={className:`dtable-row-${h.index%2?"odd":"even"}`,row:h,top:h.top-o,height:r,...l},d=a==null?void 0:a({props:c,row:h},G);return d&&Object.assign(c,d),m(Jc,{...c},h.id)})})}const _i=new Map,bi=[];function Zc(e,t){const{name:n}=e;if(!(t!=null&&t.override)&&_i.has(n))throw new Error(`DTable: Plugin with name ${n} already exists`);_i.set(n,e),t!=null&&t.buildIn&&!bi.includes(n)&&bi.push(n)}function he(e,t){Zc(e,t);const n=s=>{if(!s)return e;const{defaultOptions:i,...r}=e;return{...r,defaultOptions:{...i,...s}}};return n.plugin=e,n}function Qc(e){return _i.delete(e)}function Qu(e){if(typeof e=="string"){const t=_i.get(e);return t||console.warn(`DTable: Cannot found plugin "${e}"`),t}if(typeof e=="function"&&"plugin"in e)return e.plugin;if(typeof e=="object")return e;console.warn("DTable: Invalid plugin",e)}function th(e,t,n){return t.forEach(s=>{var r;if(!s)return;const i=Qu(s);i&&(n.has(i.name)||((r=i.plugins)!=null&&r.length&&th(e,i.plugins,n),e.push(i),n.add(i.name)))}),e}function tf(e=[],t=!0){return t&&bi.length&&e.unshift(...bi),e!=null&&e.length?th([],e,new Set):[]}function eh(){return{cols:[],data:[],rowKey:"id",width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:9999,header:!0,footer:void 0,headerHeight:0,footerHeight:0,rowHover:!0,colHover:!1,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,horzScrollbarPos:"outside"}}const wp="";function ef(e,t,n){return e&&(t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e))),e}function nh(e,t){return typeof e=="string"&&(e=e.endsWith("%")?parseFloat(e)/100:parseFloat(e)),typeof t=="number"&&(typeof e!="number"||isNaN(e))&&(e=t),e}function Zo(e,t=!1){if(!e.list.length)return;if(e.widthSetting&&e.width!==e.widthSetting){e.width=e.widthSetting;const s=e.width-e.totalWidth;if(t||s>0){const i=e.flexList.length?e.flexList:e.list,r=i.reduce((o,a)=>o+(a.flex||1),0);i.forEach(o=>{const a=Math.min(s,Math.ceil(s*((o.flex||1)/r)));o.realWidth=o.width+a})}}let n=0;e.list.forEach(s=>{s.realWidth||(s.realWidth=s.width),s.left=n,n+=s.realWidth})}function nf(e,t,n,s){const{defaultColWidth:i,minColWidth:r,maxColWidth:o,fixedLeftWidth:a=0,fixedRightWidth:l=0}=t,h=_=>(typeof _=="function"&&(_=_.call(e)),_=nh(_,0),_<1&&(_=Math.round(_*s)),_),c={width:0,list:[],flexList:[],widthSetting:0,totalWidth:0},d={...c,list:[],flexList:[],widthSetting:h(a)},u={...c,list:[],flexList:[],widthSetting:h(l)},f=[],p={};let y=!1;const v=[],w={};if(n.forEach(_=>{const{colTypes:k,onAddCol:E}=_;k&&Object.entries(k).forEach(([S,R])=>{w[S]||(w[S]=[]),w[S].push(R)}),E&&v.push(E)}),t.cols.forEach(_=>{if(_.hidden)return;const{type:k="",name:E}=_,S={fixed:!1,flex:!1,width:i,minWidth:r,maxWidth:o,..._,type:k},R={name:E,type:k,setting:S,flex:0,left:0,width:0,realWidth:0,visible:!0,index:f.length},A=w[k];A&&A.forEach(O=>{const W=typeof O=="function"?O.call(e,S):O;W&&Object.assign(S,W,_)});const{fixed:L,flex:H,minWidth:$=r,maxWidth:N=o}=S,I=nh(S.width||i,i);R.flex=H===!0?1:typeof H=="number"?H:0,R.width=ef(I<1?Math.round(I*s):I,$,N),v.forEach(O=>O.call(e,R)),f.push(R),p[R.name]=R;const D=L?L==="left"?d:u:c;D.list.push(R),D.totalWidth+=R.width,D.width=D.totalWidth,R.flex&&D.flexList.push(R),typeof S.order=="number"&&(y=!0)}),y){const _=(k,E)=>(k.setting.order??0)-(E.setting.order??0);f.sort(_),d.list.sort(_),c.list.sort(_),u.list.sort(_)}return Zo(d,!0),Zo(u,!0),c.widthSetting=s-d.width-u.width,Zo(c),{list:f,map:p,left:d,center:c,right:u}}var Qo=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},M=(e,t,n)=>(Qo(e,t,"read from private field"),n?n.call(e):t.get(e)),B=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Z=(e,t,n,s)=>(Qo(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),jt=(e,t,n)=>(Qo(e,t,"access private method"),n),an,Qn,De,Yt,We,Q,Kt,Xt,ts,$i,Ci,de,es,ns,ta,sh,ea,ih,na,rh,sa,oh,ki,ia,ra,oa,Si,xi,aa,la,ca,ah,ha,lh,da,ch;let ua=class extends U{constructor(t){super(t),B(this,ta),B(this,ea),B(this,na),B(this,sa),B(this,ki),B(this,ca),B(this,ha),B(this,da),this.ref=lt(),B(this,an,0),B(this,Qn,void 0),B(this,De,!1),B(this,Yt,void 0),B(this,We,void 0),B(this,Q,[]),B(this,Kt,void 0),B(this,Xt,new Map),B(this,ts,{}),B(this,$i,void 0),B(this,Ci,[]),this.updateLayout=()=>{M(this,an)&&cancelAnimationFrame(M(this,an)),Z(this,an,requestAnimationFrame(()=>{this.update({dirtyType:"layout"}),Z(this,an,0)}))},B(this,de,(n,s)=>{s=s||n.type;const i=M(this,Xt).get(s);if(i!=null&&i.length){for(const r of i)if(r.call(this,n)===!1){n.stopPropagation(),n.preventDefault();break}}}),B(this,es,n=>{M(this,de).call(this,n,`window_${n.type}`)}),B(this,ns,n=>{M(this,de).call(this,n,`document_${n.type}`)}),B(this,ra,(n,s)=>{if(this.options.onRenderRow){const i=this.options.onRenderRow.call(this,n,s);i&&Object.assign(n.props,i)}return M(this,Q).forEach(i=>{if(i.onRenderRow){const r=i.onRenderRow.call(this,n,s);r&&Object.assign(n.props,r)}}),n.props}),B(this,oa,(n,s)=>(this.options.onRenderHeaderRow&&(n.props=this.options.onRenderHeaderRow.call(this,n,s)),M(this,Q).forEach(i=>{i.onRenderHeaderRow&&(n.props=i.onRenderHeaderRow.call(this,n,s))}),n.props)),B(this,Si,(n,s,i)=>{const{row:r,col:o}=s;s.value=this.getCellValue(r,o),n[0]=s.value;const a=r.id==="HEADER"?"onRenderHeaderCell":"onRenderCell";return M(this,Q).forEach(l=>{l[a]&&(n=l[a].call(this,n,s,i))}),this.options[a]&&(n=this.options[a].call(this,n,s,i)),o.setting[a]&&(n=o.setting[a].call(this,n,s,i)),n}),B(this,xi,(n,s)=>{s==="horz"?this.scroll({scrollLeft:n}):this.scroll({scrollTop:n})}),B(this,aa,n=>{var a,l,h,c,d;const s=this.getPointerInfo(n);if(!s)return;const{rowID:i,colName:r,cellElement:o}=s;if(i==="HEADER")o&&((a=this.options.onHeaderCellClick)==null||a.call(this,n,{colName:r,element:o}),M(this,Q).forEach(u=>{var f;(f=u.onHeaderCellClick)==null||f.call(this,n,{colName:r,element:o})}));else{const{rowElement:u}=s,f=this.layout.visibleRows.find(p=>p.id===i);if(o){if(((l=this.options.onCellClick)==null?void 0:l.call(this,n,{colName:r,rowID:i,rowInfo:f,element:o,rowElement:u}))===!0)return;for(const p of M(this,Q))if(((h=p.onCellClick)==null?void 0:h.call(this,n,{colName:r,rowID:i,rowInfo:f,element:o,rowElement:u}))===!0)return}if(((c=this.options.onRowClick)==null?void 0:c.call(this,n,{rowID:i,rowInfo:f,element:u}))===!0)return;for(const p of M(this,Q))if(((d=p.onRowClick)==null?void 0:d.call(this,n,{rowID:i,rowInfo:f,element:u}))===!0)return}}),B(this,la,n=>{const s=n.key.toLowerCase();if(["pageup","pagedown","home","end"].includes(s))return!this.scroll({to:s.replace("page","")})}),Z(this,Qn,t.id??`dtable-${nc(10)}`),this.state={scrollTop:0,scrollLeft:0,renderCount:0},Z(this,We,Object.freeze(tf(t.plugins))),M(this,We).forEach(n=>{var o;const{methods:s,data:i,state:r}=n;s&&Object.entries(s).forEach(([a,l])=>{typeof l=="function"&&Object.assign(this,{[a]:l.bind(this)})}),i&&Object.assign(M(this,ts),i.call(this)),r&&Object.assign(this.state,r.call(this)),(o=n.onCreate)==null||o.call(this,n)})}get options(){var t;return((t=M(this,Kt))==null?void 0:t.options)||M(this,Yt)||eh()}get plugins(){return M(this,Q)}get layout(){return M(this,Kt)}get id(){return M(this,Qn)}get data(){return M(this,ts)}get parent(){var t;return this.props.parent??((t=this.ref.current)==null?void 0:t.parentElement)}componentWillReceiveProps(){Z(this,Yt,void 0)}componentDidMount(){if(M(this,De)?this.forceUpdate():jt(this,ki,ia).call(this),M(this,Q).forEach(t=>{let{events:n}=t;n&&(typeof n=="function"&&(n=n.call(this)),Object.entries(n).forEach(([s,i])=>{i&&this.on(s,i)}))}),this.on("click",M(this,aa)),this.on("keydown",M(this,la)),this.options.responsive)if(typeof ResizeObserver<"u"){const{parent:t}=this;if(t){const n=new ResizeObserver(this.updateLayout);n.observe(t),Z(this,$i,n)}}else this.on("window_resize",this.updateLayout);M(this,Q).forEach(t=>{var n;(n=t.onMounted)==null||n.call(this)})}componentDidUpdate(){M(this,De)?jt(this,ki,ia).call(this):M(this,Q).forEach(t=>{var n;(n=t.onUpdated)==null||n.call(this)})}componentWillUnmount(){var n;(n=M(this,$i))==null||n.disconnect();const{current:t}=this.ref;if(t)for(const s of M(this,Xt).keys())s.startsWith("window_")?window.removeEventListener(s.replace("window_",""),M(this,es)):s.startsWith("document_")?document.removeEventListener(s.replace("document_",""),M(this,ns)):t.removeEventListener(s,M(this,de));M(this,Q).forEach(s=>{var i;(i=s.onUnmounted)==null||i.call(this)}),M(this,We).forEach(s=>{var i;(i=s.onDestory)==null||i.call(this)}),Z(this,ts,{}),M(this,Xt).clear()}on(t,n,s){var r;s&&(t=`${s}_${t}`);const i=M(this,Xt).get(t);i?i.push(n):(M(this,Xt).set(t,[n]),t.startsWith("window_")?window.addEventListener(t.replace("window_",""),M(this,es)):t.startsWith("document_")?document.addEventListener(t.replace("document_",""),M(this,ns)):(r=this.ref.current)==null||r.addEventListener(t,M(this,de)))}off(t,n,s){var o;s&&(t=`${s}_${t}`);const i=M(this,Xt).get(t);if(!i)return;const r=i.indexOf(n);r>=0&&i.splice(r,1),i.length||(M(this,Xt).delete(t),t.startsWith("window_")?window.removeEventListener(t.replace("window_",""),M(this,es)):t.startsWith("document_")?document.removeEventListener(t.replace("document_",""),M(this,ns)):(o=this.ref.current)==null||o.removeEventListener(t,M(this,de)))}emitCustomEvent(t,n){M(this,de).call(this,n instanceof Event?n:new CustomEvent(t,{detail:n}),t)}scroll(t,n){const{scrollLeft:s,scrollTop:i,rowsHeightTotal:r,rowsHeight:o,rowHeight:a,cols:{center:{totalWidth:l,width:h}}}=this.layout,{to:c}=t;let{scrollLeft:d,scrollTop:u}=t;if(c==="up"||c==="down")u=i+(c==="down"?1:-1)*Math.floor(o/a)*a;else if(c==="left"||c==="right")d=s+(c==="right"?1:-1)*h;else if(c==="top")u=0;else if(c==="bottom")u=r-o;else if(c==="begin")d=0;else if(c==="end")d=l-h;else{const{offsetLeft:p,offsetTop:y}=t;typeof p=="number"&&(d=s+p),typeof y=="number"&&(d=i+y)}const f={};return typeof d=="number"&&(d=Math.max(0,Math.min(d,l-h)),d!==s&&(f.scrollLeft=d)),typeof u=="number"&&(u=Math.max(0,Math.min(u,r-o)),u!==i&&(f.scrollTop=u)),Object.keys(f).length?(this.setState(f,()=>{var p;(p=this.options.onScroll)==null||p.call(this,f),n==null||n.call(this,!0)}),!0):(n==null||n.call(this,!1),!1)}getColInfo(t){if(t===void 0)return;if(typeof t=="object")return t;const{cols:n}=this.layout;return typeof t=="number"?n.list[t]:n.map[t]}getRowInfo(t){if(t===void 0)return;if(typeof t=="object")return t;if(t===-1||t==="HEADER")return{id:"HEADER",index:-1,top:0};const{rows:n,rowsMap:s,allRows:i}=this.layout;return typeof t=="number"?n[t]:s[t]||i.find(r=>r.id===t)}getCellValue(t,n){var a;const s=typeof t=="object"?t:this.getRowInfo(t);if(!s)return;const i=typeof n=="object"?n:this.getColInfo(n);if(!i)return;let r=s.id==="HEADER"?i.setting.title:(a=s.data)==null?void 0:a[i.name];const{cellValueGetter:o}=this.options;return o&&(r=o.call(this,s,i,r)),r}getRowInfoByIndex(t){return this.layout.rows[t]}update(t={},n){if(!M(this,Yt))return;typeof t=="function"&&(n=t,t={});const{dirtyType:s,state:i}=t;if(s==="layout")Z(this,Kt,void 0);else if(s==="options"){if(Z(this,Yt,void 0),!M(this,Kt))return;Z(this,Kt,void 0)}this.setState(i??(r=>({renderCount:r.renderCount+1})),n)}getPointerInfo(t){const n=t.target;if(!n||n.closest(".no-cell-event"))return;const s=n.closest(".dtable-cell");if(!s)return;const i=s.closest(".dtable-row");if(!i)return;const r=s==null?void 0:s.getAttribute("data-col"),o=i==null?void 0:i.getAttribute("data-id");if(!(typeof r!="string"||typeof o!="string"))return{cellElement:s,rowElement:i,colName:r,rowID:o,target:n}}i18n(t,n,s){return kt(M(this,Ci),t,n,s,this.options.lang)??`{i18n:${t}}`}getPlugin(t){return this.plugins.find(n=>n.name===t)}render(){const t=jt(this,da,ch).call(this),{className:n,rowHover:s,colHover:i,cellHover:r,bordered:o,striped:a,scrollbarHover:l}=this.options,h={},c=["dtable",n,{"dtable-hover-row":s,"dtable-hover-col":i,"dtable-hover-cell":r,"dtable-bordered":o,"dtable-striped":a,"scrollbar-hover":l}],d=[];return t&&(h.width=t.width,h.height=t.height,c.push({"dtable-scrolled-down":t.scrollTop>0,"dtable-scrolled-bottom":t.scrollTop>=t.rowsHeightTotal-t.rowsHeight,"dtable-scrolled-right":t.scrollLeft>0,"dtable-scrolled-end":t.scrollLeft>=t.cols.center.totalWidth-t.cols.center.width}),d.push(jt(this,ta,sh).call(this,t),jt(this,ea,ih).call(this,t),jt(this,na,rh).call(this,t),jt(this,sa,oh).call(this,t)),M(this,Q).forEach(u=>{var p;const f=(p=u.onRender)==null?void 0:p.call(this,t);f&&(f.style&&Object.assign(h,f.style),f.className&&c.push(f.className),f.children&&d.push(f.children))})),m("div",{id:M(this,Qn),className:T(c),style:h,ref:this.ref,tabIndex:-1,children:d})}};an=new WeakMap,Qn=new WeakMap,De=new WeakMap,Yt=new WeakMap,We=new WeakMap,Q=new WeakMap,Kt=new WeakMap,Xt=new WeakMap,ts=new WeakMap,$i=new WeakMap,Ci=new WeakMap,de=new WeakMap,es=new WeakMap,ns=new WeakMap,ta=new WeakSet,sh=function(e){const{header:t,cols:n,headerHeight:s,scrollLeft:i}=e;if(!t)return null;if(t===!0)return m(Ju,{scrollLeft:i,height:s,cols:n,onRenderCell:M(this,Si),onRenderRow:M(this,oa)},"header");const r=Array.isArray(t)?t:[t];return m(Ss,{className:"dtable-header",style:{height:s},renders:r,generateArgs:[e],generatorThis:this},"header")},ea=new WeakSet,ih=function(e){const{headerHeight:t,rowsHeight:n,visibleRows:s,rowHeight:i,cols:r,scrollLeft:o,scrollTop:a}=e;return m(Zu,{top:t,height:n,rows:s,rowHeight:i,scrollLeft:o,scrollTop:a,cols:r,onRenderCell:M(this,Si),onRenderRow:M(this,ra)},"rows")},na=new WeakSet,rh=function(e){let{footer:t}=e;if(typeof t=="function"&&(t=t.call(this,e)),!t)return null;const n=Array.isArray(t)?t:[t];return m(Ss,{className:"dtable-footer",style:{height:e.footerHeight,top:e.rowsHeight+e.headerHeight},renders:n,generateArgs:[e],generatorThis:this,generators:e.footerGenerators},"footer")},sa=new WeakSet,oh=function(e){const t=[],{scrollLeft:n,cols:{left:{width:s},center:{width:i,totalWidth:r}},scrollTop:o,rowsHeight:a,rowsHeightTotal:l,footerHeight:h,headerHeight:c}=e,{scrollbarSize:d=12,horzScrollbarPos:u}=this.options;return r>i&&t.push(m(Kc,{type:"horz",scrollPos:n,scrollSize:r,clientSize:i,onScroll:M(this,xi),left:s,bottom:(u==="inside"?0:-d)+h,size:d,wheelContainer:this.ref},"horz"),m("div",{className:"dtable-scroll-shadow is-left",style:{left:s,height:c+a}}),m("div",{className:"dtable-scroll-shadow is-right",style:{left:s+i,height:c+a}})),l>a&&t.push(m(Kc,{type:"vert",scrollPos:o,scrollSize:l,clientSize:a,onScroll:M(this,xi),right:0,size:d,top:c,wheelContainer:this.ref},"vert")),t.length?t:null},ki=new WeakSet,ia=function(){var e;Z(this,De,!1),(e=this.options.afterRender)==null||e.call(this),M(this,Q).forEach(t=>{var n;return(n=t.afterRender)==null?void 0:n.call(this)})},ra=new WeakMap,oa=new WeakMap,Si=new WeakMap,xi=new WeakMap,aa=new WeakMap,la=new WeakMap,ca=new WeakSet,ah=function(){if(M(this,Yt))return!1;const t={...eh(),...M(this,We).reduce((n,s)=>{const{defaultOptions:i}=s;return i&&Object.assign(n,i),n},{}),...this.props};return Z(this,Q,M(this,We).reduce((n,s)=>{const{when:i,options:r}=s;let o=t;return r&&(o=Object.assign({...o},typeof r=="function"?r.call(this,t):r)),(!i||i(o))&&(o!==t&&Object.assign(t,o),n.push(s)),n},[])),Z(this,Yt,t),Z(this,Ci,[this.options.i18n,...this.plugins.map(n=>n.i18n)].filter(Boolean)),!0},ha=new WeakSet,lh=function(){var L,H;const{plugins:e}=this;let t=M(this,Yt);const n={flex:m("div",{style:"flex:auto"}),divider:m("div",{style:"width:1px;margin:var(--space);background:var(--color-border);height:50%"})};e.forEach($=>{var I;const N=(I=$.beforeLayout)==null?void 0:I.call(this,t);N&&(t={...t,...N}),Object.assign(n,$.footer)});let s=t.width,i=0;if(typeof s=="function"&&(s=s.call(this)),s==="100%"){const{parent:$}=this;if($)i=$.clientWidth;else{Z(this,De,!0);return}}const r=nf(this,t,e,i),{data:o,rowKey:a="id",rowHeight:l}=t,h=[],c=($,N,I)=>{var O,W;const D={data:I??{[a]:$},id:$,index:h.length,top:0};if(I||(D.lazy=!0),h.push(D),((O=t.onAddRow)==null?void 0:O.call(this,D,N))!==!1){for(const q of e)if(((W=q.onAddRow)==null?void 0:W.call(this,D,N))===!1)return}};if(typeof o=="number")for(let $=0;$<o;$++)c(`${$}`,$);else Array.isArray(o)&&o.forEach(($,N)=>{typeof $=="object"?c(`${$[a]??""}`,N,$):c(`${$??""}`,N)});let d=h;const u={};if(t.onAddRows){const $=t.onAddRows.call(this,d);$&&(d=$)}for(const $ of e){const N=(L=$.onAddRows)==null?void 0:L.call(this,d);N&&(d=N)}d.forEach(($,N)=>{u[$.id]=$,$.index=N,$.top=$.index*l});const{header:f,footer:p}=t,y=f?t.headerHeight||l:0,v=p?t.footerHeight||l:0;let w=t.height,_=0;const k=d.length*l,E=y+v+k;if(typeof w=="function"&&(w=w.call(this,E)),w==="auto")_=E;else if(typeof w=="object")_=Math.min(w.max,Math.max(w.min,E));else if(w==="100%"){const{parent:$}=this;if($)_=$.clientHeight;else{_=0,Z(this,De,!0);return}}else _=w;const S=_-y-v,R={options:t,allRows:h,width:i,height:_,rows:d,rowsMap:u,rowHeight:l,rowsHeight:S,rowsHeightTotal:k,header:f,footer:p,footerGenerators:n,headerHeight:y,footerHeight:v,cols:r},A=(H=t.onLayout)==null?void 0:H.call(this,R);A&&Object.assign(R,A),e.forEach($=>{if($.onLayout){const N=$.onLayout.call(this,R);N&&Object.assign(R,N)}}),Z(this,Kt,R)},da=new WeakSet,ch=function(){(jt(this,ca,ah).call(this)||!M(this,Kt))&&jt(this,ha,lh).call(this);const{layout:e}=this;if(!e)return;const{cols:{center:t}}=e;let{scrollLeft:n}=this.state;n=Math.min(Math.max(0,t.totalWidth-t.width),n);let s=0;t.list.forEach(p=>{p.left=s,s+=p.realWidth,p.visible=p.left+p.realWidth>=n&&p.left<=n+t.width});const{rowsHeightTotal:i,rowsHeight:r,rows:o,rowHeight:a}=e,l=Math.min(Math.max(0,i-r),this.state.scrollTop),h=Math.floor(l/a),c=l+r,d=Math.min(o.length,Math.ceil(c/a)),u=[],{rowDataGetter:f}=this.options;for(let p=h;p<d;p++){const y=o[p];y.lazy&&f&&(y.data=f([y.id])[0],y.lazy=!1),u.push(y)}return e.visibleRows=u,e.scrollTop=l,e.scrollLeft=n,e},ua.addPlugin=Zc,ua.removePlugin=Qc;function hh(e,t){t!==void 0?e.data.hoverCol=t:t=e.data.hoverCol;const{current:n}=e.ref;if(!n)return;const s="dtable-col-hover";n.querySelectorAll(`.${s}`).forEach(i=>i.classList.remove(s)),typeof t=="string"&&t.length&&n.querySelectorAll(`.dtable-cell[data-col="${t}"]`).forEach(i=>i.classList.add(s))}const sf=he({name:"col-hover",defaultOptions:{colHover:!1},when:e=>!!e.colHover,events:{mouseover(e){var i;const{colHover:t}=this.options;if(!t)return;const n=(i=e.target)==null?void 0:i.closest(".dtable-cell");if(!n||t==="header"&&!n.closest(".dtable-header"))return;const s=(n==null?void 0:n.getAttribute("data-col"))??!1;hh(this,s)},mouseleave(){hh(this,!1)}}},{buildIn:!0}),_p="";function rf(e,t,n=!1){var a,l;typeof e=="boolean"&&(t=e,e=void 0);const s=this.state.checkedRows,i={},{canRowCheckable:r}=this.options,o=(h,c)=>{const d=r?r.call(this,h):!0;!d||n&&d==="disabled"||!!s[h]===c||(c?s[h]=!0:delete s[h],i[h]=c)};if(e===void 0?(t===void 0&&(t=!dh.call(this)),(a=this.layout)==null||a.allRows.forEach(({id:h})=>{o(h,!!t)})):(Array.isArray(e)||(e=[e]),e.forEach(h=>{o(h,t??!s[h])})),Object.keys(i).length){const h=(l=this.options.beforeCheckRows)==null?void 0:l.call(this,e,i,s);h&&Object.keys(h).forEach(c=>{h[c]?s[c]=!0:delete s[c]}),this.setState({checkedRows:{...s}},()=>{var c;(c=this.options.onCheckChange)==null||c.call(this,i)})}return i}function of(e){return this.state.checkedRows[e]??!1}function dh(){var s,i;const e=(s=this.layout)==null?void 0:s.allRows.length;if(!e)return!1;const t=this.getChecks().length,{canRowCheckable:n}=this.options;return n?t===((i=this.layout)==null?void 0:i.allRows.reduce((r,o)=>r+(n.call(this,o.id)?1:0),0)):t===e}function af(){return Object.keys(this.state.checkedRows)}function lf(e){const{checkable:t}=this.options;e===void 0&&(e=!t),t!==e&&this.setState({forceCheckable:e})}function uh(e,t,n=!1){return m("div",{class:`checkbox-primary dtable-checkbox${e?" checked":""}${n?" disabled":""}`,children:m("label",{})})}const cf=he({name:"checkable",defaultOptions:{checkable:"auto",checkboxRender:uh},when:e=>e.checkable!==void 0,options(e){const{forceCheckable:t}=this.state;return t!==void 0?e.checkable=t:e.checkable==="auto"&&(e.checkable=!!e.cols.some(n=>n.checkbox)),e},state(){return{checkedRows:{}}},methods:{toggleCheckRows:rf,isRowChecked:of,isAllRowChecked:dh,getChecks:af,toggleCheckable:lf},i18n:{zh_cn:{checkedCountInfo:"已选择 {selected} 项",totalCountInfo:"共 {total} 项"},zh_tw:{checkedCountInfo:"已選擇 {selected} 項",totalCountInfo:"共 {total} 項"},en:{checkedCountInfo:"Selected {selected} items",totalCountInfo:"Total {total} items"}},footer:{checkbox(){const e=this.isAllRowChecked();return[m("div",{style:{paddingRight:"calc(3*var(--space))",display:"flex",alignItems:"center"},onClick:()=>this.toggleCheckRows(),children:uh(e)})]},checkedInfo(e,t){const n=this.getChecks(),{checkInfo:s}=this.options;if(s)return[s.call(this,n)];const i=n.length,r=[];return i&&r.push(this.i18n("checkedCountInfo",{selected:i})),r.push(this.i18n("totalCountInfo",{total:t.allRows.length})),[m("div",{children:r.join(", ")})]}},onRenderCell(e,{row:t,col:n}){var l;const{id:s}=t,{canRowCheckable:i}=this.options,r=i?i.call(this,s):!0;if(!r)return e;const{checkbox:o}=n.setting;if(typeof o=="function"?o.call(this,s):o){const h=this.isRowChecked(s),c=(l=this.options.checkboxRender)==null?void 0:l.call(this,h,s,r==="disabled");e.unshift(c),e.push({className:"has-checkbox"})}return e},onRenderHeaderCell(e,{row:t,col:n}){var o;const{id:s}=t,{checkbox:i}=n.setting;if(typeof i=="function"?i.call(this,s):i){const a=this.isAllRowChecked(),l=(o=this.options.checkboxRender)==null?void 0:o.call(this,a,s);e.unshift(l),e.push({className:"has-checkbox"})}return e},onRenderRow({props:e,row:t}){if(this.isRowChecked(t.id))return{className:T(e.className,"is-checked")}},onHeaderCellClick(e){const t=e.target;if(!t)return;const n=t.closest('input[type="checkbox"],.dtable-checkbox');n&&(this.toggleCheckRows(n.checked),e.stopPropagation())},onRowClick(e,{rowID:t}){const n=g(e.target);if(!n.length||n.closest("btn,a,button").length)return;(n.closest('input[type="checkbox"],.dtable-checkbox').not(".disabled").length||this.options.checkOnClickRow)&&this.toggleCheckRows(t,void 0,!0)}}),$p="",Cp="";var fh=(e=>(e.unknown="",e.collapsed="collapsed",e.expanded="expanded",e.hidden="hidden",e.normal="normal",e))(fh||{});function Ei(e){const t=this.data.nestedMap.get(e);if(!t||t.state!=="")return t??{state:"normal",level:-1};if(!t.parent&&!t.children)return t.state="normal",t;const n=this.state.collapsedRows,s=t.children&&n&&n[e];let i=!1,{parent:r}=t;for(;r;){const o=Ei.call(this,r);if(o.state!=="expanded"){i=!0;break}r=o.parent}return t.state=i?"hidden":s?"collapsed":t.children?"expanded":"normal",t.level=t.parent?Ei.call(this,t.parent).level+1:0,t}function hf(e){return e!==void 0?Ei.call(this,e):this.data.nestedMap}function df(e,t){let n=this.state.collapsedRows??{};const{nestedMap:s}=this.data;if(e==="HEADER")if(t===void 0&&(t=!ph.call(this)),t){const i=s.entries();for(const[r,o]of i)o.state==="expanded"&&(n[r]=!0)}else n={};else{const i=Array.isArray(e)?e:[e];t===void 0&&(t=!n[i[0]]),i.forEach(r=>{const o=s.get(r);t&&(o!=null&&o.children)?n[r]=!0:delete n[r]})}this.update({dirtyType:"layout",state:{collapsedRows:{...n}}},()=>{var i;(i=this.options.onNestedChange)==null||i.call(this)})}function ph(){const e=this.data.nestedMap.values();for(const t of e)if(t.state==="expanded")return!1;return!0}function gh(e,t=0,n,s=0){var i;n||(n=[...e.keys()]);for(const r of n){const o=e.get(r);o&&(o.level===s&&(o.order=t++),(i=o.children)!=null&&i.length&&(t=gh(e,t,o.children,s+1)))}return t}function mh(e,t,n,s){const i=e.getNestedRowInfo(t);return!i||i.state===""||!i.children||i.children.forEach(r=>{s[r]=n,mh(e,r,n,s)}),i}function yh(e,t,n,s,i){var a;const r=e.getNestedRowInfo(t);if(!r||r.state==="")return;((a=r.children)==null?void 0:a.every(l=>{const h=!!(s[l]!==void 0?s[l]:i[l]);return n===h}))&&(s[t]=n),r.parent&&yh(e,r.parent,n,s,i)}const uf=he({name:"nested",defaultOptions:{nested:"auto",nestedParentKey:"parent",asParentKey:"asParent",nestedIndent:20,canSortTo(e,t){const{nestedMap:n}=this.data,s=n.get(e.id),i=n.get(t.id);return(s==null?void 0:s.parent)===(i==null?void 0:i.parent)},beforeCheckRows(e,t,n){if(!this.options.checkable||!(e!=null&&e.length))return;const s={};return Object.entries(t).forEach(([i,r])=>{const o=mh(this,i,r,s);o!=null&&o.parent&&yh(this,o.parent,r,s,n)}),s}},options(e){return e.nested==="auto"&&(e.nested=!!e.cols.some(t=>t.nestedToggle)),e},when:e=>!!e.nested,data(){return{nestedMap:new Map}},methods:{getNestedInfo:hf,toggleRow:df,isAllCollapsed:ph,getNestedRowInfo:Ei},beforeLayout(){var e;(e=this.data.nestedMap)==null||e.clear()},onAddRow(e){var i,r;const{nestedMap:t}=this.data,n=String((i=e.data)==null?void 0:i[this.options.nestedParentKey??"parent"]),s=t.get(e.id)??{state:"",level:0};if(s.parent=n==="0"?void 0:n,(r=e.data)!=null&&r[this.options.asParentKey??"asParent"]&&(s.children=[]),t.set(e.id,s),n){let o=t.get(n);o||(o={state:"",level:0},t.set(n,o)),o.children||(o.children=[]),o.children.push(e.id)}},onAddRows(e){return e=e.filter(t=>this.getNestedRowInfo(t.id).state!=="hidden"),gh(this.data.nestedMap),e.sort((t,n)=>{const s=this.getNestedRowInfo(t.id),i=this.getNestedRowInfo(n.id),r=(s.order??0)-(i.order??0);return r===0?t.index-n.index:r}),e},onRenderCell(e,{col:t,row:n}){var a;const{id:s,data:i}=n,{nestedToggle:r}=t.setting,o=this.getNestedRowInfo(s);if(r&&(o.children||o.parent)&&e.unshift(((a=this.options.onRenderNestedToggle)==null?void 0:a.call(this,o,s,t,i))??m("a",{className:`dtable-nested-toggle state${o.children?"":" is-no-child"}`,children:m("span",{className:"toggle-icon"})})),o.level){let{nestedIndent:l=r}=t.setting;l&&(l===!0&&(l=this.options.nestedIndent??12),e.unshift(m("div",{className:"dtable-nested-indent",style:{width:l*o.level+"px"}})))}return e},onRenderHeaderCell(e,{row:t,col:n}){var i;const{id:s}=t;return n.setting.nestedToggle&&e.unshift(((i=this.options.onRenderNestedToggle)==null?void 0:i.call(this,void 0,s,n,void 0))??m("a",{className:"dtable-nested-toggle state",children:m("span",{className:"toggle-icon"})})),e},onRenderRow({props:e,row:t}){const n=this.getNestedRowInfo(t.id);return{className:T(e.className,`is-${n.state}`),"data-parent":n.parent}},onRenderHeaderRow({props:e}){return e.className=T(e.className,`is-${this.isAllCollapsed()?"collapsed":"expanded"}`),e},onHeaderCellClick(e){const t=e.target;if(!(!t||!t.closest(".dtable-nested-toggle")))return this.toggleRow("HEADER"),!0},onCellClick(e,{rowID:t}){const n=e.target;if(!(!n||!this.getNestedRowInfo(t).children||!n.closest(".dtable-nested-toggle")))return this.toggleRow(t),!0}}),Sp="";function wh(e,t,n,s){if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&e.length&&(e={url:e}),!e)return n;const{url:i,...r}=e,{setting:o}=t.col,a={};return o&&Object.keys(o).forEach(l=>{l.startsWith("data-")&&(a[l]=o[l])}),m("a",{href:et(i,t.row.data),...s,...r,...a,children:n})}function fa(e,t,n){var s;if(e!=null)return n=n??((s=t.row.data)==null?void 0:s[t.col.name]),typeof e=="function"?e(n,t):et(e,n)}function vh(e,t,n,s){var i;return n=n??((i=t.row.data)==null?void 0:i[t.col.name]),e===!1?n:(e===!0&&(e="[yyyy-]MM-dd hh:mm"),typeof e=="function"&&(e=e(n,t)),ri(n,e,s??n))}function _h(e,t){const{link:n}=t.col.setting,s=wh(n,t,e[0]);return s&&(e[0]=s),e}function bh(e,t){const{format:n}=t.col.setting;return n&&(e[0]=fa(n,t,e[0])),e}function $h(e,t){const{map:n}=t.col.setting;return typeof n=="function"?e[0]=n(e[0],t):typeof n=="object"&&n&&(e[0]=n[e[0]]??e[0]),e}function Ch(e,t,n="[yyyy-]MM-dd hh:mm"){const{formatDate:s=n,invalidDate:i}=t.col.setting;return e[0]=vh(s,t,e[0],i),e}function pa(e,t,n=!1){const{html:s=n}=t.col.setting;if(s===!1)return e;const i=e[0],r=s===!0?i:fa(s,t,i);return e[0]={html:r},e}const ff=he({name:"rich",colTypes:{html:{onRenderCell(e,t){return pa(e,t,!0)}},progress:{align:"center",onRenderCell(e,{col:t}){const{circleSize:n=24,circleBorderSize:s=1,circleBgColor:i="var(--color-border)",circleColor:r="var(--color-success-500)"}=t.setting,o=(n-s)/2,a=n/2,l=e[0];return e[0]=m("svg",{width:n,height:n,children:[m("circle",{cx:a,cy:a,r:o,"stroke-width":s,stroke:i,fill:"transparent"}),m("circle",{cx:a,cy:a,r:o,"stroke-width":s,stroke:r,fill:"transparent","stroke-linecap":"round","stroke-dasharray":Math.PI*o*2,"stroke-dashoffset":Math.PI*o*2*(100-l)/100,style:{transformOrigin:"center",transform:"rotate(-90deg)"}}),m("text",{x:a,y:a+s,"dominant-baseline":"middle","text-anchor":"middle",style:{fontSize:`${o}px`},children:Math.round(l)})]}),e}},datetime:{formatDate:"[yyyy-]MM-dd hh:mm"},date:{formatDate:"yyyy-MM-dd"},time:{formatDate:"hh:mm"}},onRenderCell(e,t){const{formatDate:n,html:s,hint:i}=t.col.setting;if(n&&(e=Ch(e,t,n)),e=$h(e,t),e=bh(e,t),s?e=pa(e,t):e=_h(e,t),i){let r=e[0];typeof i=="function"?r=i.call(this,t):typeof i=="string"&&(r=et(i,t.row.data)),e.push({attrs:{title:r}})}return e}},{buildIn:!0});function ga(e,{row:t,col:n}){const{data:s}=t,i=s?s[n.name]:void 0;if(!(i!=null&&i.length))return e;const{avatarClass:r="rounded-full",avatarKey:o=`${n.name}Avatar`,avatarProps:a,avatarCodeKey:l,avatarNameKey:h=`${n.name}Name`}=n.setting,c=(s?s[h]:i)||e[0],d={size:"xs",className:T(r,a==null?void 0:a.className,"flex-none"),src:s?s[o]:void 0,text:c,code:l?s?s[l]:void 0:i,...a};if(e[0]=m(oc,{...d}),n.type==="avatarBtn"){const{avatarBtnProps:u}=n.setting,f=typeof u=="function"?u(n,t):u;e[0]=m("button",{type:"button",className:"btn btn-avatar",...f,children:[e[0],m("div",{children:c})]})}else n.type==="avatarName"&&(e[0]=m("div",{className:"flex items-center gap-1",children:[e[0],m("span",{children:c})]}));return e}const pf=he({name:"avatar",colTypes:{avatar:{onRenderCell:ga},avatarBtn:{onRenderCell:ga},avatarName:{onRenderCell:ga}}},{buildIn:!0}),gf=he({name:"sort-type",onRenderHeaderCell(e,t){const{col:n}=t,{sortType:s}=n.setting;if(s){const i=s===!0?"none":s;e.push(m("div",{className:`dtable-sort dtable-sort-${i}`}),{outer:!0,attrs:{"data-sort":i}});let{sortLink:r=this.options.sortLink}=n.setting;if(r){const o=i==="asc"?"desc":"asc";typeof r=="function"&&(r=r.call(this,n,o,i)),typeof r=="string"&&(r={url:r});const{url:a,...l}=r;e[0]=m("a",{href:et(a,{...n.setting,sortType:o}),...l,children:e[0]})}}return e}},{buildIn:!0}),ma=e=>{e.length!==1&&e.forEach((t,n)=>{!n||t.setting.border||t.setting.group===e[n-1].setting.group||(t.setting.border="left")})},mf=he({name:"group",defaultOptions:{groupDivider:!0},when:e=>!!e.groupDivider,onLayout(e){if(!this.options.groupDivider)return;const{cols:t}=e;ma(t.left.list),ma(t.center.list),ma(t.right.list)}}),yf=Object.freeze(Object.defineProperty({__proto__:null,NestedRowState:fh,avatar:pf,checkable:cf,colHover:sf,group:mf,nested:uf,renderDatetime:vh,renderDatetimeCell:Ch,renderFormat:fa,renderFormatCell:bh,renderHtmlCell:pa,renderLink:wh,renderLinkCell:_h,renderMapCell:$h,rich:ff,sortType:gf},Symbol.toStringTag,{value:"Module"}));class ln extends X{}ln.NAME="DTable",ln.Component=ua,ln.definePlugin=he,ln.removePlugin=Qc,ln.plugins=yf;const Rp="";var kh=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Sh=(e,t,n)=>(kh(e,t,"read from private field"),n?n.call(e):t.get(e)),wf=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},xh=(e,t,n,s)=>(kh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),cn;const vf="nav",ya='[data-toggle="tab"]',_f="active";class wa extends ot{constructor(){super(...arguments),wf(this,cn,0)}active(t){const n=this.$element,s=n.find(ya);let i=t?g(t).first():s.filter(`.${_f}`);if(!i.length&&(i=n.find(ya).first(),!i.length))return;s.removeClass("active"),i.addClass("active");const r=i.attr("href")||i.data("target"),o=g(r);o.length&&(o.parent().children(".tab-pane").removeClass("active in"),o.addClass("active"),Sh(this,cn)&&clearTimeout(Sh(this,cn)),xh(this,cn,setTimeout(()=>{o.addClass("in"),xh(this,cn,0)},10)))}}cn=new WeakMap,wa.NAME="Tabs",g(document).on("click.tabs.zui",ya,e=>{e.preventDefault();const t=g(e.target),n=t.closest(`.${vf}`);n.length&&wa.ensure(n).active(t)});const Np="",Ap="",Lp="",Pp="",Dp="",Wp="",Ip="",Op="",Hp="",Bp="",zp="",Fp="";g(()=>{g(".disabled, [disabled]").on("click",e=>{e.preventDefault(),e.stopImmediatePropagation()})}),b.$=g,b.ActionMenu=pr,b.ActionMenuNested=mr,b.Avatar=Gr,b.BtnGroup=Ur,b.Component=ot,b.ComponentFromReact=X,b.ContextMenu=nt,b.CustomRender=Ss,b.DTable=ln,b.Dashboard=Xo,b.Dropdown=St,b.EventBus=qr,b.HElement=_l,b.HtmlContent=ur,b.Icon=ze,b.Menu=yr,b.Messager=Xs,b.Modal=eo,b.ModalBase=xt,b.ModalTrigger=lo,b.Nav=co,b.Pager=uo,b.Pick=po,b.Picker=wo,b.Popovers=vo,b.ProgressCircle=zr,b.ReactComponent=U,b.Switch=Fr,b.TIME_DAY=Mt,b.Tabs=wa,b.Toolbar=_o,b.Tooltip=wt,b.Tree=Io,b.Upload=ec,b.calculateTimestamp=ho,b.cash=g,b.classes=T,b.convertBytes=Xa,b.createDate=st,b.createPortal=$l,b.createRef=lt,b.deepGet=Ya,b.deepGetPath=ja,b.delay=vn,b.dom=_d,b.formatBytes=Ka,b.formatDate=ri,b.formatDateSpan=Cu,b.formatString=et,b.getClassList=or,b.getTimeBeforeDesc=ku,b.h=G,b.hh=Sd,b.htm=vl,b.i18n=kt,b.isDBY=$u,b.isSameDay=Je,b.isSameMonth=pc,b.isSameWeek=wu,b.isSameYear=ii,b.isToday=vu,b.isTomorrow=bu,b.isYesterday=_u,b.nativeEvents=Vr,b.render=Be,b.renderCustomResult=bl,b.store=sc,b.storeData=ar,b.takeData=Za,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=zui.umd.cjs.map
