(function(b,X){typeof exports=="object"&&typeof module<"u"?X(exports):typeof define=="function"&&define.amd?define(["exports"],X):(b=typeof globalThis<"u"?globalThis:b||self,X(b.zui={}))})(this,function(b){var us,fs,un,ie,ds,_e,Ht,fn,dn,nr,pn,mn,gn,Gi,Yi,gu,Ki,ye,_n,yn,ps,wn,sr,ze,ws,Xi,_u,vn,ms,bn,gs,Ji,yu,_s,Zi,Qi,tr,we,ve;"use strict";var za=(b,X,ht)=>{if(!X.has(b))throw TypeError("Cannot "+ht)};var M=(b,X,ht)=>(za(b,X,"read from private field"),ht?ht.call(b):X.get(b)),W=(b,X,ht)=>{if(X.has(b))throw TypeError("Cannot add the same private member more than once");X instanceof WeakSet?X.add(b):X.set(b,ht)},H=(b,X,ht,ir)=>(za(b,X,"write to private field"),ir?ir.call(b,ht):X.set(b,ht),ht);var ct=(b,X,ht)=>(za(b,X,"access private method"),ht);const X="",ht="",ir="",Tp="",zt=document,vs=window,Fa=zt.documentElement,ke=zt.createElement.bind(zt),Ua=ke("div"),rr=ke("table"),wu=ke("tbody"),Va=ke("tr"),{isArray:bs,prototype:ja}=Array,{concat:vu,filter:or,indexOf:qa,map:Ga,push:bu,slice:Ya,some:ar,splice:ku}=ja,Su=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,xu=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,$u=/<.+>/,Cu=/^\w+$/;function lr(t,e){const n=Eu(e);return!t||!n&&!Se(e)&&!J(e)?[]:!n&&xu.test(t)?e.getElementsByClassName(t.slice(1).replace(/\\/g,"")):!n&&Cu.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t)}class ks{constructor(e,n){if(!e)return;if(cr(e))return e;let s=e;if(it(e)){const i=n||zt;if(s=Su.test(e)&&Se(i)?i.getElementById(e.slice(1).replace(/\\/g,"")):$u.test(e)?tl(e):cr(i)?i.find(e):it(i)?_(i).find(e):lr(e,i),!s)return}else if(xe(e))return this.ready(e);(s.nodeType||s===vs)&&(s=[s]),this.length=s.length;for(let i=0,r=this.length;i<r;i++)this[i]=s[i]}init(e,n){return new ks(e,n)}}const k=ks.prototype,_=k.init;_.fn=_.prototype=k,k.length=0,k.splice=ku,typeof Symbol=="function"&&(k[Symbol.iterator]=ja[Symbol.iterator]);function cr(t){return t instanceof ks}function Ve(t){return!!t&&t===t.window}function Se(t){return!!t&&t.nodeType===9}function Eu(t){return!!t&&t.nodeType===11}function J(t){return!!t&&t.nodeType===1}function Mu(t){return!!t&&t.nodeType===3}function Tu(t){return typeof t=="boolean"}function xe(t){return typeof t=="function"}function it(t){return typeof t=="string"}function ut(t){return t===void 0}function $n(t){return t===null}function Ka(t){return!isNaN(parseFloat(t))&&isFinite(t)}function hr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}_.isWindow=Ve,_.isFunction=xe,_.isArray=bs,_.isNumeric=Ka,_.isPlainObject=hr;function Q(t,e,n){if(n){let s=t.length;for(;s--;)if(e.call(t[s],s,t[s])===!1)return t}else if(hr(t)){const s=Object.keys(t);for(let i=0,r=s.length;i<r;i++){const o=s[i];if(e.call(t[o],o,t[o])===!1)return t}}else for(let s=0,i=t.length;s<i;s++)if(e.call(t[s],s,t[s])===!1)return t;return t}_.each=Q,k.each=function(t){return Q(this,t)},k.empty=function(){return this.each((t,e)=>{for(;e.firstChild;)e.removeChild(e.firstChild)})};function Ss(...t){const e=Tu(t[0])?t.shift():!1,n=t.shift(),s=t.length;if(!n)return{};if(!s)return Ss(e,_,n);for(let i=0;i<s;i++){const r=t[i];for(const o in r)e&&(bs(r[o])||hr(r[o]))?((!n[o]||n[o].constructor!==r[o].constructor)&&(n[o]=new r[o].constructor),Ss(e,n[o],r[o])):n[o]=r[o]}return n}_.extend=Ss,k.extend=function(t){return Ss(k,t)};const Ru=/\S+/g;function xs(t){return it(t)?t.match(Ru)||[]:[]}k.toggleClass=function(t,e){const n=xs(t),s=!ut(e);return this.each((i,r)=>{J(r)&&Q(n,(o,a)=>{s?e?r.classList.add(a):r.classList.remove(a):r.classList.toggle(a)})})},k.addClass=function(t){return this.toggleClass(t,!0)},k.removeAttr=function(t){const e=xs(t);return this.each((n,s)=>{J(s)&&Q(e,(i,r)=>{s.removeAttribute(r)})})};function Au(t,e){if(t){if(it(t)){if(arguments.length<2){if(!this[0]||!J(this[0]))return;const n=this[0].getAttribute(t);return $n(n)?void 0:n}return ut(e)?this:$n(e)?this.removeAttr(t):this.each((n,s)=>{J(s)&&s.setAttribute(t,e)})}for(const n in t)this.attr(n,t[n]);return this}}k.attr=Au,k.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")},k.hasClass=function(t){return!!t&&ar.call(this,e=>J(e)&&e.classList.contains(t))},k.get=function(t){return ut(t)?Ya.call(this):(t=Number(t),this[t<0?t+this.length:t])},k.eq=function(t){return _(this.get(t))},k.first=function(){return this.eq(0)},k.last=function(){return this.eq(-1)};function Nu(t){return ut(t)?this.get().map(e=>J(e)||Mu(e)?e.textContent:"").join(""):this.each((e,n)=>{J(n)&&(n.textContent=t)})}k.text=Nu;function Ft(t,e,n){if(!J(t))return;const s=vs.getComputedStyle(t,null);return n?s.getPropertyValue(e)||void 0:s[e]||t.style[e]}function Rt(t,e){return parseInt(Ft(t,e),10)||0}function Xa(t,e){return Rt(t,`border${e?"Left":"Top"}Width`)+Rt(t,`padding${e?"Left":"Top"}`)+Rt(t,`padding${e?"Right":"Bottom"}`)+Rt(t,`border${e?"Right":"Bottom"}Width`)}const ur={};function Lu(t){if(ur[t])return ur[t];const e=ke(t);zt.body.insertBefore(e,null);const n=Ft(e,"display");return zt.body.removeChild(e),ur[t]=n!=="none"?n:"block"}function Ja(t){return Ft(t,"display")==="none"}function Za(t,e){const n=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!n&&!!e&&n.call(t,e)}function $s(t){return it(t)?(e,n)=>Za(n,t):xe(t)?t:cr(t)?(e,n)=>t.is(n):t?(e,n)=>n===t:()=>!1}k.filter=function(t){const e=$s(t);return _(or.call(this,(n,s)=>e.call(n,s,n)))};function re(t,e){return e?t.filter(e):t}k.detach=function(t){return re(this,t).each((e,n)=>{n.parentNode&&n.parentNode.removeChild(n)}),this};const Wu=/^\s*<(\w+)[^>]*>/,Du=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Qa={"*":Ua,tr:wu,td:Va,th:Va,thead:rr,tbody:rr,tfoot:rr};function tl(t){if(!it(t))return[];if(Du.test(t))return[ke(RegExp.$1)];const e=Wu.test(t)&&RegExp.$1,n=Qa[e]||Qa["*"];return n.innerHTML=t,_(n.childNodes).detach().get()}_.parseHTML=tl,k.has=function(t){const e=it(t)?(n,s)=>lr(t,s).length:(n,s)=>s.contains(t);return this.filter(e)},k.not=function(t){const e=$s(t);return this.filter((n,s)=>(!it(t)||J(s))&&!e.call(s,n,s))};function Ut(t,e,n,s){const i=[],r=xe(e),o=s&&$s(s);for(let a=0,c=t.length;a<c;a++)if(r){const h=e(t[a]);h.length&&bu.apply(i,h)}else{let h=t[a][e];for(;h!=null&&!(s&&o(-1,h));)i.push(h),h=n?h[e]:null}return i}function el(t){return t.multiple&&t.options?Ut(or.call(t.options,e=>e.selected&&!e.disabled&&!e.parentNode.disabled),"value"):t.value||""}function Pu(t){return arguments.length?this.each((e,n)=>{const s=n.multiple&&n.options;if(s||fl.test(n.type)){const i=bs(t)?Ga.call(t,String):$n(t)?[]:[String(t)];s?Q(n.options,(r,o)=>{o.selected=i.indexOf(o.value)>=0},!0):n.checked=i.indexOf(n.value)>=0}else n.value=ut(t)||$n(t)?"":t}):this[0]&&el(this[0])}k.val=Pu,k.is=function(t){const e=$s(t);return ar.call(this,(n,s)=>e.call(n,s,n))},_.guid=1;function At(t){return t.length>1?or.call(t,(e,n,s)=>qa.call(s,e)===n):t}_.unique=At,k.add=function(t,e){return _(At(this.get().concat(_(t,e).get())))},k.children=function(t){return re(_(At(Ut(this,e=>e.children))),t)},k.parent=function(t){return re(_(At(Ut(this,"parentNode"))),t)},k.index=function(t){const e=t?_(t)[0]:this[0],n=t?this:_(e).parent().children();return qa.call(n,e)},k.closest=function(t){const e=this.filter(t);if(e.length)return e;const n=this.parent();return n.length?n.closest(t):e},k.siblings=function(t){return re(_(At(Ut(this,e=>_(e).parent().children().not(e)))),t)},k.find=function(t){return _(At(Ut(this,e=>lr(t,e))))};const Iu=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ou=/^$|^module$|\/(java|ecma)script/i,Hu=["type","src","nonce","noModule"];function Bu(t,e){const n=_(t);n.filter("script").add(n.find("script")).each((s,i)=>{if(Ou.test(i.type)&&Fa.contains(i)){const r=ke("script");r.text=i.textContent.replace(Iu,""),Q(Hu,(o,a)=>{i[a]&&(r[a]=i[a])}),e.head.insertBefore(r,null),e.head.removeChild(r)}})}function zu(t,e,n,s,i){s?t.insertBefore(e,n?t.firstChild:null):t.nodeName==="HTML"?t.parentNode.replaceChild(e,t):t.parentNode.insertBefore(e,n?t:t.nextSibling),i&&Bu(e,t.ownerDocument)}function oe(t,e,n,s,i,r,o,a){return Q(t,(c,h)=>{Q(_(h),(l,f)=>{Q(_(e),(d,u)=>{const p=n?f:u,m=n?u:f,w=n?l:d;zu(p,w?m.cloneNode(!0):m,s,i,!w)},a)},o)},r),e}k.after=function(){return oe(arguments,this,!1,!1,!1,!0,!0)},k.append=function(){return oe(arguments,this,!1,!1,!0)};function Fu(t){if(!arguments.length)return this[0]&&this[0].innerHTML;if(ut(t))return this;const e=/<script[\s>]/.test(t);return this.each((n,s)=>{J(s)&&(e?_(s).empty().append(t):s.innerHTML=t)})}k.html=Fu,k.appendTo=function(t){return oe(arguments,this,!0,!1,!0)},k.wrapInner=function(t){return this.each((e,n)=>{const s=_(n),i=s.contents();i.length?i.wrapAll(t):s.append(t)})},k.before=function(){return oe(arguments,this,!1,!0)},k.wrapAll=function(t){let e=_(t),n=e[0];for(;n.children.length;)n=n.firstElementChild;return this.first().before(e),this.appendTo(n)},k.wrap=function(t){return this.each((e,n)=>{const s=_(t)[0];_(n).wrapAll(e?s.cloneNode(!0):s)})},k.insertAfter=function(t){return oe(arguments,this,!0,!1,!1,!1,!1,!0)},k.insertBefore=function(t){return oe(arguments,this,!0,!0)},k.prepend=function(){return oe(arguments,this,!1,!0,!0,!0,!0)},k.prependTo=function(t){return oe(arguments,this,!0,!0,!0,!1,!1,!0)},k.contents=function(){return _(At(Ut(this,t=>t.tagName==="IFRAME"?[t.contentDocument]:t.tagName==="TEMPLATE"?t.content.childNodes:t.childNodes)))},k.next=function(t,e,n){return re(_(At(Ut(this,"nextElementSibling",e,n))),t)},k.nextAll=function(t){return this.next(t,!0)},k.nextUntil=function(t,e){return this.next(e,!0,t)},k.parents=function(t,e){return re(_(At(Ut(this,"parentElement",!0,e))),t)},k.parentsUntil=function(t,e){return this.parents(e,t)},k.prev=function(t,e,n){return re(_(At(Ut(this,"previousElementSibling",e,n))),t)},k.prevAll=function(t){return this.prev(t,!0)},k.prevUntil=function(t,e){return this.prev(e,!0,t)},k.map=function(t){return _(vu.apply([],Ga.call(this,(e,n)=>t.call(e,n,e))))},k.clone=function(){return this.map((t,e)=>e.cloneNode(!0))},k.offsetParent=function(){return this.map((t,e)=>{let n=e.offsetParent;for(;n&&Ft(n,"position")==="static";)n=n.offsetParent;return n||Fa})},k.slice=function(t,e){return _(Ya.call(this,t,e))};const Uu=/-([a-z])/g;function fr(t){return t.replace(Uu,(e,n)=>n.toUpperCase())}k.ready=function(t){const e=()=>setTimeout(t,0,_);return zt.readyState!=="loading"?e():zt.addEventListener("DOMContentLoaded",e),this},k.unwrap=function(){return this.parent().each((t,e)=>{if(e.tagName==="BODY")return;const n=_(e);n.replaceWith(n.children())}),this},k.offset=function(){const t=this[0];if(!t)return;const e=t.getBoundingClientRect();return{top:e.top+vs.pageYOffset,left:e.left+vs.pageXOffset}},k.position=function(){const t=this[0];if(!t)return;const e=Ft(t,"position")==="fixed",n=e?t.getBoundingClientRect():this.offset();if(!e){const s=t.ownerDocument;let i=t.offsetParent||s.documentElement;for(;(i===s.body||i===s.documentElement)&&Ft(i,"position")==="static";)i=i.parentNode;if(i!==t&&J(i)){const r=_(i).offset();n.top-=r.top+Rt(i,"borderTopWidth"),n.left-=r.left+Rt(i,"borderLeftWidth")}}return{top:n.top-Rt(t,"marginTop"),left:n.left-Rt(t,"marginLeft")}};const nl={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};k.prop=function(t,e){if(t){if(it(t))return t=nl[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((n,s)=>{s[t]=e});for(const n in t)this.prop(n,t[n]);return this}},k.removeProp=function(t){return this.each((e,n)=>{delete n[nl[t]||t]})};const Vu=/^--/;function dr(t){return Vu.test(t)}const pr={},{style:ju}=Ua,qu=["webkit","moz","ms"];function Gu(t,e=dr(t)){if(e)return t;if(!pr[t]){const n=fr(t),s=`${n[0].toUpperCase()}${n.slice(1)}`,i=`${n} ${qu.join(`${s} `)}${s}`.split(" ");Q(i,(r,o)=>{if(o in ju)return pr[t]=o,!1})}return pr[t]}const Yu={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function sl(t,e,n=dr(t)){return!n&&!Yu[t]&&Ka(e)?`${e}px`:e}function Ku(t,e){if(it(t)){const n=dr(t);return t=Gu(t,n),arguments.length<2?this[0]&&Ft(this[0],t,n):t?(e=sl(t,e,n),this.each((s,i)=>{J(i)&&(n?i.style.setProperty(t,e):i.style[t]=e)})):this}for(const n in t)this.css(n,t[n]);return this}k.css=Ku;function il(t,e){try{return t(e)}catch{return e}}const Xu=/^\s+|\s+$/;function rl(t,e){const n=t.dataset[e]||t.dataset[fr(e)];return Xu.test(n)?n:il(JSON.parse,n)}function Ju(t,e,n){n=il(JSON.stringify,n),t.dataset[fr(e)]=n}function Zu(t,e){if(!t){if(!this[0])return;const n={};for(const s in this[0].dataset)n[s]=rl(this[0],s);return n}if(it(t))return arguments.length<2?this[0]&&rl(this[0],t):ut(e)?this:this.each((n,s)=>{Ju(s,t,e)});for(const n in t)this.data(n,t[n]);return this}k.data=Zu;function ol(t,e){const n=t.documentElement;return Math.max(t.body[`scroll${e}`],n[`scroll${e}`],t.body[`offset${e}`],n[`offset${e}`],n[`client${e}`])}Q([!0,!1],(t,e)=>{Q(["Width","Height"],(n,s)=>{const i=`${e?"outer":"inner"}${s}`;k[i]=function(r){if(this[0])return Ve(this[0])?e?this[0][`inner${s}`]:this[0].document.documentElement[`client${s}`]:Se(this[0])?ol(this[0],s):this[0][`${e?"offset":"client"}${s}`]+(r&&e?Rt(this[0],`margin${n?"Top":"Left"}`)+Rt(this[0],`margin${n?"Bottom":"Right"}`):0)}})}),Q(["Width","Height"],(t,e)=>{const n=e.toLowerCase();k[n]=function(s){if(!this[0])return ut(s)?void 0:this;if(!arguments.length)return Ve(this[0])?this[0].document.documentElement[`client${e}`]:Se(this[0])?ol(this[0],e):this[0].getBoundingClientRect()[n]-Xa(this[0],!t);const i=parseInt(s,10);return this.each((r,o)=>{if(!J(o))return;const a=Ft(o,"boxSizing");o.style[n]=sl(n,i+(a==="border-box"?Xa(o,!t):0))})}});const al="___cd";k.toggle=function(t){return this.each((e,n)=>{if(!J(n))return;const s=Ja(n);(ut(t)?s:t)?(n.style.display=n[al]||"",Ja(n)&&(n.style.display=Lu(n.tagName))):s||(n[al]=Ft(n,"display"),n.style.display="none")})},k.hide=function(){return this.toggle(!1)},k.show=function(){return this.toggle(!0)};const ll="___ce",mr=".",gr={focus:"focusin",blur:"focusout"},cl={mouseenter:"mouseover",mouseleave:"mouseout"},Qu=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function _r(t){return cl[t]||gr[t]||t}function yr(t){const e=t.split(mr);return[e[0],e.slice(1).sort()]}k.trigger=function(t,e){if(it(t)){const[s,i]=yr(t),r=_r(s);if(!r)return this;const o=Qu.test(r)?"MouseEvents":"HTMLEvents";t=zt.createEvent(o),t.initEvent(r,!0,!0),t.namespace=i.join(mr),t.___ot=s}t.___td=e;const n=t.___ot in gr;return this.each((s,i)=>{n&&xe(i[t.___ot])&&(i[`___i${t.type}`]=!0,i[t.___ot](),i[`___i${t.type}`]=!1),i.dispatchEvent(t)})};function hl(t){return t[ll]=t[ll]||{}}function tf(t,e,n,s,i){const r=hl(t);r[e]=r[e]||[],r[e].push([n,s,i]),t.addEventListener(e,i)}function ul(t,e){return!e||!ar.call(e,n=>t.indexOf(n)<0)}function Cs(t,e,n,s,i){const r=hl(t);if(e)r[e]&&(r[e]=r[e].filter(([o,a,c])=>{if(i&&c.guid!==i.guid||!ul(o,n)||s&&s!==a)return!0;t.removeEventListener(e,c)}));else for(e in r)Cs(t,e,n,s,i)}k.off=function(t,e,n){if(ut(t))this.each((s,i)=>{!J(i)&&!Se(i)&&!Ve(i)||Cs(i)});else if(it(t))xe(e)&&(n=e,e=""),Q(xs(t),(s,i)=>{const[r,o]=yr(i),a=_r(r);this.each((c,h)=>{!J(h)&&!Se(h)&&!Ve(h)||Cs(h,a,o,e,n)})});else for(const s in t)this.off(s,t[s]);return this},k.remove=function(t){return re(this,t).detach().off(),this},k.replaceWith=function(t){return this.before(t).remove()},k.replaceAll=function(t){return _(t).replaceWith(this),this};function ef(t,e,n,s,i){if(!it(t)){for(const r in t)this.on(r,e,n,t[r],i);return this}return it(e)||(ut(e)||$n(e)?e="":ut(n)?(n=e,e=""):(s=n,n=e,e="")),xe(s)||(s=n,n=void 0),s?(Q(xs(t),(r,o)=>{const[a,c]=yr(o),h=_r(a),l=a in cl,f=a in gr;h&&this.each((d,u)=>{if(!J(u)&&!Se(u)&&!Ve(u))return;const p=function(m){if(m.target[`___i${m.type}`])return m.stopImmediatePropagation();if(m.namespace&&!ul(c,m.namespace.split(mr))||!e&&(f&&(m.target!==u||m.___ot===h)||l&&m.relatedTarget&&u.contains(m.relatedTarget)))return;let w=u;if(e){let v=m.target;for(;!Za(v,e);)if(v===u||(v=v.parentNode,!v))return;w=v}Object.defineProperty(m,"currentTarget",{configurable:!0,get(){return w}}),Object.defineProperty(m,"delegateTarget",{configurable:!0,get(){return u}}),Object.defineProperty(m,"data",{configurable:!0,get(){return n}});const g=s.call(w,m,m.___td);i&&Cs(u,h,c,e,p),g===!1&&(m.preventDefault(),m.stopPropagation())};p.guid=s.guid=s.guid||_.guid++,tf(u,h,c,e,p)})}),this):this}k.on=ef;function nf(t,e,n,s){return this.on(t,e,n,s,!0)}k.one=nf;const sf=/\r?\n/g;function rf(t,e){return`&${encodeURIComponent(t)}=${encodeURIComponent(e.replace(sf,`\r
`))}`}const of=/file|reset|submit|button|image/i,fl=/radio|checkbox/i;k.serialize=function(){let t="";return this.each((e,n)=>{Q(n.elements||[n],(s,i)=>{if(i.disabled||!i.name||i.tagName==="FIELDSET"||of.test(i.type)||fl.test(i.type)&&!i.checked)return;const r=el(i);if(!ut(r)){const o=bs(r)?r:[r];Q(o,(a,c)=>{t+=rf(i.name,c)})}})}),t.slice(1)},window.$=_;function af(t,e){if(t==null)return[t,void 0];typeof e=="string"&&(e=e.split("."));const n=e.join(".");let s=t;const i=[s];for(;typeof s=="object"&&s!==null&&e.length;){let r=e.shift(),o;const a=r.indexOf("[");if(a>0&&a<r.length-1&&r.endsWith("]")&&(o=r.substring(a+1,r.length-1),r=r.substring(0,a)),s=s[r],i.push(s),o!==void 0)if(typeof s=="object"&&s!==null)s instanceof Map?s=s.get(o):s=s[o],i.push(s);else throw new Error(`Cannot access property "${r}[${o}]", the full path is "${n}".`)}if(e.length)throw new Error(`Cannot access property with rest path "${e.join(".")}", the full path is "${n}".`);return i}function lf(t,e,n){try{const s=af(t,e),i=s[s.length-1];return i===void 0?n:i}catch{return n}}function Es(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function Ms(t,...e){if(!e.length)return t;const n=e.shift();if(Es(t)&&Es(n))for(const s in n)Es(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Ms(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Ms(t,...e)}function at(t,...e){if(e.length===0)return t;if(e.length===1&&typeof e[0]=="object"&&e[0]){const n=e[0];return Object.keys(n).forEach(s=>{const i=n[s]??0;t=t.replace(new RegExp(`\\{${s}\\}`,"g"),`${i}`)}),t}for(let n=0;n<e.length;n++){const s=e[n]??"";t=t.replace(new RegExp(`\\{${n}\\}`,"g"),`${s}`)}return t}var wr=(t=>(t[t.B=1]="B",t[t.KB=1024]="KB",t[t.MB=1048576]="MB",t[t.GB=1073741824]="GB",t[t.TB=1099511627776]="TB",t))(wr||{});function cf(t,e=2,n=""){return Number.isNaN(t)?"?KB":(n||(t<1024?n="B":t<1048576?n="KB":t<1073741824?n="MB":t<1099511627776?n="GB":n="TB"),(t/wr[n]).toFixed(e)+n)}const hf=t=>{const e=/^[0-9]*(B|KB|MB|GB|TB)$/;t=t.toUpperCase();const n=t.match(e);if(!n)return 0;const s=n[1];return t=t.replace(s,""),Number.parseInt(t,10)*wr[s]};let vr=(document.documentElement.getAttribute("lang")||"zh_cn").toLowerCase().replace("-","_"),ae;function uf(){return vr}function ff(t){vr=t.toLowerCase()}function dl(t,e){ae||(ae={}),typeof t=="string"&&(t={[t]:e??{}}),Ms(ae,t)}function Nt(t,e,n,s,i,r){Array.isArray(t)?ae&&t.unshift(ae):t=ae?[ae,t]:[t],typeof n=="string"&&(r=i,i=s,s=n,n=void 0);const o=i||vr;let a;for(const c of t){if(!c)continue;const h=c[o];if(!h)continue;const l=r&&c===ae?`${r}.${e}`:e;if(a=lf(h,l),a!==void 0)break}return a===void 0?s:n?at(a,...Array.isArray(n)?n:[n]):a}function df(t,e,n,s){return Nt(void 0,t,e,n,s)}Nt.addLang=dl,Nt.getLang=df,Nt.getCode=uf,Nt.setCode=ff,dl({zh_cn:{confirm:"确定",cancel:"取消",delete:"删除",add:"添加"},zh_tw:{confirm:"確定",cancel:"取消",delete:"刪除",add:"添加"},en:{confirm:"Confirm",cancel:"Cancel",delete:"Delete",add:"Add"}});function br(...t){const e=[],n=new Map,s=(i,r)=>{if(Array.isArray(i)&&(r=i[1],i=i[0]),!i.length)return;const o=n.get(i);typeof o=="number"?e[o][1]=!!r:(n.set(i,e.length),e.push([i,!!r]))};return t.forEach(i=>{typeof i=="function"&&(i=i()),Array.isArray(i)?br(...i).forEach(s):i&&typeof i=="object"?Object.entries(i).forEach(s):typeof i=="string"&&i.split(" ").forEach(r=>s(r,!0))}),e.sort((i,r)=>(n.get(i[0])||0)-(n.get(r[0])||0))}const T=(...t)=>br(...t).reduce((e,[n,s])=>(s&&e.push(n),e),[]).join(" ");_.classes=T,_.fn.setClass=function(t,...e){return this.each((n,s)=>{const i=_(s);t===!0?i.attr("class",T(i.attr("class"),...e)):i.addClass(T(t,...e))})};const Cn=new WeakMap;function kr(t,e,n){const s=Cn.has(t),i=s?Cn.get(t):{};typeof e=="string"?i[e]=n:e===null?Object.keys(i).forEach(r=>{delete i[r]}):Object.assign(i,e),Object.keys(i).forEach(r=>{i[r]===void 0&&delete i[r]}),Object.keys(i).length?(!s&&t instanceof Element&&Object.assign(i,_(t).dataset(),i),Cn.set(t,i)):Cn.delete(t)}function pl(t,e){let n=Cn.get(t);return!n&&t instanceof Element&&(n=_(t).dataset()),e===void 0?n||{}:n==null?void 0:n[e]}_.fn.dataset=_.fn.data,_.fn.data=function(...t){if(!this.length)return;const[e,n]=t;return!t.length||t.length===1&&typeof e=="string"?pl(this[0],e):this.each((s,i)=>kr(i,e,n))},_.fn.removeData=function(t=null){return this.each((e,n)=>kr(n,t))},_.fn._attr=_.fn.attr,_.fn.extend({attr(...t){const[e,n]=t;return!t.length||t.length===1&&typeof e=="string"?this._attr.apply(this,t):typeof e=="object"?(e&&Object.keys(e).forEach(s=>{const i=e[s];i===null?this.removeAttr(s):this._attr(s,i)}),this):n===null?this.removeAttr(e):this._attr(e,n)}}),_.Event=(t,e)=>{const[n,...s]=t.split("."),i=new Event(n,{bubbles:!0,cancelable:!0});return i.namespace=s.join("."),i.___ot=n,i.___td=e,i};function ml(t,e){const n=_(t)[0];if(!n)return!1;const{left:s,top:i,width:r,height:o}=n.getBoundingClientRect(),{innerHeight:a,innerWidth:c}=window,{clientHeight:h,clientWidth:l}=document.documentElement,f=a||h,d=c||l;if(e!=null&&e.fullyCheck)return s>=0&&i>=0&&s+r<=d&&i+o<=f;const u=i<=f&&i+o>=0,p=s<=d&&s+r>=0;return u&&p}_.fn.isVisible=function(t){return this.each((e,n)=>{ml(n,t)})};function Sr(t,e){const n=_(t);if(e!==void 0){n.append(`<script>${e}<\/script>`);return}n.find("script").each((s,i)=>{Sr(n,i.innerHTML),i.remove()})}_.fn.runJS=function(t){return this.each((e,n)=>{Sr(n,t)})};const pf=Object.freeze(Object.defineProperty({__proto__:null,isVisible:ml,runJS:Sr},Symbol.toStringTag,{value:"Module"}));var Ts,z,gl;b.isValidElement=void 0;var $e,_l,yl,xr,Rs={},wl=[],mf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$r=Array.isArray;function le(t,e){for(var n in e)t[n]=e[n];return t}function vl(t){var e=t.parentNode;e&&e.removeChild(t)}function rt(t,e,n){var s,i,r,o={};for(r in e)r=="key"?s=e[r]:r=="ref"?i=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?Ts.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return As(t,o,s,i,null)}function As(t,e,n,s,i){var r={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++gl};return i==null&&z.vnode!=null&&z.vnode(r),r}function Lt(){return{current:null}}function Ns(t){return t.children}function U(t,e){this.props=t,this.context=e}function En(t,e){if(e==null)return t.__?En(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?En(t):null}function bl(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return bl(t)}}function kl(t){(!t.__d&&(t.__d=!0)&&$e.push(t)&&!Ls.__r++||_l!==z.debounceRendering)&&((_l=z.debounceRendering)||yl)(Ls)}function Ls(){var t,e,n,s,i,r,o,a;for($e.sort(xr);t=$e.shift();)t.__d&&(e=$e.length,s=void 0,i=void 0,o=(r=(n=t).__v).__e,(a=n.__P)&&(s=[],(i=le({},r)).__v=r.__v+1,Cr(a,r,i,n.__n,a.ownerSVGElement!==void 0,r.__h!=null?[o]:null,s,o??En(r),r.__h),Rl(s,r),r.__e!=o&&bl(r)),$e.length>e&&$e.sort(xr));Ls.__r=0}function Sl(t,e,n,s,i,r,o,a,c,h){var l,f,d,u,p,m,w,g=s&&s.__k||wl,v=g.length;for(n.__k=[],l=0;l<e.length;l++)if((u=n.__k[l]=(u=e[l])==null||typeof u=="boolean"||typeof u=="function"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"?As(null,u,null,null,u):$r(u)?As(Ns,{children:u},null,null,null):u.__b>0?As(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null){if(u.__=n,u.__b=n.__b+1,(d=g[l])===null||d&&u.key==d.key&&u.type===d.type)g[l]=void 0;else for(f=0;f<v;f++){if((d=g[f])&&u.key==d.key&&u.type===d.type){g[f]=void 0;break}d=null}Cr(t,u,d=d||Rs,i,r,o,a,c,h),p=u.__e,(f=u.ref)&&d.ref!=f&&(w||(w=[]),d.ref&&w.push(d.ref,null,u),w.push(f,u.__c||p,u)),p!=null?(m==null&&(m=p),typeof u.type=="function"&&u.__k===d.__k?u.__d=c=xl(u,c,t):c=$l(t,u,d,g,p,c),typeof n.type=="function"&&(n.__d=c)):c&&d.__e==c&&c.parentNode!=t&&(c=En(d))}for(n.__e=m,l=v;l--;)g[l]!=null&&(typeof n.type=="function"&&g[l].__e!=null&&g[l].__e==n.__d&&(n.__d=Cl(s).nextSibling),Nl(g[l],g[l]));if(w)for(l=0;l<w.length;l++)Al(w[l],w[++l],w[++l])}function xl(t,e,n){for(var s,i=t.__k,r=0;i&&r<i.length;r++)(s=i[r])&&(s.__=t,e=typeof s.type=="function"?xl(s,e,n):$l(n,s,s,i,s.__e,e));return e}function $l(t,e,n,s,i,r){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=r||i.parentNode==null)t:if(r==null||r.parentNode!==t)t.appendChild(i),o=null;else{for(a=r,c=0;(a=a.nextSibling)&&c<s.length;c+=1)if(a==i)break t;t.insertBefore(i,r),o=r}return o!==void 0?o:i.nextSibling}function Cl(t){var e,n,s;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(s=Cl(n)))return s}return null}function gf(t,e,n,s,i){var r;for(r in n)r==="children"||r==="key"||r in e||Ws(t,r,null,n[r],s);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||Ws(t,r,e[r],n[r],s)}function El(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||mf.test(e)?n:n+"px"}function Ws(t,e,n,s,i){var r;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||El(t.style,e,"");if(n)for(e in n)s&&n[e]===s[e]||El(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?s||t.addEventListener(e,r?Tl:Ml,r):t.removeEventListener(e,r?Tl:Ml,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Ml(t){return this.l[t.type+!1](z.event?z.event(t):t)}function Tl(t){return this.l[t.type+!0](z.event?z.event(t):t)}function Cr(t,e,n,s,i,r,o,a,c){var h,l,f,d,u,p,m,w,g,v,S,x,C,L,A,R=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(h=z.__b)&&h(e);try{t:if(typeof R=="function"){if(w=e.props,g=(h=R.contextType)&&s[h.__c],v=h?g?g.props.value:h.__:s,n.__c?m=(l=e.__c=n.__c).__=l.__E:("prototype"in R&&R.prototype.render?e.__c=l=new R(w,v):(e.__c=l=new U(w,v),l.constructor=R,l.render=yf),g&&g.sub(l),l.props=w,l.state||(l.state={}),l.context=v,l.__n=s,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),R.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=le({},l.__s)),le(l.__s,R.getDerivedStateFromProps(w,l.__s))),d=l.props,u=l.state,l.__v=e,f)R.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(R.getDerivedStateFromProps==null&&w!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(w,v),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(w,l.__s,v)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(l.props=w,l.state=l.__s,l.__d=!1),l.__e=!1,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),S=0;S<l._sb.length;S++)l.__h.push(l._sb[S]);l._sb=[],l.__h.length&&o.push(l);break t}l.componentWillUpdate!=null&&l.componentWillUpdate(w,l.__s,v),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,u,p)})}if(l.context=v,l.props=w,l.__P=t,x=z.__r,C=0,"prototype"in R&&R.prototype.render){for(l.state=l.__s,l.__d=!1,x&&x(e),h=l.render(l.props,l.state,l.context),L=0;L<l._sb.length;L++)l.__h.push(l._sb[L]);l._sb=[]}else do l.__d=!1,x&&x(e),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++C<25);l.state=l.__s,l.getChildContext!=null&&(s=le(le({},s),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(p=l.getSnapshotBeforeUpdate(d,u)),Sl(t,$r(A=h!=null&&h.type===Ns&&h.key==null?h.props.children:h)?A:[A],e,n,s,i,r,o,a,c),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),m&&(l.__E=l.__=null),l.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=_f(n.__e,e,n,s,i,r,o,c);(h=z.diffed)&&h(e)}catch(I){e.__v=null,(c||r!=null)&&(e.__e=a,e.__h=!!c,r[r.indexOf(a)]=null),z.__e(I,e,n)}}function Rl(t,e){z.__c&&z.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(s){s.call(n)})}catch(s){z.__e(s,n.__v)}})}function _f(t,e,n,s,i,r,o,a){var c,h,l,f=n.props,d=e.props,u=e.type,p=0;if(u==="svg"&&(i=!0),r!=null){for(;p<r.length;p++)if((c=r[p])&&"setAttribute"in c==!!u&&(u?c.localName===u:c.nodeType===3)){t=c,r[p]=null;break}}if(t==null){if(u===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u,d.is&&d),r=null,a=!1}if(u===null)f===d||a&&t.data===d||(t.data=d);else{if(r=r&&Ts.call(t.childNodes),h=(f=n.props||Rs).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!a){if(r!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(l||h)&&(l&&(h&&l.__html==h.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(gf(t,d,f,i,a),l)e.__k=[];else if(Sl(t,$r(p=e.props.children)?p:[p],e,n,s,i&&u!=="foreignObject",r,o,r?r[0]:n.__k&&En(n,0),a),r!=null)for(p=r.length;p--;)r[p]!=null&&vl(r[p]);a||("value"in d&&(p=d.value)!==void 0&&(p!==t.value||u==="progress"&&!p||u==="option"&&p!==f.value)&&Ws(t,"value",p,f.value,!1),"checked"in d&&(p=d.checked)!==void 0&&p!==t.checked&&Ws(t,"checked",p,f.checked,!1))}return t}function Al(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(s){z.__e(s,n)}}function Nl(t,e,n){var s,i;if(z.unmount&&z.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||Al(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(r){z.__e(r,e)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(i=0;i<s.length;i++)s[i]&&Nl(s[i],e,n||typeof t.type!="function");n||t.__e==null||vl(t.__e),t.__=t.__e=t.__d=void 0}function yf(t,e,n){return this.constructor(t,n)}function je(t,e,n){var s,i,r;z.__&&z.__(t,e),i=(s=typeof n=="function")?null:n&&n.__k||e.__k,r=[],Cr(e,t=(!s&&n||e).__k=rt(Ns,null,[t]),i||Rs,Rs,e.ownerSVGElement!==void 0,!s&&n?[n]:i?null:e.firstChild?Ts.call(e.childNodes):null,r,!s&&n?n:i?i.__e:e.firstChild,s),Rl(r,t)}Ts=wl.slice,z={__e:function(t,e,n,s){for(var i,r,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,s||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},gl=0,b.isValidElement=function(t){return t!=null&&t.constructor===void 0},U.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=le({},this.state),typeof t=="function"&&(t=t(le({},n),this.props)),t&&le(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),kl(this))},U.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),kl(this))},U.prototype.render=Ns,$e=[],yl=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xr=function(t,e){return t.__v.__b-e.__v.__b},Ls.__r=0;var Ll=function(t,e,n,s){var i;e[0]=0;for(var r=1;r<e.length;r++){var o=e[r++],a=e[r]?(e[0]|=o?1:2,n[e[r++]]):e[++r];o===3?s[0]=a:o===4?s[1]=Object.assign(s[1]||{},a):o===5?(s[1]=s[1]||{})[e[++r]]=a:o===6?s[1][e[++r]]+=a+"":o?(i=t.apply(a,Ll(t,a,n,["",null])),s.push(i),a[0]?e[0]|=2:(e[r-2]=0,e[r]=i)):s.push(a)}return s},Wl=new Map;function Dl(t){var e=Wl.get(this);return e||(e=new Map,Wl.set(this,e)),(e=Ll(this,e.get(t)||(e.set(t,e=function(n){for(var s,i,r=1,o="",a="",c=[0],h=function(d){r===1&&(d||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?c.push(0,d,o):r===3&&(d||o)?(c.push(3,d,o),r=2):r===2&&o==="..."&&d?c.push(4,d,0):r===2&&o&&!d?c.push(5,0,!0,o):r>=5&&((o||!d&&r===5)&&(c.push(r,0,o,i),r=6),d&&(c.push(r,d,0,i),r=6)),o=""},l=0;l<n.length;l++){l&&(r===1&&h(),h(l));for(var f=0;f<n[l].length;f++)s=n[l][f],r===1?s==="<"?(h(),c=[c],r=3):o+=s:r===4?o==="--"&&s===">"?(r=1,o=""):o=s+o[0]:a?s===a?a="":o+=s:s==='"'||s==="'"?a=s:s===">"?(h(),r=1):r&&(s==="="?(r=5,i=o,o=""):s==="/"&&(r<5||n[l][f+1]===">")?(h(),r===3&&(c=c[0]),r=c,(c=c[0]).push(2,0,r),r=0):s===" "||s==="	"||s===`
`||s==="\r"?(h(),r=2):o+=s),r===3&&o==="!--"&&(r=4,c=c[0])}return h(),c}(t)),e),arguments,[])).length>1?e:e[0]}const wf=Dl.bind(rt);function Pl(t){const{tagName:e="div",class:n,className:s,style:i,children:r,attrs:o,...a}=t;return rt(e,{class:T(n,s),style:i,...a,...o},r)}var vf=0;function y(t,e,n,s,i,r){var o,a,c={};for(a in e)a=="ref"?o=e[a]:c[a]=e[a];var h={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--vf,__source:i,__self:r};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return z.vnode&&z.vnode(h),h}class Er extends U{constructor(){super(...arguments);W(this,us,Lt())}componentDidMount(){this.props.executeScript&&_(M(this,us).current).runJS()}render(n){const{executeScript:s,html:i,...r}=n;return y(Pl,{ref:M(this,us),dangerouslySetInnerHTML:{__html:i},...r})}}us=new WeakMap;function Il(t){const{tag:e,className:n,style:s,renders:i,generateArgs:r=[],generatorThis:o,generators:a,onGenerate:c,onRenderItem:h,...l}=t,f=[n],d={...s},u=[],p=[];return i.forEach(m=>{const w=[];typeof m=="string"&&a&&a[m]&&(m=a[m]),typeof m=="function"?c?w.push(...c.call(o,m,u,...r)):w.push(...m.call(o,u,...r)??[]):w.push(m),w.forEach(g=>{g!=null&&(typeof g=="object"&&!b.isValidElement(g)&&("html"in g||"__html"in g||"className"in g||"style"in g||"attrs"in g||"children"in g)?g.html?u.push(y("div",{className:T(g.className),style:g.style,dangerouslySetInnerHTML:{__html:g.html},...g.attrs??{}})):g.__html?p.push(g.__html):(g.style&&Object.assign(d,g.style),g.className&&f.push(g.className),g.children&&u.push(g.children),g.attrs&&Object.assign(l,g.attrs)):u.push(g))})}),p.length&&Object.assign(l,{dangerouslySetInnerHTML:{__html:p}}),[{className:T(f),style:d,...l},u]}function Ds({tag:t="div",...e}){const[n,s]=Il(e);return rt(t,n,...s)}function Ps(t){if(b.isValidElement(t))return t;if(typeof t=="string")return t.startsWith("icon-")||(t=`icon-${t}`),y("i",{class:`icon ${t}`})}function bf(t){return this.getChildContext=()=>t.context,t.children}function kf(t){const e=this,n=t._container;e.componentWillUnmount=function(){je(null,e._temp),e._temp=null,e._container=null},e._container&&e._container!==n&&e.componentWillUnmount(),t._vnode?(e._temp||(e._container=n,e._temp={nodeType:1,parentNode:n,childNodes:[],appendChild(s){this.childNodes.push(s),e._container.appendChild(s)},insertBefore(s,i){this.childNodes.push(s),e._container.appendChild(s)},removeChild(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),e._container.removeChild(s)}}),je(rt(bf,{context:e.context},t._vnode),e._temp)):e._temp&&e.componentWillUnmount()}function Ol(t,e){const n=rt(kf,{_vnode:t,_container:e});return n.containerInfo=e,n}var Hl=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Mn=(t,e,n)=>(Hl(t,e,"read from private field"),n?n.call(t):e.get(t)),Mr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Tn=(t,e,n,s)=>(Hl(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Ce,Rn,Is;const Bl=class{constructor(t,e){Mr(this,Ce,void 0),Mr(this,Rn,void 0),Mr(this,Is,void 0);const{KEY:n,DATA_KEY:s,DEFAULT:i}=this.constructor,r=_(t);if(r.data(n))throw new Error("[ZUI] The component has been initialized on element.");const o=_.guid++;Tn(this,Is,o),r.data(n,this).attr(s,`${o}`),Tn(this,Rn,r[0]),r.on("DOMNodeRemovedFromDocument",()=>{this.destroy()}),Tn(this,Ce,{...i,...r.dataset()}),this.setOptions(e),this.init(),requestAnimationFrame(()=>{this.emit("inited",this.options),this.afterInit()})}static get KEY(){return`zui.${this.NAME}`}static get NAMESPACE(){return`.${this.NAME}.zui`}static get DATA_KEY(){return`data-zui-${this.NAME}`}get element(){return Mn(this,Rn)}get options(){return Mn(this,Ce)}get gid(){return Mn(this,Is)}get $element(){return _(this.element)}init(){}afterInit(){}render(t){this.setOptions(t)}destroy(){const{NAMESPACE:t,KEY:e,DATA_KEY:n}=this.constructor;this.$element.off(t).removeData(e).attr(n,null),Tn(this,Ce,void 0),Tn(this,Rn,void 0),this.emit("destroyed")}setOptions(t){return t&&_.extend(Mn(this,Ce),t),Mn(this,Ce)}emit(t,...e){const n=_.Event(this.constructor.wrapEventNames(t));return this.$element.trigger(n,[this,...e]),n}on(t,e){this.$element.on(this.constructor.wrapEventNames(t),e)}one(t,e){this.$element.one(this.constructor.wrapEventNames(t),e)}off(t,e){this.$element.off(this.constructor.wrapEventNames(t),e)}i18n(t,e,n){return Nt(this.options.i18n,t,e,n,this.options.lang,this.constructor.NAME)??Nt(this.options.i18n,t,e,n,this.options.lang)??`{i18n:${t}}`}static wrapEventNames(t){return t.split(" ").map(e=>e.includes(".")?e:`${e}${this.NAMESPACE}`).join(" ")}static get(t){return _(t).data(this.KEY)}static ensure(t,e){const n=this.get(t);return n?(e&&n.setOptions(e),n):new this(t,e)}static getAll(t){return _(t||document).find(`[${this.DATA_KEY}]`).map((e,n)=>_(n).data(this.KEY)).get()}static query(t){return t===void 0?this.getAll().sort((e,n)=>e.gid-n.gid)[0]:this.get(_(t).closest(`[${this.DATA_KEY}]`))}static defineFn(t){_.fn.extend({[t||this.NAME.replace(/(^[A-Z]+)/,e=>e.toLowerCase())](e,...n){return this.each((s,i)=>{var o;const r=this.ensure(i,typeof e=="object"?e:void 0);typeof e=="string"&&((o=r[e])==null||o.call(r,...n))})}})}};let yt=Bl;Ce=new WeakMap,Rn=new WeakMap,Is=new WeakMap,yt.DEFAULT={},yt.NAME=Bl.name;class ot extends yt{constructor(){super(...arguments),this.ref=Lt()}get $(){return this.ref.current}afterInit(){this.render()}destroy(){var e,n;(n=(e=this.$)==null?void 0:e.componentWillUnmount)==null||n.call(e),this.element&&(this.element.innerHTML=""),super.destroy()}render(e){je(rt(this.constructor.Component,{ref:this.ref,...this.setOptions(e)}),this.element)}}var Tr,j,zl,Fl,An,Ul,Vl={},jl=[],Sf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ce(t,e){for(var n in e)t[n]=e[n];return t}function ql(t){var e=t.parentNode;e&&e.removeChild(t)}function qe(t,e,n){var s,i,r,o={};for(r in e)r=="key"?s=e[r]:r=="ref"?i=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?Tr.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return Os(t,o,s,i,null)}function Os(t,e,n,s,i){var r={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++zl};return i==null&&j.vnode!=null&&j.vnode(r),r}function xf(){return{current:null}}function Rr(t){return t.children}function Nn(t,e){this.props=t,this.context=e}function Ln(t,e){if(e==null)return t.__?Ln(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ln(t):null}function Gl(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Gl(t)}}function Yl(t){(!t.__d&&(t.__d=!0)&&An.push(t)&&!Hs.__r++||Ul!==j.debounceRendering)&&((Ul=j.debounceRendering)||setTimeout)(Hs)}function Hs(){for(var t;Hs.__r=An.length;)t=An.sort(function(e,n){return e.__v.__b-n.__v.__b}),An=[],t.some(function(e){var n,s,i,r,o,a;e.__d&&(o=(r=(n=e).__v).__e,(a=n.__P)&&(s=[],(i=ce({},r)).__v=r.__v+1,ec(a,r,i,n.__n,a.ownerSVGElement!==void 0,r.__h!=null?[o]:null,s,o??Ln(r),r.__h),Cf(s,r),r.__e!=o&&Gl(r)))})}function Kl(t,e,n,s,i,r,o,a,c,h){var l,f,d,u,p,m,w,g=s&&s.__k||jl,v=g.length;for(n.__k=[],l=0;l<e.length;l++)if((u=n.__k[l]=(u=e[l])==null||typeof u=="boolean"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"?Os(null,u,null,null,u):Array.isArray(u)?Os(Rr,{children:u},null,null,null):u.__b>0?Os(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null){if(u.__=n,u.__b=n.__b+1,(d=g[l])===null||d&&u.key==d.key&&u.type===d.type)g[l]=void 0;else for(f=0;f<v;f++){if((d=g[f])&&u.key==d.key&&u.type===d.type){g[f]=void 0;break}d=null}ec(t,u,d=d||Vl,i,r,o,a,c,h),p=u.__e,(f=u.ref)&&d.ref!=f&&(w||(w=[]),d.ref&&w.push(d.ref,null,u),w.push(f,u.__c||p,u)),p!=null?(m==null&&(m=p),typeof u.type=="function"&&u.__k===d.__k?u.__d=c=Xl(u,c,t):c=Jl(t,u,d,g,p,c),typeof n.type=="function"&&(n.__d=c)):c&&d.__e==c&&c.parentNode!=t&&(c=Ln(d))}for(n.__e=m,l=v;l--;)g[l]!=null&&sc(g[l],g[l]);if(w)for(l=0;l<w.length;l++)nc(w[l],w[++l],w[++l])}function Xl(t,e,n){for(var s,i=t.__k,r=0;i&&r<i.length;r++)(s=i[r])&&(s.__=t,e=typeof s.type=="function"?Xl(s,e,n):Jl(n,s,s,i,s.__e,e));return e}function Jl(t,e,n,s,i,r){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=r||i.parentNode==null)t:if(r==null||r.parentNode!==t)t.appendChild(i),o=null;else{for(a=r,c=0;(a=a.nextSibling)&&c<s.length;c+=2)if(a==i)break t;t.insertBefore(i,r),o=r}return o!==void 0?o:i.nextSibling}function $f(t,e,n,s,i){var r;for(r in n)r==="children"||r==="key"||r in e||Bs(t,r,null,n[r],s);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||Bs(t,r,e[r],n[r],s)}function Zl(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Sf.test(e)?n:n+"px"}function Bs(t,e,n,s,i){var r;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||Zl(t.style,e,"");if(n)for(e in n)s&&n[e]===s[e]||Zl(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?s||t.addEventListener(e,r?tc:Ql,r):t.removeEventListener(e,r?tc:Ql,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Ql(t){this.l[t.type+!1](j.event?j.event(t):t)}function tc(t){this.l[t.type+!0](j.event?j.event(t):t)}function ec(t,e,n,s,i,r,o,a,c){var h,l,f,d,u,p,m,w,g,v,S,x,C,L,A,R=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(h=j.__b)&&h(e);try{t:if(typeof R=="function"){if(w=e.props,g=(h=R.contextType)&&s[h.__c],v=h?g?g.props.value:h.__:s,n.__c?m=(l=e.__c=n.__c).__=l.__E:("prototype"in R&&R.prototype.render?e.__c=l=new R(w,v):(e.__c=l=new Nn(w,v),l.constructor=R,l.render=Mf),g&&g.sub(l),l.props=w,l.state||(l.state={}),l.context=v,l.__n=s,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),R.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=ce({},l.__s)),ce(l.__s,R.getDerivedStateFromProps(w,l.__s))),d=l.props,u=l.state,f)R.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(R.getDerivedStateFromProps==null&&w!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(w,v),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(w,l.__s,v)===!1||e.__v===n.__v){for(l.props=w,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),l.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),S=0;S<l._sb.length;S++)l.__h.push(l._sb[S]);l._sb=[],l.__h.length&&o.push(l);break t}l.componentWillUpdate!=null&&l.componentWillUpdate(w,l.__s,v),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,u,p)})}if(l.context=v,l.props=w,l.__v=e,l.__P=t,x=j.__r,C=0,"prototype"in R&&R.prototype.render){for(l.state=l.__s,l.__d=!1,x&&x(e),h=l.render(l.props,l.state,l.context),L=0;L<l._sb.length;L++)l.__h.push(l._sb[L]);l._sb=[]}else do l.__d=!1,x&&x(e),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++C<25);l.state=l.__s,l.getChildContext!=null&&(s=ce(ce({},s),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(p=l.getSnapshotBeforeUpdate(d,u)),A=h!=null&&h.type===Rr&&h.key==null?h.props.children:h,Kl(t,Array.isArray(A)?A:[A],e,n,s,i,r,o,a,c),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),m&&(l.__E=l.__=null),l.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ef(n.__e,e,n,s,i,r,o,c);(h=j.diffed)&&h(e)}catch(I){e.__v=null,(c||r!=null)&&(e.__e=a,e.__h=!!c,r[r.indexOf(a)]=null),j.__e(I,e,n)}}function Cf(t,e){j.__c&&j.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(s){s.call(n)})}catch(s){j.__e(s,n.__v)}})}function Ef(t,e,n,s,i,r,o,a){var c,h,l,f=n.props,d=e.props,u=e.type,p=0;if(u==="svg"&&(i=!0),r!=null){for(;p<r.length;p++)if((c=r[p])&&"setAttribute"in c==!!u&&(u?c.localName===u:c.nodeType===3)){t=c,r[p]=null;break}}if(t==null){if(u===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u,d.is&&d),r=null,a=!1}if(u===null)f===d||a&&t.data===d||(t.data=d);else{if(r=r&&Tr.call(t.childNodes),h=(f=n.props||Vl).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!a){if(r!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(l||h)&&(l&&(h&&l.__html==h.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if($f(t,d,f,i,a),l)e.__k=[];else if(p=e.props.children,Kl(t,Array.isArray(p)?p:[p],e,n,s,i&&u!=="foreignObject",r,o,r?r[0]:n.__k&&Ln(n,0),a),r!=null)for(p=r.length;p--;)r[p]!=null&&ql(r[p]);a||("value"in d&&(p=d.value)!==void 0&&(p!==t.value||u==="progress"&&!p||u==="option"&&p!==f.value)&&Bs(t,"value",p,f.value,!1),"checked"in d&&(p=d.checked)!==void 0&&p!==t.checked&&Bs(t,"checked",p,f.checked,!1))}return t}function nc(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(s){j.__e(s,n)}}function sc(t,e,n){var s,i;if(j.unmount&&j.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||nc(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(r){j.__e(r,e)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(i=0;i<s.length;i++)s[i]&&sc(s[i],e,n||typeof t.type!="function");n||t.__e==null||ql(t.__e),t.__=t.__e=t.__d=void 0}function Mf(t,e,n){return this.constructor(t,n)}Tr=jl.slice,j={__e:function(t,e,n,s){for(var i,r,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,s||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},zl=0,Fl=function(t){return t!=null&&t.constructor===void 0},Nn.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ce({},this.state),typeof t=="function"&&(t=t(ce({},n),this.props)),t&&ce(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Yl(this))},Nn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Yl(this))},Nn.prototype.render=Rr,An=[],Hs.__r=0;var Tf=0;function wt(t,e,n,s,i){var r,o,a={};for(o in e)o=="ref"?r=e[o]:a[o]=e[o];var c={type:t,props:a,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Tf,__source:i,__self:s};if(typeof t=="function"&&(r=t.defaultProps))for(o in r)a[o]===void 0&&(a[o]=r[o]);return j.vnode&&j.vnode(c),c}const Rp="";function Rf({component:t="div",className:e,children:n,style:s,attrs:i}){return qe(t,{className:T(e),style:s,...i},n)}function ic({type:t,component:e="a",className:n,children:s,attrs:i,url:r,disabled:o,active:a,icon:c,text:h,target:l,trailingIcon:f,hint:d,checked:u,onClick:p,...m}){const w=[typeof u=="boolean"?wt("div",{class:`checkbox-primary${u?" checked":""}`,children:wt("label",{})}):null,Ps(c),wt("span",{className:"text",children:h}),typeof s=="function"?s():s,Ps(f)];return qe(e,{className:T(n,{disabled:o,active:a}),title:d,[e==="a"?"href":"data-url"]:r,[e==="a"?"target":"data-target"]:l,onClick:p,...m,...i},...w)}function Af({component:t="div",className:e,text:n,attrs:s,children:i,style:r,onClick:o}){return qe(t,{className:T(e),style:r,onClick:o,...s},n,typeof i=="function"?i():i)}function Nf({component:t="div",className:e,style:n,space:s,flex:i,attrs:r,onClick:o,children:a}){return qe(t,{className:T(e),style:{width:s,height:s,flex:i,...n},onClick:o,...r},a)}function Lf({type:t,...e}){return wt(Ds,{...e})}function rc({component:t="div",className:e,children:n,style:s,attrs:i}){return qe(t,{className:T(e),style:s,...i},n)}const Ar=class extends Nn{constructor(){super(...arguments),this.ref=xf()}get name(){return this.props.name??this.constructor.NAME}componentDidMount(){this.afterRender(!0)}componentDidUpdate(){this.afterRender(!1)}componentWillUnmount(){var t,e;(e=(t=this.props).beforeDestroy)==null||e.call(t,{menu:this})}afterRender(t){var e,n;(n=(e=this.props).afterRender)==null||n.call(e,{menu:this,firstRender:t})}handleItemClick(t,e,n,s){n&&n.call(s.target,s);const{onClickItem:i}=this.props;i&&i({menu:this,item:t,index:e,event:s})}beforeRender(){var n;const t={...this.props};typeof t.items=="function"&&(t.items=t.items(this));const e=(n=t.beforeRender)==null?void 0:n.call(t,{menu:this,options:t});return e&&Object.assign(t,e),t}getItemRenderProps(t,e,n){const{commonItemProps:s,onClickItem:i}=t,r={key:n,...e};return s&&Object.assign(r,s[e.type||"item"]),(i||e.onClick)&&(r.onClick=this.handleItemClick.bind(this,r,n,e.onClick)),r.className=T(r.className),r}renderItem(t,e,n){const s=this.getItemRenderProps(t,e,n),{itemRender:i}=t;if(i){if(typeof i=="object"){const p=i[e.type||"item"];if(p)return wt(p,{...s})}else if(typeof i=="function"){const p=i.call(this,s,qe);if(Fl(p))return p;typeof p=="object"&&Object.assign(s,p)}}const{type:r="item",component:o,key:a=n,rootAttrs:c,rootClass:h,rootStyle:l,rootChildren:f,...d}=s;if(r==="html")return wt("li",{className:T("action-menu-item",`${this.name}-html`,h,d.className),...c,style:l||d.style,dangerouslySetInnerHTML:{__html:d.html}},a);const u=!o||typeof o=="string"?this.constructor.ItemComponents&&this.constructor.ItemComponents[r]||Ar.ItemComponents[r]:o;return Object.assign(d,{type:r,component:typeof o=="string"?o:void 0}),t.checkbox&&r==="item"&&d.checked===void 0&&(d.checked=d.active),this.renderTypedItem(u,{className:T(h),children:f,style:l,key:a,...c},{...d,type:r,component:typeof o=="string"?o:void 0})}renderTypedItem(t,e,n){const{children:s,className:i,key:r,...o}=e;return wt("li",{className:T("action-menu-item",`${this.name}-${n.type}`,i),...o,children:[wt(t,{...n}),typeof s=="function"?s():s]},r)}render(){const t=this.beforeRender(),{name:e,style:n,commonItemProps:s,className:i,items:r,children:o,itemRender:a,onClickItem:c,beforeRender:h,afterRender:l,beforeDestroy:f,activeClass:d,activeKey:u,...p}=t,m=this.constructor.ROOT_TAG;return wt(m,{class:T(this.name,i),style:n,...p,ref:this.ref,children:[r&&r.map(this.renderItem.bind(this,t)),o]})}};let Ee=Ar;Ee.ItemComponents={divider:Rf,item:ic,heading:Af,space:Nf,custom:Lf,basic:rc},Ee.ROOT_TAG="menu",Ee.NAME="action-menu";class Nr extends ot{}Nr.NAME="ActionMenu",Nr.Component=Ee;function oc({...t}){return wt(ic,{...t})}var ac=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},vt=(t,e,n)=>(ac(t,e,"read from private field"),n?n.call(t):e.get(t)),Lr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Wf=(t,e,n,s)=>(ac(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),zs,Vt,Wn;let Wr=class extends Ee{constructor(e){super(e),Lr(this,zs,new Set),Lr(this,Vt,void 0),Lr(this,Wn,(n,s,i)=>{this.toggleNestedMenu(n,s),i.preventDefault()}),Wf(this,Vt,e.nestedShow===void 0),vt(this,Vt)&&(this.state={nestedShow:e.defaultNestedShow??{}})}get nestedTrigger(){return this.props.nestedTrigger}beforeRender(){const e=super.beforeRender(),{nestedShow:n,nestedTrigger:s,defaultNestedShow:i,controlledMenu:r,...o}=e;return o}renderNestedMenu(e){let{items:n}=e;if(!n||(typeof n=="function"&&(n=n(e,this)),!n.length))return;const s=this.constructor,{name:i,controlledMenu:r,nestedShow:o,beforeDestroy:a,beforeRender:c,itemRender:h,activeClass:l,activeKey:f,onClickItem:d,afterRender:u,commonItemProps:p,activeIcon:m}=this.props;return wt(s,{items:n,name:i,nestedShow:vt(this,Vt)?this.state.nestedShow:o,nestedTrigger:this.nestedTrigger,controlledMenu:r||this,commonItemProps:p,onClickItem:d,afterRender:u,beforeRender:c,beforeDestroy:a,itemRender:h,activeClass:l,activeKey:f,activeIcon:m})}isNestedItem(e){return(!e.type||e.type==="item")&&!!e.items}renderToggleIcon(e,n){}getItemRenderProps(e,n,s){const i=super.getItemRenderProps(e,n,s);if(!this.isNestedItem(i))return i;const r=i.key??s;vt(this,zs).add(r);const o=this.isNestedMenuShow(r);if(o&&(i.rootChildren=[i.rootChildren,this.renderNestedMenu(n)],i.component=oc),this.nestedTrigger==="hover")i.rootAttrs={...i.rootAttrs,onMouseEnter:vt(this,Wn).bind(this,r,!0),onMouseLeave:vt(this,Wn).bind(this,r,!1)};else if(this.nestedTrigger==="click"){const{onClick:c}=i;i.onClick=h=>{vt(this,Wn).call(this,r,void 0,h),c==null||c(h)}}const a=this.renderToggleIcon(o,i);return a&&(i.children=[i.children,a]),i.rootClass=[i.rootClass,"has-nested-menu",o?"show":""],i}isNestedMenuShow(e){const n=vt(this,Vt)?this.state.nestedShow:this.props.nestedShow;return n&&typeof n=="object"?n[e]:!!n}toggleNestedMenu(e,n){const{controlledMenu:s}=this.props;if(s)return s.toggleNestedMenu(e,n);if(!vt(this,Vt))return!1;let{nestedShow:i={}}=this.state;if(typeof i=="boolean"&&(i===!0?i=[...vt(this,zs).values()].reduce((r,o)=>(r[o]=!0,r),{}):i={}),n===void 0)n=!i[e];else if(!!i[e]==!!n)return!1;return n?i[e]=n:delete i[e],this.setState({nestedShow:{...i}}),!0}showNestedMenu(e){return this.toggleNestedMenu(e,!0)}hideNestedMenu(e){return this.toggleNestedMenu(e,!1)}showAllNestedMenu(){vt(this,Vt)&&this.setState({nestedShow:!0})}hideAllNestedMenu(){vt(this,Vt)&&this.setState({nestedShow:!1})}};zs=new WeakMap,Vt=new WeakMap,Wn=new WeakMap,Wr.ItemComponents={item:oc};class Dr extends ot{}Dr.NAME="ActionMenuNested",Dr.Component=Wr;const Ap="",Np="",Lp="",Wp="",Dp="",Pp="",Ip="",Op="",Hp="",Bp="",zp="",Fp="",Up="";let Fs=class extends Wr{get nestedTrigger(){return this.props.nestedTrigger||"click"}get menuName(){return"menu-nested"}beforeRender(){const e=super.beforeRender();let{hasIcons:n}=e;return n===void 0&&(n=e.items.some(s=>s.icon)),e.className=T(e.className,this.menuName,{"has-icons":n,"has-nested-items":e.items.some(s=>this.isNestedItem(s)),"menu-popup":e.popup}),e}renderToggleIcon(e){return y("span",{class:`${this.name}-toggle-icon caret-${e?"down":"right"}`})}};Fs.NAME="menu";class Pr extends ot{}Pr.NAME="Menu",Pr.Component=Fs;const Vp="";class jt extends U{render(){const{component:e,type:n,btnType:s,size:i,className:r,children:o,url:a,target:c,disabled:h,active:l,loading:f,loadingIcon:d,loadingText:u,icon:p,text:m,trailingIcon:w,caret:g,square:v,hint:S,...x}=this.props,C=e||(a?"a":"button"),L=m==null||typeof m=="string"&&!m.length||f&&!u,A=g&&L&&!p&&!w&&!o&&!f;return rt(C,{className:T("btn",n,r,{"btn-caret":A,disabled:h||f,active:l,loading:f,square:v===void 0?!A&&!o&&L:v},i?`size-${i}`:""),title:S,[C==="a"?"href":"data-url"]:a,[C==="a"?"target":"data-target"]:c,type:C==="button"?s:void 0,...x},f?y("i",{class:`spin icon ${d||"icon-spinner-snake"}`}):Ps(p),L?null:y("span",{className:"text",children:f?u:m}),f?null:o,f?null:typeof w=="string"?y("i",{class:`icon ${w}`}):w,f?null:g?y("span",{className:typeof g=="string"?`caret-${g}`:"caret"}):null)}}const jp="",qp="";function Df({key:t,type:e,btnType:n,...s}){return y(jt,{type:n,...s})}const Gp="";function Dn(t){return t.split("-")[1]}function Ir(t){return t==="y"?"height":"width"}function Me(t){return t.split("-")[0]}function Pn(t){return["top","bottom"].includes(Me(t))?"x":"y"}function lc(t,e,n){let{reference:s,floating:i}=t;const r=s.x+s.width/2-i.width/2,o=s.y+s.height/2-i.height/2,a=Pn(e),c=Ir(a),h=s[c]/2-i[c]/2,l=a==="x";let f;switch(Me(e)){case"top":f={x:r,y:s.y-i.height};break;case"bottom":f={x:r,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:o};break;case"left":f={x:s.x-i.width,y:o};break;default:f={x:s.x,y:s.y}}switch(Dn(e)){case"start":f[a]-=h*(n&&l?-1:1);break;case"end":f[a]+=h*(n&&l?-1:1)}return f}const Pf=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:l,y:f}=lc(h,s,c),d=s,u={},p=0;for(let m=0;m<a.length;m++){const{name:w,fn:g}=a[m],{x:v,y:S,data:x,reset:C}=await g({x:l,y:f,initialPlacement:s,placement:d,strategy:i,middlewareData:u,rects:h,platform:o,elements:{reference:t,floating:e}});l=v??l,f=S??f,u={...u,[w]:{...u[w],...x}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:l,y:f}=lc(h,d,c)),m=-1)}return{x:l,y:f,placement:d,strategy:i,middlewareData:u}};function cc(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function Us(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function hc(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:o,elements:a,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:d=!1,padding:u=0}=e,p=cc(u),m=a[d?f==="floating"?"reference":"floating":f],w=Us(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(m)))==null||n?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:h,rootBoundary:l,strategy:c})),g=f==="floating"?{...o.floating,x:s,y:i}:o.reference,v=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),S=await(r.isElement==null?void 0:r.isElement(v))&&await(r.getScale==null?void 0:r.getScale(v))||{x:1,y:1},x=Us(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:v,strategy:c}):g);return{top:(w.top-x.top+p.top)/S.y,bottom:(x.bottom-w.bottom+p.bottom)/S.y,left:(w.left-x.left+p.left)/S.x,right:(x.right-w.right+p.right)/S.x}}const If=Math.min,Of=Math.max;function Or(t,e,n){return Of(t,If(e,n))}const Hf=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:s=0}=t||{},{x:i,y:r,placement:o,rects:a,platform:c,elements:h}=e;if(n==null)return{};const l=cc(s),f={x:i,y:r},d=Pn(o),u=Ir(d),p=await c.getDimensions(n),m=d==="y",w=m?"top":"left",g=m?"bottom":"right",v=m?"clientHeight":"clientWidth",S=a.reference[u]+a.reference[d]-f[d]-a.floating[u],x=f[d]-a.reference[d],C=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let L=C?C[v]:0;L&&await(c.isElement==null?void 0:c.isElement(C))||(L=h.floating[v]||a.floating[u]);const A=S/2-x/2,R=l[w],I=L-p[u]-l[g],E=L/2-p[u]/2+A,D=Or(R,E,I),q=Dn(o)!=null&&E!=D&&a.reference[u]/2-(E<R?l[w]:l[g])-p[u]/2<0;return{[d]:f[d]-(q?E<R?R-E:I-E:0),data:{[d]:D,centerOffset:E-D}}}});["top","right","bottom","left"].reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Bf={left:"right",right:"left",bottom:"top",top:"bottom"};function Vs(t){return t.replace(/left|right|bottom|top/g,e=>Bf[e])}function zf(t,e,n){n===void 0&&(n=!1);const s=Dn(t),i=Pn(t),r=Ir(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=Vs(o)),{main:o,cross:Vs(o)}}const Ff={start:"end",end:"start"};function Hr(t){return t.replace(/start|end/g,e=>Ff[e])}const Br=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:s,middlewareData:i,rects:r,initialPlacement:o,platform:a,elements:c}=e,{mainAxis:h=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:p=!0,...m}=t,w=Me(s),g=Me(o)===o,v=await(a.isRTL==null?void 0:a.isRTL(c.floating)),S=f||(g||!p?[Vs(o)]:function(D){const q=Vs(D);return[Hr(D),q,Hr(q)]}(o));f||u==="none"||S.push(...function(D,q,G,F){const B=Dn(D);let Y=function(Tt,Fe,Bt){const be=["left","right"],Ue=["right","left"],kn=["top","bottom"],N=["bottom","top"];switch(Tt){case"top":case"bottom":return Bt?Fe?Ue:be:Fe?be:Ue;case"left":case"right":return Fe?kn:N;default:return[]}}(Me(D),G==="start",F);return B&&(Y=Y.map(Tt=>Tt+"-"+B),q&&(Y=Y.concat(Y.map(Hr)))),Y}(o,p,u,v));const x=[o,...S],C=await hc(e,m),L=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&L.push(C[w]),l){const{main:D,cross:q}=zf(s,r,v);L.push(C[D],C[q])}if(A=[...A,{placement:s,overflows:L}],!L.every(D=>D<=0)){var R,I;const D=(((R=i.flip)==null?void 0:R.index)||0)+1,q=x[D];if(q)return{data:{index:D,overflows:A},reset:{placement:q}};let G=(I=A.filter(F=>F.overflows[0]<=0).sort((F,B)=>F.overflows[1]-B.overflows[1])[0])==null?void 0:I.placement;if(!G)switch(d){case"bestFit":{var E;const F=(E=A.map(B=>[B.placement,B.overflows.filter(Y=>Y>0).reduce((Y,Tt)=>Y+Tt,0)]).sort((B,Y)=>B[1]-Y[1])[0])==null?void 0:E[0];F&&(G=F);break}case"initialPlacement":G=o}if(s!==G)return{reset:{placement:G}}}return{}}}},uc=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s}=e,i=await async function(r,o){const{placement:a,platform:c,elements:h}=r,l=await(c.isRTL==null?void 0:c.isRTL(h.floating)),f=Me(a),d=Dn(a),u=Pn(a)==="x",p=["left","top"].includes(f)?-1:1,m=l&&u?-1:1,w=typeof o=="function"?o(r):o;let{mainAxis:g,crossAxis:v,alignmentAxis:S}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return d&&typeof S=="number"&&(v=d==="end"?-1*S:S),u?{x:v*m,y:g*p}:{x:g*p,y:v*m}}(e,t);return{x:n+i.x,y:s+i.y,data:i}}}};function Uf(t){return t==="x"?"y":"x"}const Vf=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:g,y:v}=w;return{x:g,y:v}}},...c}=t,h={x:n,y:s},l=await hc(e,c),f=Pn(Me(i)),d=Uf(f);let u=h[f],p=h[d];if(r){const w=f==="y"?"bottom":"right";u=Or(u+l[f==="y"?"top":"left"],u,u-l[w])}if(o){const w=d==="y"?"bottom":"right";p=Or(p+l[d==="y"?"top":"left"],p,p-l[w])}const m=a.fn({...e,[f]:u,[d]:p});return{...m,data:{x:m.x-n,y:m.y-s}}}}};function ft(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bt(t){return ft(t).getComputedStyle(t)}function fc(t){return t instanceof ft(t).Node}function he(t){return fc(t)?(t.nodeName||"").toLowerCase():""}let js;function dc(){if(js)return js;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(js=t.brands.map(e=>e.brand+"/"+e.version).join(" "),js):navigator.userAgent}function kt(t){return t instanceof ft(t).HTMLElement}function dt(t){return t instanceof ft(t).Element}function pc(t){return typeof ShadowRoot>"u"?!1:t instanceof ft(t).ShadowRoot||t instanceof ShadowRoot}function In(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=bt(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(i)}function jf(t){return["table","td","th"].includes(he(t))}function zr(t){const e=/firefox/i.test(dc()),n=bt(t),s=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!s&&s!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const r=n.contain;return r!=null&&r.includes(i)})}function Fr(){return/^((?!chrome|android).)*safari/i.test(dc())}function qs(t){return["html","body","#document"].includes(he(t))}const mc=Math.min,On=Math.max,Gs=Math.round;function gc(t){const e=bt(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=kt(t),r=i?t.offsetWidth:n,o=i?t.offsetHeight:s,a=Gs(n)!==r||Gs(s)!==o;return a&&(n=r,s=o),{width:n,height:s,fallback:a}}function _c(t){return dt(t)?t:t.contextElement}const yc={x:1,y:1};function Ge(t){const e=_c(t);if(!kt(e))return yc;const n=e.getBoundingClientRect(),{width:s,height:i,fallback:r}=gc(e);let o=(r?Gs(n.width):n.width)/s,a=(r?Gs(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function Te(t,e,n,s){var i,r;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=_c(t);let c=yc;e&&(s?dt(s)&&(c=Ge(s)):c=Ge(t));const h=a?ft(a):window,l=Fr()&&n;let f=(o.left+(l&&((i=h.visualViewport)==null?void 0:i.offsetLeft)||0))/c.x,d=(o.top+(l&&((r=h.visualViewport)==null?void 0:r.offsetTop)||0))/c.y,u=o.width/c.x,p=o.height/c.y;if(a){const m=ft(a),w=s&&dt(s)?ft(s):s;let g=m.frameElement;for(;g&&s&&w!==m;){const v=Ge(g),S=g.getBoundingClientRect(),x=getComputedStyle(g);S.x+=(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S.y+=(g.clientTop+parseFloat(x.paddingTop))*v.y,f*=v.x,d*=v.y,u*=v.x,p*=v.y,f+=S.x,d+=S.y,g=ft(g).frameElement}}return Us({width:u,height:p,x:f,y:d})}function ue(t){return((fc(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ys(t){return dt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wc(t){return Te(ue(t)).left+Ys(t).scrollLeft}function Ye(t){if(he(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pc(t)&&t.host||ue(t);return pc(e)?e.host:e}function vc(t){const e=Ye(t);return qs(e)?e.ownerDocument.body:kt(e)&&In(e)?e:vc(e)}function Hn(t,e){var n;e===void 0&&(e=[]);const s=vc(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=ft(s);return i?e.concat(r,r.visualViewport||[],In(s)?s:[]):e.concat(s,Hn(s))}function bc(t,e,n){let s;if(e==="viewport")s=function(o,a){const c=ft(o),h=ue(o),l=c.visualViewport;let f=h.clientWidth,d=h.clientHeight,u=0,p=0;if(l){f=l.width,d=l.height;const m=Fr();(!m||m&&a==="fixed")&&(u=l.offsetLeft,p=l.offsetTop)}return{width:f,height:d,x:u,y:p}}(t,n);else if(e==="document")s=function(o){const a=ue(o),c=Ys(o),h=o.ownerDocument.body,l=On(a.scrollWidth,a.clientWidth,h.scrollWidth,h.clientWidth),f=On(a.scrollHeight,a.clientHeight,h.scrollHeight,h.clientHeight);let d=-c.scrollLeft+wc(o);const u=-c.scrollTop;return bt(h).direction==="rtl"&&(d+=On(a.clientWidth,h.clientWidth)-l),{width:l,height:f,x:d,y:u}}(ue(t));else if(dt(e))s=function(o,a){const c=Te(o,!0,a==="fixed"),h=c.top+o.clientTop,l=c.left+o.clientLeft,f=kt(o)?Ge(o):{x:1,y:1};return{width:o.clientWidth*f.x,height:o.clientHeight*f.y,x:l*f.x,y:h*f.y}}(e,n);else{const o={...e};if(Fr()){var i,r;const a=ft(t);o.x-=((i=a.visualViewport)==null?void 0:i.offsetLeft)||0,o.y-=((r=a.visualViewport)==null?void 0:r.offsetTop)||0}s=o}return Us(s)}function kc(t,e){const n=Ye(t);return!(n===e||!dt(n)||qs(n))&&(bt(n).position==="fixed"||kc(n,e))}function Sc(t,e){return kt(t)&&bt(t).position!=="fixed"?e?e(t):t.offsetParent:null}function xc(t,e){const n=ft(t);if(!kt(t))return n;let s=Sc(t,e);for(;s&&jf(s)&&bt(s).position==="static";)s=Sc(s,e);return s&&(he(s)==="html"||he(s)==="body"&&bt(s).position==="static"&&!zr(s))?n:s||function(i){let r=Ye(i);for(;kt(r)&&!qs(r);){if(zr(r))return r;r=Ye(r)}return null}(t)||n}function qf(t,e,n){const s=kt(e),i=ue(e),r=Te(t,!0,n==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(s||!s&&n!=="fixed")if((he(e)!=="body"||In(i))&&(o=Ys(e)),kt(e)){const c=Te(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=wc(i));return{x:r.left+o.scrollLeft-a.x,y:r.top+o.scrollTop-a.y,width:r.width,height:r.height}}const Gf={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const r=n==="clippingAncestors"?function(h,l){const f=l.get(h);if(f)return f;let d=Hn(h).filter(w=>dt(w)&&he(w)!=="body"),u=null;const p=bt(h).position==="fixed";let m=p?Ye(h):h;for(;dt(m)&&!qs(m);){const w=bt(m),g=zr(m);g||w.position!=="fixed"||(u=null),(p?!g&&!u:!g&&w.position==="static"&&u&&["absolute","fixed"].includes(u.position)||In(m)&&!g&&kc(h,m))?d=d.filter(v=>v!==m):u=w,m=Ye(m)}return l.set(h,d),d}(e,this._c):[].concat(n),o=[...r,s],a=o[0],c=o.reduce((h,l)=>{const f=bc(e,l,i);return h.top=On(f.top,h.top),h.right=mc(f.right,h.right),h.bottom=mc(f.bottom,h.bottom),h.left=On(f.left,h.left),h},bc(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:s}=t;const i=kt(n),r=ue(n);if(n===r)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((i||!i&&s!=="fixed")&&((he(n)!=="body"||In(r))&&(o=Ys(n)),kt(n))){const h=Te(n);a=Ge(n),c.x=h.x+n.clientLeft,c.y=h.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}},isElement:dt,getDimensions:function(t){return gc(t)},getOffsetParent:xc,getDocumentElement:ue,getScale:Ge,async getElementRects(t){let{reference:e,floating:n,strategy:s}=t;const i=this.getOffsetParent||xc,r=this.getDimensions;return{reference:qf(e,await i(n),s),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>bt(t).direction==="rtl"};function $c(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=!0,animationFrame:a=!1}=s,c=i||r?[...dt(t)?Hn(t):t.contextElement?Hn(t.contextElement):[],...Hn(e)]:[];c.forEach(d=>{const u=!dt(d)&&d.toString().includes("V");!i||a&&!u||d.addEventListener("scroll",n,{passive:!0}),r&&d.addEventListener("resize",n)});let h,l=null;o&&(l=new ResizeObserver(()=>{n()}),dt(t)&&!a&&l.observe(t),dt(t)||!t.contextElement||a||l.observe(t.contextElement),l.observe(e));let f=a?Te(t):null;return a&&function d(){const u=Te(t);!f||u.x===f.x&&u.y===f.y&&u.width===f.width&&u.height===f.height||n(),f=u,h=requestAnimationFrame(d)}(),n(),()=>{var d;c.forEach(u=>{i&&u.removeEventListener("scroll",n),r&&u.removeEventListener("resize",n)}),(d=l)==null||d.disconnect(),l=null,a&&cancelAnimationFrame(h)}}const Ur=(t,e,n)=>{const s=new Map,i={platform:Gf,...n},r={...i.platform,_c:s};return Pf(t,e,{...i,platform:r})},Kp="",Xp="",Jp="";let Yf=class extends Fs{get nestedTrigger(){return this.props.nestedTrigger||"hover"}get name(){return"menu"}get menuName(){return"menu-context"}componentWillUnmount(){super.componentWillUnmount()}getPopperOptions(){return{middleware:[Br()],placement:"right-start"}}getPopperElement(){var e;return(e=this.ref.current)==null?void 0:e.parentElement}createPopper(){const e=this.getPopperOptions();this.ref.current&&Ur(this.getPopperElement(),this.ref.current,e).then(({x:n,y:s})=>{Object.assign(this.ref.current.style,{left:`${n}px`,top:`${s}px`,position:"absolute"})})}afterRender(e){super.afterRender(e),this.props.controlledMenu&&this.createPopper()}beforeRender(){const e=super.beforeRender();return e.className=T(e.className,"menu-popup"),e}renderToggleIcon(){return y("span",{class:"contextmenu-toggle-icon caret-right"})}};var Vr=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},qt=(t,e,n)=>(Vr(t,e,"read from private field"),n?n.call(t):e.get(t)),Ke=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ks=(t,e,n,s)=>(Vr(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Cc=(t,e,n)=>(Vr(t,e,"access private method"),n),fe,Bn,Xs,Js,jr,Ec,qr,Mc;const Gr="show",Kf='[data-toggle="contextmenu"]';class St extends yt{constructor(){super(...arguments),Ke(this,jr),Ke(this,qr),Ke(this,fe,void 0),Ke(this,Bn,void 0),Ke(this,Xs,void 0),Ke(this,Js,void 0)}get isShown(){return qt(this,fe)&&_(qt(this,fe)).hasClass(Gr)}get menu(){return qt(this,fe)||this.ensureMenu()}get trigger(){return qt(this,Xs)||this.element}get isDynamic(){return this.options.items||this.options.menu}init(){const{$element:e}=this;!e.is("body")&&!e.attr("data-toggle")&&e.attr("data-toggle",this.constructor.NAME.toLowerCase())}show(e){return this.isShown||(Ks(this,Xs,e),this.emit("show",this.trigger).defaultPrevented)||this.isDynamic&&!this.renderMenu()?!1:(_(this.menu).addClass(Gr),this.createPopper(),this.emit("shown"),!0)}hide(){var e;return!this.isShown||((e=qt(this,Js))==null||e.call(this),this.emit("hide").defaultPrevented)?!1:(_(qt(this,fe)).removeClass(Gr),this.emit("hidden"),!0)}toggle(e){return this.isShown?this.hide():this.show(e)}destroy(){var e;super.destroy(),this.hide(),(e=qt(this,fe))==null||e.remove()}ensureMenu(){const{$element:e}=this,n=this.constructor.MENU_CLASS;let s;if(this.isDynamic)s=_(`<div class="${n}" />`).appendTo("body");else if(e.length){const i=e.attr("href")||e.dataset("target")||"";if(i[0]==="#"&&(s=_(document).find(i)),!(s!=null&&s.length)){const r=e.next();r.hasClass(n)?s=r:s=e.parent().find(`.${n}`)}s&&s.addClass("menu-popup")}if(!(s!=null&&s.length))throw new Error("[ZUI] ContextMenu: Cannot find menu element.");return s.css({width:"max-content",position:this.options.strategy,top:0,left:0}),Ks(this,fe,s[0]),s[0]}getPopperOptions(){var i;const{placement:e,strategy:n}=this.options,s={middleware:[],placement:e,strategy:n};return this.options.flip&&((i=s.middleware)==null||i.push(Br())),s}createPopper(){const e=this.getPopperOptions(),n=this.getPopperElement(),s=this.menu;Ks(this,Js,$c(n,s,()=>{Ur(n,s,e).then(({x:i,y:r,middlewareData:o,placement:a})=>{_(s).css({left:`${i}px`,top:`${r}px`});const c=a.split("-")[0],h=Cc(this,jr,Ec).call(this,c);if(o.arrow&&this.arrowEl){const{x:l,y:f}=o.arrow;_(this.arrowEl).css({left:l!=null?`${l}px`:"",top:f!=null?`${f}px`:"",[h]:`${-this.arrowEl.offsetWidth/2}px`,background:"inherit",border:"inherit",...Cc(this,qr,Mc).call(this,c)})}})}))}getMenuOptions(){const{menu:e,items:n}=this.options;let s=n||(e==null?void 0:e.items);if(s)return typeof s=="function"&&(s=s(this)),{nestedTrigger:"hover",...e,items:s}}renderMenu(){const e=this.getMenuOptions();return!e||this.emit("updateMenu",e,this.trigger).defaultPrevented?!1:(je(rt(Yf,e),this.menu),!0)}getPopperElement(){return qt(this,Bn)||Ks(this,Bn,{getBoundingClientRect:()=>{const{trigger:e}=this;if(e instanceof MouseEvent){const{clientX:n,clientY:s}=e;return{width:0,height:0,top:s,right:n,bottom:s,left:n}}return e instanceof HTMLElement?e.getBoundingClientRect():e},contextElement:this.element}),qt(this,Bn)}static clear(e){var a,c;e instanceof Event&&(e={event:e});const{event:n,exclude:s,ignoreSelector:i=".not-hide-menu"}=e||{};if(n&&i&&((c=(a=n.target).closest)!=null&&c.call(a,i))||n&&n.button===2)return;const r=this.getAll(),o=new Set(s||[]);for(const h of r)o.has(h.element)||h.hide()}static show(e){const{event:n,...s}=e,i=this.ensure(document.body);return i.setOptions(s),i.show(n),n instanceof Event&&n.stopPropagation(),i}static hide(e){const n=this.query(e);return n==null||n.hide(),n}}fe=new WeakMap,Bn=new WeakMap,Xs=new WeakMap,Js=new WeakMap,jr=new WeakSet,Ec=function(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]},qr=new WeakSet,Mc=function(t){const e={bottom:"Right",top:"Left",left:"Bottom",right:"Top"};return{[`border${t[0].toUpperCase()}${t.substring(1)}Style`]:"none",[`border${e[t]}Style`]:"none"}},St.MENU_CLASS="contextmenu",St.NAME="ContextMenu",St.DEFAULT={placement:"bottom-start",strategy:"fixed",flip:!0,preventOverflow:!0},_(document).on("contextmenu",t=>{const e=_(t.target);if(e.closest(`.${St.MENU_CLASS}`).length)return;const n=e.closest(Kf).not(":disabled,.disabled");n.length&&(St.ensure(n).show(t),t.preventDefault())}).on("click",St.clear.bind(St));const Zp="";var Yr=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zn=(t,e,n)=>(Yr(t,e,"read from private field"),n?n.call(t):e.get(t)),Zs=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Kr=(t,e,n,s)=>(Yr(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Xf=(t,e,n)=>(Yr(t,e,"access private method"),n),Fn,Un,Qs,Xr,Tc;const Rc='[data-toggle="dropdown"]',Ac=class extends St{constructor(){super(...arguments),Zs(this,Xr),Zs(this,Fn,!1),Zs(this,Un,0),this.hideLater=()=>{zn(this,Qs).call(this),Kr(this,Un,window.setTimeout(this.hide.bind(this),100))},Zs(this,Qs,()=>{clearTimeout(zn(this,Un)),Kr(this,Un,0)})}get isHover(){return this.options.trigger==="hover"}get elementShowClass(){return`with-${this.constructor.NAME}-show`}show(t,e){(e==null?void 0:e.clearOthers)!==!1&&Ac.clear({event:e==null?void 0:e.event,exclude:[this.element]});const n=super.show(t);return n&&(!zn(this,Fn)&&this.isHover&&Xf(this,Xr,Tc).call(this),this.$element.addClass(this.elementShowClass)),n}hide(){const t=super.hide();return t&&this.$element.removeClass(this.elementShowClass),t}toggle(t,e){return this.isShown?this.hide():this.show(t,{event:t,...e})}destroy(){zn(this,Fn)&&_(this.menu).off(this.constructor.NAMESPACE),super.destroy()}getArrowSize(){const{arrow:t}=this.options;return t?typeof t=="number"?t:8:0}getPopperOptions(){var n,s;const t=super.getPopperOptions(),e=this.getArrowSize();return e&&this.arrowEl&&((n=t.middleware)==null||n.push(uc(e)),(s=t.middleware)==null||s.push(Hf({element:this.arrowEl}))),t}ensureMenu(){const t=super.ensureMenu();if(this.options.arrow){const e=this.getArrowSize(),n=_("<div />").css({position:"absolute",width:`${e}px`,height:`${e}px`,transform:"rotate(45deg)"});this.arrowEl=n[0],_(t).append(n)}return t}getMenuOptions(){const t=super.getMenuOptions();if(t&&this.options.arrow){const{afterRender:e}=t;t.afterRender=(...n)=>{this.arrowEl&&_(this.menu).find(".menu").append(this.arrowEl),e==null||e(...n)}}return t}};let Gt=Ac;Fn=new WeakMap,Un=new WeakMap,Qs=new WeakMap,Xr=new WeakSet,Tc=function(){_(this.menu).on(`mouseenter${this.constructor.NAMESPACE}`,zn(this,Qs)).on(`mouseleave${this.constructor.NAMESPACE}`,this.hideLater),this.on("mouseleave",this.hideLater),Kr(this,Fn,!0)},Gt.MENU_CLASS="dropdown-menu",Gt.NAME="Dropdown",Gt.DEFAULT={...St.DEFAULT,strategy:"fixed",trigger:"click"},_(document).on("click",function(t){const e=_(t.target).closest(Rc).not(":disabled,.disabled");if(e.length){const n=Gt.ensure(e);n.options.trigger==="click"&&n.toggle()}else Gt.clear({event:t})}).on("mouseover",function(t){var s,i;const e=(i=(s=t.target).closest)==null?void 0:i.call(s,Rc);if(!e)return;const n=Gt.ensure(e);n.isHover&&n.show()});let ti=0;window.addEventListener("scroll",t=>{ti&&clearTimeout(ti),ti=window.setTimeout(()=>{Gt.clear({event:t}),ti=0},50)},!0);class Jf extends U{constructor(n){var s;super(n);W(this,fs,void 0);W(this,un,Lt());this.state={placement:((s=n.dropdown)==null?void 0:s.placement)||"",show:!1}}get ref(){return M(this,un)}get triggerElement(){return M(this,un).current}componentDidMount(){const{modifiers:n=[],...s}=this.props.dropdown||{};n.push({name:"dropdown-trigger",enabled:!0,phase:"beforeMain",fn:({state:i})=>{var o;const r=((o=i.placement)==null?void 0:o.split("-").shift())||"";this.setState({placement:r})}}),H(this,fs,Gt.ensure(this.triggerElement,{...s,modifiers:n,onShow:()=>{this.setState({show:!0})},onHide:()=>{this.setState({show:!0})}}))}componentWillUnmount(){var n;(n=M(this,fs))==null||n.destroy()}beforeRender(){const{className:n,children:s,dropdown:i,...r}=this.props;return{className:T("dropdown",n),children:typeof s=="function"?s(this.state):s,...r,"data-toggle":"dropdown","data-dropdown-placement":this.state.placement,ref:M(this,un)}}render(){const{children:n,...s}=this.beforeRender();return y("div",{...s,children:n})}}fs=new WeakMap,un=new WeakMap;class Zf extends Jf{get triggerElement(){return this.ref.current.base}render(){var r;const{placement:e,show:n}=this.state,s=this.beforeRender();let{caret:i=!0}=s;if(i!==!1&&(n||i===!0)){const o=n?e:(r=this.props.dropdown)==null?void 0:r.placement;i=(o==="top"?"up":o==="bottom"?"down":o)||(typeof i=="string"?i:"")||"down"}return s.caret=i,y(jt,{...s})}}function Nc({key:t,type:e,btnType:n,...s}){return y(Zf,{type:n,...s})}const Qp="";let Lc=class extends U{componentDidMount(){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:!0})}componentDidUpdate(){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:!1})}componentWillUnmount(){var e;(e=this.props.beforeDestroy)==null||e.call(this)}handleItemClick(e,n,s,i){s&&s.call(i.target,i);const{onClickItem:r}=this.props;r&&r.call(this,{item:e,index:n,event:i})}beforeRender(){var s;const e={...this.props},n=(s=e.beforeRender)==null?void 0:s.call(this,e);return n&&Object.assign(e,n),typeof e.items=="function"&&(e.items=e.items.call(this)),e}onRenderItem(e,n){const{key:s=n,...i}=e;return y(jt,{...i},s)}renderItem(e,n,s){const{itemRender:i,btnProps:r,onClickItem:o}=e,a={key:s,...n};if(r&&Object.assign(a,r),o&&(a.onClick=this.handleItemClick.bind(this,a,s,n.onClick)),i){const c=i.call(this,a,rt);if(b.isValidElement(c))return c;typeof c=="object"&&Object.assign(a,c)}return this.onRenderItem(a,s)}render(){const e=this.beforeRender(),{className:n,items:s,size:i,type:r,btnProps:o,children:a,itemRender:c,onClickItem:h,beforeRender:l,afterRender:f,beforeDestroy:d,...u}=e;return y("div",{className:T("btn-group",i?`size-${i}`:"",n),...u,children:[s&&s.map(this.renderItem.bind(this,e)),a]})}};function Qf({key:t,type:e,btnType:n,...s}){return y(Lc,{type:n,...s})}let Wt=class extends Ee{beforeRender(){const{gap:e,btnProps:n,wrap:s,...i}=super.beforeRender();return i.className=T(i.className,s?"flex-wrap":"",typeof e=="number"?`gap-${e}`:""),typeof e=="string"&&(i.style?i.style.gap=e:i.style={gap:e}),i}isBtnItem(e){return e==="item"||e==="dropdown"}renderTypedItem(e,n,s){const{type:i}=s,r=this.props.btnProps,o=this.isBtnItem(i)?{btnType:"ghost",...r}:{},a={...n,...o,...s,className:T(`${this.name}-${i}`,n.className,o.className,s.className),style:Object.assign({},n.style,o.style,s.style)};return i==="btn-group"&&(a.btnProps=r),y(e,{...a})}};Wt.ItemComponents={item:Df,dropdown:Nc,"btn-group":Qf},Wt.ROOT_TAG="nav",Wt.NAME="toolbar",Wt.defaultProps={btnProps:{btnType:"ghost"}};function td({className:t,style:e,actions:n,heading:s,content:i,contentClass:r,children:o,close:a,onClose:c,icon:h,...l}){let f;a===!0?f=y(jt,{className:"alert-close btn ghost",square:!0,onClick:c,children:y("span",{class:"close"})}):b.isValidElement(a)?f=a:typeof a=="object"&&(f=y(jt,{...a,onClick:c}));const d=b.isValidElement(n)?n:n?y(Wt,{...n}):null;return y("div",{className:T("alert",t),style:e,...l,children:[b.isValidElement(h)?h:typeof h=="string"?y("i",{className:`icon ${h}`}):null,b.isValidElement(i)?i:y("div",{className:T("alert-content",r),children:[b.isValidElement(s)?s:s&&y("div",{className:"alert-heading",children:s}),y("div",{className:"alert-text",children:i}),s?d:null]}),s?null:d,f,o]})}function ed(t){if(t==="center")return"fade-from-center";if(t){if(t.includes("top"))return"fade-from-top";if(t.includes("bottom"))return"fade-from-bottom"}return"fade"}let nd=class extends U{componentDidMount(){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:!0})}componentDidUpdate(){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:!1})}componentWillUnmount(){var e;(e=this.props.beforeDestroy)==null||e.call(this)}render(){const{afterRender:e,beforeDestroy:n,margin:s,type:i,placement:r,animation:o,show:a,className:c,time:h,...l}=this.props;return y(td,{className:T("messager",c,i,o===!0?ed(r):o,a?"in":""),...l})}};var sd=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},id=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Vn=(t,e,n)=>(sd(t,e,"access private method"),n),Re,Xe;class Jr extends ot{constructor(){super(...arguments),id(this,Re),this._show=!1,this._showTimer=0,this._afterRender=({firstRender:e})=>{e&&this.show();const{margin:n}=this.options;n&&this.$element.css("margin",`${n}px`)}}get isShown(){return this._show}afterInit(){this.on("click",e=>{_(e.target).closest('.alert-close,[data-dismiss="messager"]').length&&(e.preventDefault(),e.stopPropagation(),this.hide())})}setOptions(e){return e=super.setOptions(e),{...e,show:this._show,afterRender:this._afterRender}}show(){this.render(),this.emit("show"),Vn(this,Re,Xe).call(this,()=>{this._show=!0,this.render(),Vn(this,Re,Xe).call(this,()=>{this.emit("shown");const{time:e}=this.options;e&&Vn(this,Re,Xe).call(this,()=>this.hide(),e)})},100)}hide(){this._show&&Vn(this,Re,Xe).call(this,()=>{this.emit("hide"),this._show=!1,this.render(),Vn(this,Re,Xe).call(this,()=>{this.emit("hidden")})},50)}}Re=new WeakSet,Xe=function(t,e=200){this._showTimer&&clearTimeout(this._showTimer),this._showTimer=window.setTimeout(()=>{t(),this._showTimer=0},e)},Jr.NAME="MessagerItem",Jr.Component=nd;var Zr=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ae=(t,e,n)=>(Zr(t,e,"read from private field"),n?n.call(t):e.get(t)),ei=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ni=(t,e,n,s)=>(Zr(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Wc=(t,e,n)=>(Zr(t,e,"access private method"),n),Je,Yt,Qr,Dc,to,Pc;const Ic=class extends yt{constructor(){super(...arguments),ei(this,Qr),ei(this,to),ei(this,Je,void 0),ei(this,Yt,void 0)}get isShown(){var t;return!!((t=Ae(this,Yt))!=null&&t.isShown)}show(t){this.setOptions(t),Wc(this,Qr,Dc).call(this).show()}hide(){var t;(t=Ae(this,Yt))==null||t.hide()}static show(t){typeof t=="string"&&(t={content:t});const{container:e,...n}=t,s=Ic.ensure(e||"body");return s.setOptions(n),s.hide(),s.show(),s}};let si=Ic;Je=new WeakMap,Yt=new WeakMap,Qr=new WeakSet,Dc=function(){if(Ae(this,Yt))Ae(this,Yt).setOptions(this.options);else{const t=Wc(this,to,Pc).call(this),e=new Jr(t,this.options);e.on("hidden",()=>{e.destroy(),t==null||t.remove(),ni(this,Je,void 0),ni(this,Yt,void 0)}),ni(this,Yt,e)}return Ae(this,Yt)},to=new WeakSet,Pc=function(){if(Ae(this,Je))return Ae(this,Je);const{placement:t="top"}=this.options;let e=this.$element.find(`.messagers-${t}`);e.length||(e=_(`<div class="messagers messagers-${t}"></div>`).appendTo(this.$element));let n=e.find(`#messager-${this.gid}`);return n.length||(n=_(`<div class="messager-holder" id="messager-${this.gid}"></div>`).appendTo(e),ni(this,Je,n[0])),n[0]},si.NAME="messager",si.DEFAULT={placement:"top",animation:!0,close:!0,margin:6,time:5e3},_(document).on("zui.messager.show",(t,e)=>{e&&si.show(e)});const tm="",em="",nm="",sm="";let eo=class extends U{render(){const{percent:e,circleSize:n,circleBorderSize:s,circleBgColor:i,circleColor:r}=this.props,o=(n-s)/2,a=n/2;return y("svg",{width:n,height:n,class:"progress-circle",children:[y("circle",{cx:a,cy:a,r:o,stroke:i,"stroke-width":s}),y("circle",{cx:a,cy:a,r:o,stroke:r,"stroke-dasharray":Math.PI*o*2,"stroke-dashoffset":Math.PI*o*2*(100-e)/100,"stroke-width":s}),y("text",{x:a,y:a+s/4,"dominant-baseline":"middle",style:{fontSize:`${o}px`},children:Math.round(e)})]})}};eo.NAME="zui.progress-circle",eo.defaultProps={circleSize:24,circleBorderSize:2,circleBgColor:"var(--progress-circle-bg)",circleColor:"var(--progress-circle-bar-color)"};class no extends ot{}no.NAME="ProgressCircle",no.Component=eo;const im="",rm="";let rd=class extends U{constructor(){super(...arguments),this.state={checked:!1},this.handleOnClick=()=>{this.setState({checked:!this.state.checked})}}componentDidMount(){this.setState({checked:this.props.defaultChecked??!1})}render(){const{component:e,className:n,children:s,text:i,icon:r,surffixIcon:o,disabled:a,defaultChecked:c,onChange:h,...l}=this.props,f=this.state.checked?1:0,d=e||"div",u=typeof r=="string"?y("i",{class:`icon ${r}`}):r,p=typeof o=="string"?y("i",{class:`icon ${o}`}):o,m=[y("input",{onChange:h,type:"checkbox",value:f,checked:!!this.state.checked}),y("label",{children:[u,i,p]})];return rt(d,{className:T("switch",n,{disabled:a}),onClick:this.handleOnClick,...l},...m,s)}};class so extends ot{}so.NAME="Switch",so.Component=rd;const om="";/*! js-cookie v3.0.1 | MIT */function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)t[s]=n[s]}return t}var od={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function io(t,e){function n(i,r,o){if(!(typeof document>"u")){o=ii({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,o[c]!==!0&&(a+="="+o[c].split(";")[0]));return document.cookie=i+"="+t.write(r,i)+a}}function s(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var r=document.cookie?document.cookie.split("; "):[],o={},a=0;a<r.length;a++){var c=r[a].split("="),h=c.slice(1).join("=");try{var l=decodeURIComponent(c[0]);if(o[l]=t.read(h,l),i===l)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:s,remove:function(i,r){n(i,"",ii({},r,{expires:-1}))},withAttributes:function(i){return io(this.converter,ii({},this.attributes,i))},withConverter:function(i){return io(ii({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ad=io(od,{path:"/"});window.$&&Object.assign(window.$,{cookie:ad});class ld{constructor(e=""){W(this,ie,void 0);typeof e=="object"?H(this,ie,e):H(this,ie,document.appendChild(document.createComment(e)))}on(e,n,s){M(this,ie).addEventListener(e,n,s)}once(e,n,s){M(this,ie).addEventListener(e,n,{once:!0,...s})}off(e,n,s){M(this,ie).removeEventListener(e,n,s)}emit(e){return M(this,ie).dispatchEvent(e),e}}ie=new WeakMap;const ro=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);class oo extends ld{on(e,n,s){super.on(e,n,s)}off(e,n,s){super.off(e,n,s)}once(e,n,s){super.once(e,n,s)}emit(e,n){return typeof e=="string"&&(ro.has(e)?(e=new Event(e),Object.assign(e,{detail:n})):e=new CustomEvent(e,{detail:n})),super.emit(oo.createEvent(e,n))}static createEvent(e,n){return typeof e=="string"&&(ro.has(e)?(e=new Event(e),Object.assign(e,{detail:n})):e=new CustomEvent(e,{detail:n})),e}}let ri=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Ba=class{constructor(e,n="local"){W(this,dn);W(this,ds,void 0);W(this,_e,void 0);W(this,Ht,void 0);W(this,fn,void 0);H(this,ds,n),H(this,_e,`ZUI_STORE:${e??ri()}`),H(this,Ht,n==="local"?localStorage:sessionStorage)}get type(){return M(this,ds)}get session(){return this.type==="session"?this:(M(this,fn)||H(this,fn,new Ba(M(this,_e),"session")),M(this,fn))}get(e,n){const s=M(this,Ht).getItem(ct(this,dn,nr).call(this,e));return typeof s=="string"?JSON.parse(s):s??n}set(e,n){if(n==null)return this.remove(e);M(this,Ht).setItem(ct(this,dn,nr).call(this,e),JSON.stringify(n))}remove(e){M(this,Ht).removeItem(ct(this,dn,nr).call(this,e))}each(e){for(let n=0;n<M(this,Ht).length;n++){const s=M(this,Ht).key(n);if(s!=null&&s.startsWith(M(this,_e))){const i=M(this,Ht).getItem(s);typeof i=="string"&&e(s.substring(M(this,_e).length+1),JSON.parse(i))}}}getAll(){const e={};return this.each((n,s)=>{e[n]=s}),e}};let oi=Ba;ds=new WeakMap,_e=new WeakMap,Ht=new WeakMap,fn=new WeakMap,dn=new WeakSet,nr=function(e){return`${M(this,_e)}:${e}`};const Oc=new oi("DEFAULT");function cd(t,e="local"){return new oi(t,e)}Object.assign(Oc,{create:cd});const am="";function hd(t){if(t.indexOf("#")===0&&(t=t.slice(1)),t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t.length!==6)throw new Error(`Invalid HEX color "${t}".`);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function ud(t){const[e,n,s]=typeof t=="string"?hd(t):t;return e*.299+n*.587+s*.114>186}function Hc(t,e){return ud(t)?(e==null?void 0:e.dark)??"#333333":(e==null?void 0:e.light)??"#ffffff"}function Bc(t,e=255){return Math.min(Math.max(t,0),e)}function fd(t,e,n){t=t%360/360,e=Bc(e),n=Bc(n);const s=n<=.5?n*(e+1):n+e-n*e,i=n*2-s,r=o=>(o=o<0?o+1:o>1?o-1:o,o*6<1?i+(s-i)*o*6:o*2<1?s:o*3<2?i+(s-i)*(2/3-o)*6:i);return[r(t+1/3)*255,r(t)*255,r(t-1/3)*255]}function dd(t){let e=0;if(typeof t!="string"&&(t=String(t)),t&&t.length)for(let n=0;n<t.length;++n)e+=(n+1)*t.charCodeAt(n);return e}function pd(t,e){return/^[\u4e00-\u9fa5\s]+$/.test(t)?t.length<=e?t:t.substring(t.length-e):/^[A-Za-z\d\s]+$/.test(t)?t[0].toUpperCase():t.length<=e?t:t.substring(0,e)}let zc=class extends U{render(){const{className:e,style:n,size:s="",circle:i,rounded:r,background:o,foreColor:a,text:c,code:h,maxTextLength:l=2,src:f,hueDistance:d=43,saturation:u=.4,lightness:p=.6,children:m,...w}=this.props,g=["avatar",e],v={...n,background:o,color:a};let S=32;s&&(typeof s=="number"?(v.width=`${s}px`,v.height=`${s}px`,v.fontSize=`${Math.max(12,Math.round(s/2))}px`,S=s):(g.push(`size-${s}`),S={xs:20,sm:24,lg:48,xl:80}[s])),i?g.push("circle"):r&&(typeof r=="number"?v.borderRadius=`${r}px`:g.push(`rounded-${r}`));let x;if(f)g.push("has-img"),x=y("img",{className:"avatar-img",src:f,alt:c});else if(c!=null&&c.length){const C=pd(c,l);if(g.push("has-text",`has-text-${C.length}`),o)!a&&o&&(v.color=Hc(o));else{const A=h??c,R=(typeof A=="number"?A:dd(A))*d%360;if(v.background=`hsl(${R},${u*100}%,${p*100}%)`,!a){const I=fd(R,u,p);v.color=Hc(I)}}let L;S&&S<14*C.length&&(L={transform:`scale(${S/(14*C.length)})`,whiteSpace:"nowrap"}),x=y("div",{"data-actualSize":S,className:"avatar-text",style:L,children:C})}return y("div",{className:T(g),style:v,...w,children:[x,m]})}};class ao extends ot{}ao.NAME="Avatar",ao.Component=zc;const lm="";class lo extends ot{}lo.NAME="BtnGroup",lo.Component=Lc;const cm="";var co=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ne=(t,e,n)=>(co(t,e,"read from private field"),n?n.call(t):e.get(t)),jn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},qn=(t,e,n,s)=>(co(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ho=(t,e,n)=>(co(t,e,"access private method"),n),Ze,ai,Le,uo,Gn,li;const fo="show",Fc="in",md='[data-dismiss="modal"]',ci=class extends yt{constructor(){super(...arguments),jn(this,Gn),jn(this,Ze,0),jn(this,ai,void 0),jn(this,Le,void 0),jn(this,uo,t=>{const e=t.target;(e.closest(md)||this.options.backdrop===!0&&!e.closest(".modal-dialog")&&e.closest(".modal"))&&this.hide()})}get modalElement(){return this.element}get isShown(){return this.modalElement.classList.contains(fo)}get dialog(){return this.modalElement.querySelector(".modal-dialog")}afterInit(){if(this.on("click",Ne(this,uo)),this.options.responsive&&typeof ResizeObserver<"u"){const{dialog:t}=this;if(t){const e=new ResizeObserver(()=>{if(!this.isShown)return;const n=t.clientWidth,s=t.clientHeight;(!Ne(this,Le)||Ne(this,Le)[0]!==n||Ne(this,Le)[1]!==s)&&(qn(this,Le,[n,s]),this.layout())});e.observe(t),qn(this,ai,e)}}this.options.show&&this.show()}destroy(){var t;super.destroy(),(t=Ne(this,ai))==null||t.disconnect()}show(t){if(this.isShown)return!1;this.setOptions(t);const{modalElement:e}=this,{animation:n,backdrop:s,className:i,style:r}=this.options;return _(e).setClass({"modal-trans":n,"modal-no-backdrop":!s},fo,i).css({zIndex:`${ci.zIndex++}`,...r}),this.layout(),this.emit("show"),ho(this,Gn,li).call(this,()=>{_(e).addClass(Fc),ho(this,Gn,li).call(this,()=>{this.emit("shown")})},50),!0}hide(){return this.isShown?(_(this.modalElement).removeClass(Fc),this.emit("hide"),ho(this,Gn,li).call(this,()=>{_(this.modalElement).removeClass(fo),this.emit("hidden")}),!0):!1}layout(t,e){if(!this.isShown)return;const{dialog:n}=this;if(!n)return;e=e??this.options.size,_(n).removeAttr("data-size");const s={width:"",height:""};typeof e=="object"?(s.width=e.width,s.height=e.height):typeof e=="string"&&["md","sm","lg","full"].includes(e)?_(n).attr("data-size",e):e&&(s.width=e),_(n).css(s),t=t??this.options.position??"fit";const i=n.clientWidth,r=n.clientHeight;qn(this,Le,[i,r]),typeof t=="function"&&(t=t({width:i,height:r}));const o={top:null,left:null,bottom:null,right:null,alignSelf:"center"};typeof t=="number"?(o.alignSelf="flex-start",o.top=t):typeof t=="object"&&t?(o.alignSelf="flex-start",Object.assign(o,t)):t==="fit"?(o.alignSelf="flex-start",o.top=`${Math.max(0,Math.floor((window.innerHeight-r)/3))}px`):t==="bottom"?o.alignSelf="flex-end":t==="top"?o.alignSelf="flex-start":t!=="center"&&typeof t=="string"&&(o.alignSelf="flex-start",o.top=t),_(n).css(o),_(this.modalElement).css("justifyContent",o.left?"flex-start":"center")}static hide(t){var e;(e=ci.query(t))==null||e.hide()}static show(t){var e;(e=ci.query(t))==null||e.show()}};let Kt=ci;Ze=new WeakMap,ai=new WeakMap,Le=new WeakMap,uo=new WeakMap,Gn=new WeakSet,li=function(t,e){Ne(this,Ze)&&(clearTimeout(Ne(this,Ze)),qn(this,Ze,0)),t&&(this.options.animation?qn(this,Ze,window.setTimeout(t,e??this.options.transTime)):t())},Kt.NAME="Modal",Kt.DEFAULT={position:"fit",show:!0,keyboard:!0,animation:!0,backdrop:!0,responsive:!0,transTime:300},Kt.zIndex=2e3,_(window).on("resize",()=>{Kt.getAll().forEach(t=>{const e=t;e.isShown&&e.options.responsive&&e.layout()})}),_(document).on("zui.modal.hide",(t,e)=>{Kt.hide(e==null?void 0:e.target)});class Uc extends U{componentDidMount(){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:!0})}componentDidUpdate(){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:!1})}componentWillUnmount(){var e;(e=this.props.beforeDestroy)==null||e.call(this)}renderHeader(){const{header:e,title:n}=this.props;return b.isValidElement(e)?e:e===!1||!n?null:y("div",{className:"modal-header",children:y("div",{className:"modal-title",children:n})})}renderActions(){const{actions:e,closeBtn:n}=this.props;return!n&&!e?null:b.isValidElement(e)?e:y("div",{className:"modal-actions",children:[e?y(Wt,{...e}):null,n?y("button",{type:"button",class:"btn square ghost","data-dismiss":"modal",children:y("span",{class:"close"})}):null]})}renderBody(){const{body:e}=this.props;return e?b.isValidElement(e)?e:y("div",{className:"modal-body",children:e}):null}renderFooter(){const{footer:e,footerActions:n}=this.props;return b.isValidElement(e)?e:e===!1||!n?null:y("div",{className:"modal-footer",children:n?y(Wt,{...n}):null})}render(){const{className:e,style:n,children:s}=this.props;return y("div",{className:T("modal-dialog",e),style:n,children:y("div",{className:"modal-content",children:[this.renderHeader(),this.renderActions(),this.renderBody(),s,this.renderFooter()]})})}}Uc.defaultProps={closeBtn:!0};class gd extends U{constructor(){super(...arguments);W(this,pn,void 0);W(this,mn,void 0);W(this,gn,void 0);H(this,pn,Lt()),this.state={},H(this,gn,()=>{var i,r;const n=(r=(i=M(this,pn).current)==null?void 0:i.contentWindow)==null?void 0:r.document;if(!n)return;let s=M(this,mn);s==null||s.disconnect(),s=new ResizeObserver(()=>{const o=n.body,a=n.documentElement,c=Math.ceil(Math.max(o.scrollHeight,o.offsetHeight,a.offsetHeight));this.setState({height:c})}),s.observe(n.body),s.observe(n.documentElement),H(this,mn,s)})}componentDidMount(){M(this,gn).call(this)}componentWillUnmount(){var n;(n=M(this,mn))==null||n.disconnect()}render(){const{url:n}=this.props;return y("iframe",{className:"modal-iframe",style:this.state,src:n,ref:M(this,pn),onLoad:M(this,gn)})}}pn=new WeakMap,mn=new WeakMap,gn=new WeakMap;var po=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Qe=(t,e,n)=>(po(t,e,"read from private field"),n?n.call(t):e.get(t)),tn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Yn=(t,e,n,s)=>(po(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),en=(t,e,n)=>(po(t,e,"access private method"),n),hi,ui,Xt,Kn,fi,mo,Vc,di,go;function _d(t,e){const{custom:n,title:s,content:i}=e;return{body:i,title:s,...typeof n=="function"?n():n}}async function yd(t,e){const{dataType:n="html",url:s,request:i,custom:r,title:o,replace:a=!0,executeScript:c=!0}=e,l=await(await fetch(s,i)).text();if(n!=="html")try{const f=JSON.parse(l);return{title:o,...r,...f}}catch{}return a!==!1&&n==="html"?[l]:{title:o,...r,body:n==="html"?y(Er,{className:"modal-body",html:l,executeScript:c}):l}}async function wd(t,e){const{url:n,custom:s,title:i}=e;return{title:i,...s,body:y(gd,{url:n})}}const vd={custom:_d,ajax:yd,iframe:wd},de=class extends Kt{constructor(){super(...arguments),tn(this,Kn),tn(this,mo),tn(this,di),tn(this,hi,void 0),tn(this,ui,void 0),tn(this,Xt,void 0)}get id(){return Qe(this,ui)}get loading(){var t;return(t=this.modalElement)==null?void 0:t.classList.contains(de.LOADING_CLASS)}get modalElement(){let t=Qe(this,hi);if(!t){const{id:e}=this;t=_(this.element).find(`#${e}`)[0],t||(t=_("<div>").attr("id",e).css(this.options.style||{}).setClass("modal modal-async",this.options.className).appendTo(this.element)[0]),Yn(this,hi,t)}return t}afterInit(){super.afterInit(),Yn(this,ui,this.options.id||`modal-${ri()}`)}show(t){return super.show(t)?(this.buildDialog(),!0):!1}render(t){super.render(t),this.buildDialog()}async buildDialog(){if(this.loading)return!1;Qe(this,Xt)&&clearTimeout(Qe(this,Xt));const{modalElement:t,options:e}=this,{type:n,loadTimeout:s}=e,i=vd[n];if(!i)return console.warn(`Modal: Cannot build modal with type "${n}"`),!1;t.classList.add(de.LOADING_CLASS),await en(this,mo,Vc).call(this),s&&Yn(this,Xt,window.setTimeout(()=>{Yn(this,Xt,0),en(this,di,go).call(this,this.options.timeoutTip)},s));const r=await i.call(this,t,e);return r===!1?await en(this,di,go).call(this,this.options.failedTip):r&&typeof r=="object"&&await en(this,Kn,fi).call(this,r),Qe(this,Xt)&&(clearTimeout(Qe(this,Xt)),Yn(this,Xt,0)),t.classList.remove(de.LOADING_CLASS),!0}static open(t){return new Promise(e=>{const{container:n=document.body,...s}=t,i=new de(n,{show:!0,...s});i.one("hidden",()=>e(i)),i.show()})}static alert(t){typeof t=="string"&&(t={message:t});const{type:e,message:n,icon:s,iconClass:i="icon-lg muted",actions:r="confirm",onClickAction:o,custom:a,...c}=t;let h=y("div",{children:n});s?h=y("div",{className:"modal-body row gap-4 items-center",children:[y("div",{className:`icon ${s} ${i}`}),h]}):h=y("div",{className:"modal-body",children:h});const l=[];(Array.isArray(r)?r:[r]).forEach(u=>{u={...typeof u=="string"?{key:u}:u},typeof u.key=="string"&&(u.text||(u.text=Nt.getLang(u.key,u.key)),u.btnType||(u.btnType=`btn-wide ${u.key==="confirm"?"primary":"btn-default"}`)),u&&l.push(u)},[]);let f;const d=l.length?{gap:4,items:l,onClickItem:({item:u,event:p})=>{const m=de.query(p.target);f=u.key,(o==null?void 0:o(u,m))!==!1&&m&&m.hide()}}:void 0;return de.open({type:"custom",size:400,className:"modal-alert",content:h,backdrop:"static",custom:{footerActions:d,...typeof a=="function"?a():a},...c}).then(()=>f)}static confirm(t){typeof t=="string"&&(t={message:t});const{onClickAction:e,onResult:n,...s}=t;return de.alert({actions:["confirm","cancel"],onClickAction:(i,r)=>{n==null||n(i.key==="confirm",r),e==null||e(i,r)},...s}).then(i=>i==="confirm")}};let pi=de;hi=new WeakMap,ui=new WeakMap,Xt=new WeakMap,Kn=new WeakSet,fi=function(t){return new Promise(e=>{if(Array.isArray(t))return this.modalElement.innerHTML=t[0],_(this.modalElement).runJS(),e();const{afterRender:n,...s}=t;t={afterRender:i=>{this.layout(),n==null||n(i),e()},...s},je(y(Uc,{...t}),this.modalElement)})},mo=new WeakSet,Vc=function(){const{loadingText:t}=this.options;return en(this,Kn,fi).call(this,{body:y("div",{className:"modal-loading-indicator",children:[y("span",{className:"spinner"}),t?y("span",{className:"modal-loading-text",children:t}):null]})})},di=new WeakSet,go=function(t){if(t)return en(this,Kn,fi).call(this,{body:y("div",{className:"modal-load-failed",children:t})})},pi.LOADING_CLASS="loading",pi.DEFAULT={...Kt.DEFAULT,loadTimeout:1e4};var _o=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},yo=(t,e,n)=>(_o(t,e,"read from private field"),n?n.call(t):e.get(t)),mi=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jc=(t,e,n,s)=>(_o(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),wo=(t,e,n)=>(_o(t,e,"access private method"),n),We,vo,qc,bo,Gc,ko,Yc;const bd='[data-toggle="modal"]';class So extends yt{constructor(){super(...arguments),mi(this,vo),mi(this,bo),mi(this,ko),mi(this,We,void 0)}get modal(){return yo(this,We)}get container(){const{container:e}=this.options;return typeof e=="string"?document.querySelector(e):e instanceof HTMLElement?e:document.body}show(){const e=wo(this,bo,Gc).call(this);return e==null?void 0:e.show()}hide(){var e;(e=yo(this,We))==null||e.hide()}}We=new WeakMap,vo=new WeakSet,qc=function(){const{container:t,...e}=this.options,n=e,s=this.$element.attr("href")||"";return n.type||(n.target||s[0]==="#"?n.type="static":n.type=n.type||(n.url||s?"ajax":"custom")),!n.url&&(n.type==="iframe"||n.type==="ajax")&&s[0]!=="#"&&(n.url=s),n},bo=new WeakSet,Gc=function(){const t=wo(this,vo,qc).call(this);let e=yo(this,We);return e?e.setOptions(t):t.type==="static"?(e=Kt.ensure(wo(this,ko,Yc).call(this),t),jc(this,We,e)):(e=pi.ensure(this.container,t),jc(this,We,e)),e},ko=new WeakSet,Yc=function(){let t=this.options.target;if(!t){const{$element:e}=this;if(e.is("a")){const n=e.attr("href");n!=null&&n.startsWith("#")&&(t=n)}}return this.container.querySelector(t||".modal")},So.NAME="ModalTrigger",_(document).on("click",t=>{var s;const e=t.target,n=(s=e.closest)==null?void 0:s.call(e,bd);if(n){const i=So.ensure(n);i&&i.show()}});const hm="";let Kc=class extends Ee{beforeRender(){const e=super.beforeRender();return e.className=T(e.className,e.type?`nav-${e.type}`:"",{"nav-stacked":e.stacked}),e}};Kc.NAME="nav";class xo extends ot{}xo.NAME="Nav",xo.Component=Kc;const um="";function Xn(t,e){const n=t.pageTotal||Math.ceil(t.recTotal/t.recPerPage);return typeof e=="string"&&(e==="first"?e=1:e==="last"?e=n:e==="prev"?e=t.page-1:e==="next"?e=t.page+1:e==="current"?e=t.page:e=Number.parseInt(e,10)),e=e!==void 0?Math.max(1,Math.min(e<0?n+e:e,n)):t.page,{...t,pageTotal:n,page:e}}function kd({key:t,type:e,btnType:n,page:s,format:i,pagerInfo:r,linkCreator:o,...a}){const c=Xn(r,s);return a.text===void 0&&!a.icon&&i&&(a.text=typeof i=="function"?i(c):at(i,c)),a.url===void 0&&o&&(a.url=typeof o=="function"?o(c):at(o,c)),a.disabled===void 0&&(a.disabled=s!==void 0&&c.page===r.page),y(jt,{type:n,...a})}const Dt=24*60*60*1e3,lt=t=>t?(t instanceof Date||(typeof t=="string"&&(t=t.trim(),/^\d+$/.test(t)&&(t=Number.parseInt(t,10))),typeof t=="number"&&t<1e10&&(t*=1e3),t=new Date(t)),t):new Date,nn=(t,e=new Date)=>(t=lt(t),e=lt(e),t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()),gi=(t,e=new Date)=>lt(t).getFullYear()===lt(e).getFullYear(),Xc=(t,e=new Date)=>(t=lt(t),e=lt(e),t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()),Sd=(t,e=new Date)=>{t=lt(t),e=lt(e);const n=1e3*60*60*24,s=Math.floor(t.getTime()/n),i=Math.floor(e.getTime()/n);return Math.floor((s+4)/7)===Math.floor((i+4)/7)},xd=(t,e)=>nn(lt(e),t),$d=(t,e)=>nn(lt(e).getTime()-Dt,t),Cd=(t,e)=>nn(lt(e).getTime()+Dt,t),Ed=(t,e)=>nn(lt(e).getTime()-2*Dt,t),_i=(t,e="yyyy-MM-dd hh:mm",n="")=>{if(t=lt(t),Number.isNaN(t.getDay()))return n;const s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"H+":t.getHours()%12,"m+":t.getMinutes(),"s+":t.getSeconds(),"S+":t.getMilliseconds()};return/(y+)/i.test(e)&&(e.includes("[yyyy-]")&&(e=e.replace("[yyyy-]",gi(t)?"":"yyyy-")),e=e.replace(RegExp.$1,`${t.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(s).forEach(i=>{if(new RegExp(`(${i})`).test(e)){const r=`${s[i]}`;e=e.replace(RegExp.$1,RegExp.$1.length===1?r:`00${r}`.substring(r.length))}}),e},Md=(t,e,n)=>{const s={full:"yyyy-M-d",month:"M-d",day:"d",str:"{0} ~ {1}",...n},i=_i(t,gi(t)?s.month:s.full);if(nn(t,e))return i;const r=_i(e,gi(t,e)?Xc(t,e)?s.day:s.month:s.full);return s.str.replace("{0}",i).replace("{1}",r)},Td=t=>{const e=new Date().getTime();switch(t){case"oneWeek":return e-Dt*7;case"oneMonth":return e-Dt*31;case"threeMonth":return e-Dt*31*3;case"halfYear":return e-Dt*183;case"oneYear":return e-Dt*365;case"twoYear":return e-2*(Dt*365);default:return 0}},$o=(t,e,n=!0,s=Date.now())=>{switch(e){case"year":return t*=365,$o(t,"day",n,s);case"quarter":t*=3;break;case"month":return t*=30,$o(t,"day",n,s);case"week":t*=7;break;case"day":t*=24;break;case"hour":t*=60;break;case"minute":t*=6e4;break;default:t=0}return n?s+t:s-t};function Rd({key:t,type:e,page:n,text:s="",pagerInfo:i,children:r,...o}){const a=Xn(i,n);return s=typeof s=="function"?s(a):at(s,a),y(rc,{...o,children:[r,s]})}function Ad({key:t,type:e,btnType:n,count:s=12,pagerInfo:i,onClick:r,linkCreator:o,...a}){if(!i.pageTotal)return;const c={...a,square:!0},h=()=>(c.text="",c.icon="icon-ellipsis-h",c.disabled=!0,y(jt,{type:n,...c})),l=(d,u)=>{const p=[];for(let m=d;m<=u;m++){c.text=m,delete c.icon,c.disabled=!1;const w=Xn(i,m);o&&(c.url=typeof o=="function"?o(w):at(o,w)),p.push(y(jt,{type:n,...c,onClick:r}))}return p};let f=[];return f=[...l(1,1)],i.pageTotal<=1||(i.pageTotal<=s?f=[...f,...l(2,i.pageTotal)]:i.page<s-2?f=[...f,...l(2,s-2),h(),...l(i.pageTotal,i.pageTotal)]:i.page>i.pageTotal-s+3?f=[...f,h(),...l(i.pageTotal-s+3,i.pageTotal)]:f=[...f,h(),...l(i.page-Math.ceil((s-4)/2),i.page+Math.floor((s-4)/2)),h(),...l(i.pageTotal,i.pageTotal)]),f}function Nd({type:t,pagerInfo:e,linkCreator:n,items:s=[5,10,15,20,25,30,35,40,45,50,100,200,500,1e3,2e3],dropdown:i={},...r}){var a;i.items=i.items??s.map(c=>{const h={...e,recPerPage:c};return{text:`${c}`,active:c===e.recPerPage,url:typeof n=="function"?n(h):at(n,h)}});const{text:o=""}=r;return r.text=typeof o=="function"?o(e):at(o,e),i.menu={...i.menu,className:T((a=i.menu)==null?void 0:a.className,"pager-size-menu")},y(Nc,{type:"dropdown",dropdown:i,...r})}function Ld({key:t,page:e,type:n,btnType:s,pagerInfo:i,size:r,onClick:o,onChange:a,linkCreator:c,...h}){const l={...h};let f;const d=m=>{var w;f=Number((w=m.target)==null?void 0:w.value)||1,f=f>i.pageTotal?i.pageTotal:f},u=m=>{if(!(m!=null&&m.target))return;f=f<=i.pageTotal?f:i.pageTotal;const w=Xn(i,f);a&&!a({info:w,event:m})||(m.target.href=l.url=typeof c=="function"?c(w):at(c,w))},p=Xn(i,e||0);return l.url=typeof c=="function"?c(p):at(c,p),y("div",{className:T("input-group","pager-goto-group",r?`size-${r}`:""),children:[y("input",{type:"number",class:"form-control",max:i.pageTotal,min:"1",onInput:d}),y(jt,{type:s,...l,onClick:u})]})}let yi=class extends Wt{get pagerInfo(){const{page:e=1,recTotal:n=0,recPerPage:s=10}=this.props;return{page:e,recTotal:n,recPerPage:s,pageTotal:s?Math.ceil(n/s):0}}isBtnItem(e){return e==="link"||e==="nav"||e==="size-menu"||e==="goto"||super.isBtnItem(e)}getItemRenderProps(e,n,s){const i=super.getItemRenderProps(e,n,s),r=n.type||"item";return r==="info"?Object.assign(i,{pagerInfo:this.pagerInfo}):(r==="link"||r==="size-menu"||r==="nav"||r==="goto")&&Object.assign(i,{pagerInfo:this.pagerInfo,linkCreator:e.linkCreator}),i}};yi.NAME="pager",yi.defaultProps={gap:1,btnProps:{btnType:"ghost",size:"sm"}},yi.ItemComponents={...Wt.ItemComponents,link:kd,info:Rd,nav:Ad,"size-menu":Nd,goto:Ld};class Co extends ot{}Co.NAME="Pager",Co.Component=yi;const fm="",dm="";class Wd extends U{constructor(){super(...arguments);W(this,Yi);W(this,Gi,n=>{var o;const{onDeselect:s,selections:i}=this.props,r=(o=n.target.closest(".picker-deselect-btn"))==null?void 0:o.dataset.idx;r&&s&&(i!=null&&i.length)&&(n.stopPropagation(),s([i[+r]],n))})}render(){const{className:n,style:s,disabled:i,focused:r,onClick:o,children:a}=this.props;return y("div",{className:T("picker-select picker-select-multi form-control",n,{disabled:i,focused:r}),style:s,onClick:o,children:[ct(this,Yi,gu).call(this),a,y("span",{class:"caret"})]})}}Gi=new WeakMap,Yi=new WeakSet,gu=function(){const{selections:n=[],placeholder:s}=this.props;return n.length?y("div",{className:"picker-multi-selections",children:n.map((i,r)=>y("div",{className:"picker-multi-selection",children:[i.text??i.value,y("div",{className:"picker-deselect-btn btn size-xs ghost",onClick:M(this,Gi),"data-idx":r,children:y("span",{className:"close"})})]}))}):y("span",{className:"picker-select-placeholder",children:s})};class Dd extends U{constructor(){super(...arguments);W(this,Ki,n=>{const{onDeselect:s,selections:i}=this.props;s&&(i!=null&&i.length)&&(n.stopPropagation(),s(i,n))})}render(){const{className:n,style:s,disabled:i,placeholder:r,focused:o,selections:a=[],onDeselect:c,onClick:h,children:l}=this.props,[f]=a,d=f?y("span",{className:"picker-single-selection",children:f.text??f.value}):y("span",{className:"picker-select-placeholder",children:r}),u=f&&c?y("button",{type:"button",className:"btn picker-deselect-btn size-sm square ghost",onClick:M(this,Ki),children:y("span",{className:"close"})}):null;return y("div",{className:T("picker-select picker-select-single form-control",n,{disabled:i,focused:o}),style:s,onClick:h,children:[d,l,u,y("span",{class:"caret"})]})}}Ki=new WeakMap;var Pd=["Shift","Meta","Alt","Control"],Id=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function Eo(t,e){return typeof t.getModifierState=="function"&&t.getModifierState(e)}function Od(t){return t.trim().split(" ").map(function(e){var n=e.split(/\b\+/),s=n.pop();return[n=n.map(function(i){return i==="$mod"?Id:i}),s]})}function Hd(t,e){var n;e===void 0&&(e={});var s=(n=e.timeout)!=null?n:1e3,i=Object.keys(t).map(function(a){return[Od(a),t[a]]}),r=new Map,o=null;return function(a){a instanceof KeyboardEvent&&(i.forEach(function(c){var h=c[0],l=c[1],f=r.get(h)||h;(function(d,u){return!(u[1].toUpperCase()!==d.key.toUpperCase()&&u[1]!==d.code||u[0].find(function(p){return!Eo(d,p)})||Pd.find(function(p){return!u[0].includes(p)&&u[1]!==p&&Eo(d,p)}))})(a,f[0])?f.length>1?r.set(h,f.slice(1)):(r.delete(h),l(a)):Eo(a,a.key)||r.delete(h)}),o&&clearTimeout(o),o=setTimeout(r.clear.bind(r),s))}}function Bd(t,e,n){var s;n===void 0&&(n={});var i=(s=n.event)!=null?s:"keydown",r=Hd(e,n);return t.addEventListener(i,r),function(){t.removeEventListener(i,r)}}const pm="",zd=(t,e)=>t.reduce((n,s)=>[...n].reduce((i,r)=>{if(typeof r!="string")return i.push(r),i;const o=r.toLowerCase().split(s);if(o.length===1)return i.push(r),i;let a=0;return o.forEach((c,h)=>{h&&(i.push(y("span",{class:"picker-menu-item-match",children:r.substring(a,a+s.length)})),a+=s.length),i.push(r.substring(a,a+c.length)),a+=c.length}),i},[]),e);class Fd extends U{constructor(){super(...arguments);W(this,wn);W(this,ze);W(this,Xi);W(this,Ji);W(this,ye,void 0);W(this,_n,void 0);W(this,yn,void 0);W(this,ps,void 0);W(this,vn,void 0);W(this,ms,void 0);W(this,bn,void 0);W(this,gs,void 0);this.state={keys:"",show:!1},H(this,ye,0),H(this,_n,Lt()),H(this,yn,Lt()),H(this,vn,n=>{_(n.target).closest(`#picker-menu-${this.props.id}`).length||this.hide()}),H(this,ms,({item:n})=>{this.select(n.key)}),H(this,bn,n=>{this.setState({keys:n.target.value})}),H(this,gs,n=>{n.stopPropagation(),this.setState({keys:""},this.focus.bind(this))})}componentDidMount(){_(document).on("click",M(this,vn)),this.show(this.focus.bind(this)),H(this,ps,Bd(window,{Escape:()=>{this.state.show&&(this.state.keys?this.setState({keys:""}):this.hide())},Enter:()=>{if(!this.state.show)return;const s=ct(this,ze,ws).call(this);s!=null&&s.length&&this.select(s.dataset("value"))},ArrowUp:()=>{var r;if(!this.state.show)return;const s=(r=ct(this,ze,ws).call(this))==null?void 0:r.parent();if(!(s!=null&&s.length))return;let i=s.prev();i.length||(i=s.parent().children().last()),this.setHoverItem(i.children("a").dataset("value"))},ArrowDown:()=>{var r;if(!this.state.show)return;const s=(r=ct(this,ze,ws).call(this))==null?void 0:r.parent();if(!(s!=null&&s.length))return;let i=s.next();i.length||(i=s.parent().children().first()),this.setHoverItem(i.children("a").dataset("value"))}}));const n=ct(this,wn,sr).call(this);n&&_(n).on("mouseenter.pickerMenu.zui",".menu-item",s=>{const i=_(s.currentTarget);this.setHoverItem(i.children("a").dataset("value"))})}componentWillUnmount(){var s;_(document).off("click",M(this,vn)),(s=M(this,ps))==null||s.call(this);const n=ct(this,wn,sr).call(this);n&&_(n).off(".pickerMenu.zui")}show(n){if(this.state.show){n==null||n();return}this.setState({show:!0},n)}focus(){var n;(n=M(this,_n).current)==null||n.focus()}hide(){this.state.show&&(M(this,ye)&&window.clearTimeout(M(this,ye)),this.setState({show:!1},()=>{H(this,ye,window.setTimeout(()=>{var n,s;H(this,ye,0),(s=(n=this.props).onRequestHide)==null||s.call(n)},200))}))}select(n){const s=this.props.items.find(i=>i.value===n);s&&this.props.onSelectItem(s)}setHoverItem(n){this.setState({hover:n},()=>{const s=ct(this,ze,ws).call(this);s!=null&&s.length&&s[0].scrollIntoView({block:"nearest",behavior:"smooth"})})}render(){const{id:n,className:s,style:i={},maxHeight:r,maxWidth:o,width:a,menu:c,checkbox:h}=this.props,{show:l,keys:f}=this.state,d=f.trim().length;return y("div",{className:T("picker-menu menu-popup",s,{shown:l,"has-search":d}),id:`picker-menu-${n}`,style:{maxHeight:r,maxWidth:o,width:a,...i},children:[ct(this,Ji,yu).call(this),y(Fs,{ref:M(this,yn),className:"picker-menu-list",items:ct(this,Xi,_u).call(this),onClickItem:M(this,ms),checkbox:h,...c})]})}}ye=new WeakMap,_n=new WeakMap,yn=new WeakMap,ps=new WeakMap,wn=new WeakSet,sr=function(){var n;return(n=M(this,yn).current)==null?void 0:n.ref.current},ze=new WeakSet,ws=function(){const n=ct(this,wn,sr).call(this);if(n)return _(n).find(".menu-item>a.hover")},Xi=new WeakSet,_u=function(){const{selections:n,items:s}=this.props,i=new Set(n),{keys:r,hover:o}=this.state,a=r.toLowerCase().split(" ").filter(l=>l.length);let c=!1;const h=s.reduce((l,f)=>{const{value:d,keys:u,text:p,className:m,...w}=f;if(!a.length||a.every(g=>d.toLowerCase().includes(g)||(u==null?void 0:u.toLowerCase().includes(g))||typeof p=="string"&&p.toLowerCase().includes(g))){let g=p??d;typeof g=="string"&&a.length&&(g=zd(a,[g])),d===o&&(c=!0),l.push({key:d,active:i.has(d),text:g,className:T(m,{hover:d===o}),"data-value":d,...w})}return l},[]);return!c&&h.length&&(h[0].className=T(h[0].className,"hover")),h},vn=new WeakMap,ms=new WeakMap,bn=new WeakMap,gs=new WeakMap,Ji=new WeakSet,yu=function(){const{search:n,searchHint:s}=this.props,{keys:i}=this.state,r=i.trim().length;return n?y("div",{className:"picker-menu-search",children:[y("input",{className:"form-control picker-menu-search-input",type:"text",placeholder:s,value:i,onChange:M(this,bn),onInput:M(this,bn),ref:M(this,_n)}),r?y("button",{type:"button",className:"btn picker-menu-search-clear square size-sm ghost",onClick:M(this,gs),children:y("span",{className:"close"})}):y("span",{className:"magnifier"})]}):null};var Mo=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},et=(t,e,n)=>(Mo(t,e,"read from private field"),n?n.call(t):e.get(t)),nt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},wi=(t,e,n,s)=>(Mo(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Ud=(t,e,n,s)=>({set _(i){wi(t,e,i,n)},get _(){return et(t,e,s)}}),gt=(t,e,n)=>(Mo(t,e,"access private method"),n),vi,sn,bi,Jt,Jn,ki,Si,To,Ro,Jc,Ao,Zc,No,Lo,Wo,Do,Po,Qc,Io,th,Oo,eh,xi,Ho;let nh=class extends U{constructor(e){super(e),nt(this,Jn),nt(this,Si),nt(this,Ro),nt(this,Ao),nt(this,Po),nt(this,Io),nt(this,Oo),nt(this,xi),nt(this,vi,0),nt(this,sn,ri()),nt(this,bi,Lt()),nt(this,Jt,void 0),nt(this,No,n=>{const{valueList:s}=this,i=new Set(n.map(o=>o.value)),r=s.filter(o=>!i.has(o));this.setState({value:r.length?r.join(this.props.valueSplitter??","):void 0})}),nt(this,Lo,()=>{requestAnimationFrame(()=>this.toggle())}),nt(this,Wo,()=>{this.close()}),nt(this,Do,n=>{this.props.multiple?this.toggleValue(n.value):this.setState({value:n.value},()=>{var s;(s=et(this,bi).current)==null||s.hide()})}),this.state={value:gt(this,Ro,Jc).call(this,e.defaultValue)??"",open:!1,loading:!1,search:"",items:Array.isArray(e.items)?e.items:[]}}get value(){return this.state.value}get valueList(){return gt(this,Si,To).call(this,this.state.value)}componentDidMount(){gt(this,xi,Ho).call(this,!0)}componentDidUpdate(){gt(this,xi,Ho).call(this)}componentWillUnmount(){var n;var e;(n=this.props.beforeDestroy)==null||n.call(this),(e=et(this,Jt))==null||e.call(this),wi(this,Jt,void 0)}async loadItemList(){let{items:e}=this.props;if(typeof e=="function"){const s=++Ud(this,vi)._;if(await gt(this,Jn,ki).call(this,{loading:!0,items:[]}),e=await e(),et(this,vi)!==s)return[]}const n={};return Array.isArray(e)&&this.state.items!==e&&(n.items=e),this.state.loading&&(n.loading=!1),Object.keys(n).length&&await gt(this,Jn,ki).call(this,n),e}getItemList(){return this.state.items}getItemMap(){return this.getItemList().reduce((e,n)=>(e[n.value]=n,e),{})}getItemByValue(e){return this.getItemList().find(n=>n.value===e)}getSelections(){const e=this.getItemMap();return this.valueList.map(n=>e[n]||{value:n})}async toggle(e){if(e===void 0)e=!this.state.open;else if(e===this.state.open)return;await gt(this,Jn,ki).call(this,{open:e}),e&&this.loadItemList()}open(){return this.toggle(!0)}close(){return this.toggle(!1)}toggleValue(e,n){const{valueList:s}=this,i=s.indexOf(e);n!==!!i&&(i>-1?s.splice(i,1):s.push(e),this.setState({value:s.join(this.props.valueSplitter??",")}))}render(){const{className:e,style:n,children:s,multiple:i,Select:r,name:o}=this.props,a=r||(i?Wd:Dd),c=gt(this,Ao,Zc).call(this);return y("div",{id:`picker-${et(this,sn)}`,className:T("picker",e),style:n,children:[y(a,{...c}),s,gt(this,Io,th).call(this),o?y("input",{type:"hidden",className:"picker-value",name:o,value:this.state.value}):null]})}};vi=new WeakMap,sn=new WeakMap,bi=new WeakMap,Jt=new WeakMap,Jn=new WeakSet,ki=function(t){return new Promise(e=>{this.setState(t,e)})},Si=new WeakSet,To=function(t){return typeof t=="string"?t.length?_.unique(t.split(this.props.valueSplitter??",")):[]:Array.isArray(t)?_.unique(t):[]},Ro=new WeakSet,Jc=function(t){const e=gt(this,Si,To).call(this,t);return e.length?e.join(this.props.valueSplitter??","):void 0},Ao=new WeakSet,Zc=function(){const{placeholder:t,disabled:e,multiple:n}=this.props,{open:s}=this.state;return{focused:s,placeholder:t,disabled:e,multiple:n,selections:this.getSelections(),onClick:et(this,Lo),onDeselect:et(this,No)}},No=new WeakMap,Lo=new WeakMap,Wo=new WeakMap,Do=new WeakMap,Po=new WeakSet,Qc=function(){const{search:t,menuClass:e,menuWidth:n,menuStyle:s,menuMaxHeight:i,menuMaxWidth:r,menuMinWidth:o,multiple:a,searchHint:c,menuCheckbox:h}=this.props,{items:l}=this.state;return{id:et(this,sn),items:l,selections:this.valueList,search:t===!0||typeof t=="number"&&t<=l.length,searchHint:c,style:s,multiple:a,className:e,width:n==="100%"?"auto":n,maxHeight:i,maxWidth:r,minWidth:o,checkbox:h,onRequestHide:et(this,Wo),onSelectItem:et(this,Do)}},Io=new WeakSet,th=function(){const{open:t}=this.state;if(!t)return null;const e=_(this.props.container||"body");let n=e.find(".pickers-container");n.length||(n=_("<div>").addClass("pickers-container").appendTo(e));const{Menu:s=Fd}=this.props;return Ol(y(s,{...gt(this,Po,Qc).call(this),ref:et(this,bi)}),n[0])},Oo=new WeakSet,eh=function(){const t=_(`#picker-${et(this,sn)}`)[0],e=_(`#picker-menu-${et(this,sn)}`)[0];if(!e||!t||!this.state.open){et(this,Jt)&&(et(this,Jt).call(this),wi(this,Jt,void 0));return}et(this,Jt)||wi(this,Jt,$c(t,e,()=>{const{menuDirection:n,menuWidth:s}=this.props;Ur(t,e,{placement:`${n==="top"?"top":"bottom"}-start`,middleware:[n==="auto"?Br():null,Vf(),uc(1)].filter(Boolean)}).then(({x:i,y:r})=>{_(e).css({left:i,top:r,width:s==="100%"?_(t).width():void 0})}),s==="100%"&&_(e).css({width:_(t).width()})}))},xi=new WeakSet,Ho=function(t=!1){var e;(e=this.props.afterRender)==null||e.call(this,{firstRender:t}),gt(this,Oo,eh).call(this)},nh.defaultProps={container:"body",valueSplitter:",",search:!0,menuWidth:"100%",menuDirection:"auto",menuMaxHeight:300};class Bo extends ot{}Bo.NAME="Picker",Bo.Component=nh;const mm="",gm="";class zo extends ot{}zo.NAME="Toolbar",zo.Component=Wt;const _m="";function Zn(t){return t.split("-")[1]}function Fo(t){return t==="y"?"height":"width"}function rn(t){return t.split("-")[0]}function $i(t){return["top","bottom"].includes(rn(t))?"x":"y"}function sh(t,e,n){let{reference:s,floating:i}=t;const r=s.x+s.width/2-i.width/2,o=s.y+s.height/2-i.height/2,a=$i(e),c=Fo(a),h=s[c]/2-i[c]/2,l=a==="x";let f;switch(rn(e)){case"top":f={x:r,y:s.y-i.height};break;case"bottom":f={x:r,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:o};break;case"left":f={x:s.x-i.width,y:o};break;default:f={x:s.x,y:s.y}}switch(Zn(e)){case"start":f[a]-=h*(n&&l?-1:1);break;case"end":f[a]+=h*(n&&l?-1:1)}return f}const Vd=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:l,y:f}=sh(h,s,c),d=s,u={},p=0;for(let m=0;m<a.length;m++){const{name:w,fn:g}=a[m],{x:v,y:S,data:x,reset:C}=await g({x:l,y:f,initialPlacement:s,placement:d,strategy:i,middlewareData:u,rects:h,platform:o,elements:{reference:t,floating:e}});l=v??l,f=S??f,u={...u,[w]:{...u[w],...x}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:l,y:f}=sh(h,d,c)),m=-1)}return{x:l,y:f,placement:d,strategy:i,middlewareData:u}};function ih(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function Ci(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function jd(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:o,elements:a,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:d=!1,padding:u=0}=e,p=ih(u),m=a[d?f==="floating"?"reference":"floating":f],w=Ci(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(m)))==null||n?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:h,rootBoundary:l,strategy:c})),g=f==="floating"?{...o.floating,x:s,y:i}:o.reference,v=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),S=await(r.isElement==null?void 0:r.isElement(v))&&await(r.getScale==null?void 0:r.getScale(v))||{x:1,y:1},x=Ci(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:v,strategy:c}):g);return{top:(w.top-x.top+p.top)/S.y,bottom:(x.bottom-w.bottom+p.bottom)/S.y,left:(w.left-x.left+p.left)/S.x,right:(x.right-w.right+p.right)/S.x}}const qd=Math.min,Gd=Math.max;function Yd(t,e,n){return Gd(t,qd(e,n))}const Kd=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:s=0}=t||{},{x:i,y:r,placement:o,rects:a,platform:c}=e;if(n==null)return{};const h=ih(s),l={x:i,y:r},f=$i(o),d=Fo(f),u=await c.getDimensions(n),p=f==="y"?"top":"left",m=f==="y"?"bottom":"right",w=a.reference[d]+a.reference[f]-l[f]-a.floating[d],g=l[f]-a.reference[f],v=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let S=v?f==="y"?v.clientHeight||0:v.clientWidth||0:0;S===0&&(S=a.floating[d]);const x=w/2-g/2,C=h[p],L=S-u[d]-h[m],A=S/2-u[d]/2+x,R=Yd(C,A,L),I=Zn(o)!=null&&A!=R&&a.reference[d]/2-(A<C?h[p]:h[m])-u[d]/2<0;return{[f]:l[f]-(I?A<C?C-A:L-A:0),data:{[f]:R,centerOffset:A-R}}}});["top","right","bottom","left"].reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Xd={left:"right",right:"left",bottom:"top",top:"bottom"};function Ei(t){return t.replace(/left|right|bottom|top/g,e=>Xd[e])}function Jd(t,e,n){n===void 0&&(n=!1);const s=Zn(t),i=$i(t),r=Fo(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=Ei(o)),{main:o,cross:Ei(o)}}const Zd={start:"end",end:"start"};function Uo(t){return t.replace(/start|end/g,e=>Zd[e])}const Qd=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:s,middlewareData:i,rects:r,initialPlacement:o,platform:a,elements:c}=e,{mainAxis:h=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:p=!0,...m}=t,w=rn(s),g=rn(o)===o,v=await(a.isRTL==null?void 0:a.isRTL(c.floating)),S=f||(g||!p?[Ei(o)]:function(E){const D=Ei(E);return[Uo(E),D,Uo(D)]}(o));f||u==="none"||S.push(...function(E,D,q,G){const F=Zn(E);let B=function(Y,Tt,Fe){const Bt=["left","right"],be=["right","left"],Ue=["top","bottom"],kn=["bottom","top"];switch(Y){case"top":case"bottom":return Fe?Tt?be:Bt:Tt?Bt:be;case"left":case"right":return Tt?Ue:kn;default:return[]}}(rn(E),q==="start",G);return F&&(B=B.map(Y=>Y+"-"+F),D&&(B=B.concat(B.map(Uo)))),B}(o,p,u,v));const x=[o,...S],C=await jd(e,m),L=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&L.push(C[w]),l){const{main:E,cross:D}=Jd(s,r,v);L.push(C[E],C[D])}if(A=[...A,{placement:s,overflows:L}],!L.every(E=>E<=0)){var R;const E=(((R=i.flip)==null?void 0:R.index)||0)+1,D=x[E];if(D)return{data:{index:E,overflows:A},reset:{placement:D}};let q="bottom";switch(d){case"bestFit":{var I;const G=(I=A.map(F=>[F,F.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:I[0].placement;G&&(q=G);break}case"initialPlacement":q=o}if(s!==q)return{reset:{placement:q}}}return{}}}},tp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s}=e,i=await async function(r,o){const{placement:a,platform:c,elements:h}=r,l=await(c.isRTL==null?void 0:c.isRTL(h.floating)),f=rn(a),d=Zn(a),u=$i(a)==="x",p=["left","top"].includes(f)?-1:1,m=l&&u?-1:1,w=typeof o=="function"?o(r):o;let{mainAxis:g,crossAxis:v,alignmentAxis:S}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return d&&typeof S=="number"&&(v=d==="end"?-1*S:S),u?{x:v*m,y:g*p}:{x:g*p,y:v*m}}(e,t);return{x:n+i.x,y:s+i.y,data:i}}}};function _t(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pt(t){return _t(t).getComputedStyle(t)}function pe(t){return oh(t)?(t.nodeName||"").toLowerCase():""}let Mi;function rh(){if(Mi)return Mi;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Mi=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Mi):navigator.userAgent}function Zt(t){return t instanceof _t(t).HTMLElement}function xt(t){return t instanceof _t(t).Element}function oh(t){return t instanceof _t(t).Node}function ah(t){return typeof ShadowRoot>"u"?!1:t instanceof _t(t).ShadowRoot||t instanceof ShadowRoot}function Ti(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=Pt(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(i)}function ep(t){return["table","td","th"].includes(pe(t))}function Vo(t){const e=/firefox/i.test(rh()),n=Pt(t),s=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!s&&s!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const r=n.contain;return r!=null&&r.includes(i)})}function lh(){return!/^((?!chrome|android).)*safari/i.test(rh())}function jo(t){return["html","body","#document"].includes(pe(t))}const ch=Math.min,Qn=Math.max,Ri=Math.round;function hh(t){const e=Pt(t);let n=parseFloat(e.width),s=parseFloat(e.height);const i=t.offsetWidth,r=t.offsetHeight,o=Ri(n)!==i||Ri(s)!==r;return o&&(n=i,s=r),{width:n,height:s,fallback:o}}function uh(t){return xt(t)?t:t.contextElement}const fh={x:1,y:1};function on(t){const e=uh(t);if(!Zt(e))return fh;const n=e.getBoundingClientRect(),{width:s,height:i,fallback:r}=hh(e);let o=(r?Ri(n.width):n.width)/s,a=(r?Ri(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function De(t,e,n,s){var i,r;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=uh(t);let c=fh;e&&(s?xt(s)&&(c=on(s)):c=on(t));const h=a?_t(a):window,l=!lh()&&n;let f=(o.left+(l&&((i=h.visualViewport)==null?void 0:i.offsetLeft)||0))/c.x,d=(o.top+(l&&((r=h.visualViewport)==null?void 0:r.offsetTop)||0))/c.y,u=o.width/c.x,p=o.height/c.y;if(a){const m=_t(a),w=s&&xt(s)?_t(s):s;let g=m.frameElement;for(;g&&s&&w!==m;){const v=on(g),S=g.getBoundingClientRect(),x=getComputedStyle(g);S.x+=(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S.y+=(g.clientTop+parseFloat(x.paddingTop))*v.y,f*=v.x,d*=v.y,u*=v.x,p*=v.y,f+=S.x,d+=S.y,g=_t(g).frameElement}}return{width:u,height:p,top:d,right:f+u,bottom:d+p,left:f,x:f,y:d}}function me(t){return((oh(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ai(t){return xt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function dh(t){return De(me(t)).left+Ai(t).scrollLeft}function np(t,e,n){const s=Zt(e),i=me(e),r=De(t,!0,n==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(s||!s&&n!=="fixed")if((pe(e)!=="body"||Ti(i))&&(o=Ai(e)),Zt(e)){const c=De(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=dh(i));return{x:r.left+o.scrollLeft-a.x,y:r.top+o.scrollTop-a.y,width:r.width,height:r.height}}function ts(t){if(pe(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(ah(t)?t.host:null)||me(t);return ah(e)?e.host:e}function ph(t){return Zt(t)&&Pt(t).position!=="fixed"?t.offsetParent:null}function mh(t){const e=_t(t);let n=ph(t);for(;n&&ep(n)&&Pt(n).position==="static";)n=ph(n);return n&&(pe(n)==="html"||pe(n)==="body"&&Pt(n).position==="static"&&!Vo(n))?e:n||function(s){let i=ts(s);for(;Zt(i)&&!jo(i);){if(Vo(i))return i;i=ts(i)}return null}(t)||e}function gh(t){const e=ts(t);return jo(e)?t.ownerDocument.body:Zt(e)&&Ti(e)?e:gh(e)}function es(t,e){var n;e===void 0&&(e=[]);const s=gh(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=_t(s);return i?e.concat(r,r.visualViewport||[],Ti(s)?s:[]):e.concat(s,es(s))}function _h(t,e,n){return e==="viewport"?Ci(function(s,i){const r=_t(s),o=me(s),a=r.visualViewport;let c=o.clientWidth,h=o.clientHeight,l=0,f=0;if(a){c=a.width,h=a.height;const d=lh();(d||!d&&i==="fixed")&&(l=a.offsetLeft,f=a.offsetTop)}return{width:c,height:h,x:l,y:f}}(t,n)):xt(e)?function(s,i){const r=De(s,!0,i==="fixed"),o=r.top+s.clientTop,a=r.left+s.clientLeft,c=Zt(s)?on(s):{x:1,y:1},h=s.clientWidth*c.x,l=s.clientHeight*c.y,f=a*c.x,d=o*c.y;return{top:d,left:f,right:f+h,bottom:d+l,x:f,y:d,width:h,height:l}}(e,n):Ci(function(s){var i;const r=me(s),o=Ai(s),a=(i=s.ownerDocument)==null?void 0:i.body,c=Qn(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=Qn(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let l=-o.scrollLeft+dh(s);const f=-o.scrollTop;return Pt(a||r).direction==="rtl"&&(l+=Qn(r.clientWidth,a?a.clientWidth:0)-c),{width:c,height:h,x:l,y:f}}(me(t)))}const sp={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const r=n==="clippingAncestors"?function(h,l){const f=l.get(h);if(f)return f;let d=es(h).filter(w=>xt(w)&&pe(w)!=="body"),u=null;const p=Pt(h).position==="fixed";let m=p?ts(h):h;for(;xt(m)&&!jo(m);){const w=Pt(m),g=Vo(m);(p?g||u:g||w.position!=="static"||!u||!["absolute","fixed"].includes(u.position))?u=w:d=d.filter(v=>v!==m),m=ts(m)}return l.set(h,d),d}(e,this._c):[].concat(n),o=[...r,s],a=o[0],c=o.reduce((h,l)=>{const f=_h(e,l,i);return h.top=Qn(f.top,h.top),h.right=ch(f.right,h.right),h.bottom=ch(f.bottom,h.bottom),h.left=Qn(f.left,h.left),h},_h(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:s}=t;const i=Zt(n),r=me(n);if(n===r)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((i||!i&&s!=="fixed")&&((pe(n)!=="body"||Ti(r))&&(o=Ai(n)),Zt(n))){const h=De(n);a=on(n),c.x=h.x+n.clientLeft,c.y=h.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}},isElement:xt,getDimensions:function(t){return hh(t)},getOffsetParent:mh,getDocumentElement:me,getScale:on,async getElementRects(t){let{reference:e,floating:n,strategy:s}=t;const i=this.getOffsetParent||mh,r=this.getDimensions;return{reference:np(e,await i(n),s),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Pt(t).direction==="rtl"};function ip(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=!0,animationFrame:a=!1}=s,c=i&&!a,h=c||r?[...xt(t)?es(t):t.contextElement?es(t.contextElement):[],...es(e)]:[];h.forEach(u=>{c&&u.addEventListener("scroll",n,{passive:!0}),r&&u.addEventListener("resize",n)});let l,f=null;if(o){let u=!0;f=new ResizeObserver(()=>{u||n(),u=!1}),xt(t)&&!a&&f.observe(t),xt(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(e)}let d=a?De(t):null;return a&&function u(){const p=De(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,l=requestAnimationFrame(u)}(),n(),()=>{var u;h.forEach(p=>{c&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),(u=f)==null||u.disconnect(),f=null,a&&cancelAnimationFrame(l)}}const rp=(t,e,n)=>{const s=new Map,i={platform:sp,...n},r={...i.platform,_c:s};return Vd(t,e,{...i,platform:r})};var qo=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},V=(t,e,n)=>(qo(t,e,"read from private field"),n?n.call(t):e.get(t)),tt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Pe=(t,e,n,s)=>(qo(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),It=(t,e,n)=>(qo(t,e,"access private method"),n),ns,ss,is,an,pt,Go,Ni,Li,Yo,Ko,yh,Xo,wh,Jo,vh,Zo,bh,Qo,kh,ta,Sh,ea,xh,rs,na,$h;const ln=class extends yt{constructor(){super(...arguments),tt(this,Li),tt(this,Ko),tt(this,Xo),tt(this,Jo),tt(this,Zo),tt(this,Qo),tt(this,ta),tt(this,ea),tt(this,na),tt(this,ns,!1),tt(this,ss,void 0),tt(this,is,0),tt(this,an,void 0),tt(this,pt,void 0),tt(this,Go,void 0),tt(this,Ni,void 0),this.hideLater=()=>{V(this,rs).call(this),Pe(this,is,window.setTimeout(this.hide.bind(this),100))},tt(this,rs,()=>{clearTimeout(V(this,is)),Pe(this,is,0)})}get isShown(){var t;return(t=V(this,an))==null?void 0:t.classList.contains(ln.CLASS_SHOW)}get tooltip(){return V(this,an)||It(this,Xo,wh).call(this)}get trigger(){return V(this,Go)||this.element}get isHover(){return this.options.trigger==="hover"}get elementShowClass(){return`with-${ln.NAME}-show`}get isDynamic(){return this.options.title}init(){const{element:t}=this;t!==document.body&&!t.hasAttribute("data-toggle")&&t.setAttribute("data-toggle","tooltip")}show(t){return this.setOptions(t),!V(this,ns)&&this.isHover&&It(this,na,$h).call(this),this.options.animation&&this.tooltip.classList.add("fade"),this.element.classList.add(this.elementShowClass),this.tooltip.classList.add(ln.CLASS_SHOW),It(this,ta,Sh).call(this),!0}hide(){var e;var t;return(t=V(this,Ni))==null||t.call(this),this.element.classList.remove(this.elementShowClass),(e=V(this,an))==null||e.classList.remove(ln.CLASS_SHOW),!0}toggle(t){return this.isShown?this.hide():this.show(t)}destroy(){V(this,ns)&&(this.element.removeEventListener("mouseleave",this.hideLater),this.tooltip.removeEventListener("mouseenter",V(this,rs)),this.tooltip.removeEventListener("mouseleave",this.hideLater)),super.destroy()}static clear(t){t instanceof Event&&(t={event:t});const{exclude:e}=t||{},n=this.getAll().entries(),s=new Set(e||[]);for(const[i,r]of n)s.has(i)||r.hide()}};let $t=ln;ns=new WeakMap,ss=new WeakMap,is=new WeakMap,an=new WeakMap,pt=new WeakMap,Go=new WeakMap,Ni=new WeakMap,Li=new WeakSet,Yo=function(){const{arrow:t}=this.options;return typeof t=="number"?t:8},Ko=new WeakSet,yh=function(){const t=It(this,Li,Yo).call(this);return Pe(this,pt,document.createElement("div")),V(this,pt).style.position=this.options.strategy,V(this,pt).style.width=`${t}px`,V(this,pt).style.height=`${t}px`,V(this,pt).style.transform="rotate(45deg)",V(this,pt)},Xo=new WeakSet,wh=function(){var n;const t=ln.TOOLTIP_CLASS;let e;if(this.isDynamic){e=document.createElement("div");const s=this.options.className?this.options.className.split(" "):[];let i=[t,this.options.type||""];i=i.concat(s),e.classList.add(...i),e[this.options.html?"innerHTML":"innerText"]=this.options.title||""}else if(this.element){const s=this.element.getAttribute("href")??this.element.dataset.target;if(s!=null&&s.startsWith("#")&&(e=document.querySelector(s)),!e){const i=this.element.nextElementSibling;i!=null&&i.classList.contains(t)?e=i:e=(n=this.element.parentNode)==null?void 0:n.querySelector(`.${t}`)}}if(this.options.arrow&&(e==null||e.append(It(this,Ko,yh).call(this))),!e)throw new Error("Tooltip: Cannot find tooltip element");return e.style.width="max-content",e.style.position="absolute",e.style.top="0",e.style.left="0",document.body.appendChild(e),Pe(this,an,e),e},Jo=new WeakSet,vh=function(){var i;const t=It(this,Li,Yo).call(this),{strategy:e,placement:n}=this.options,s={middleware:[tp(t),Qd()],strategy:e,placement:n};return this.options.arrow&&V(this,pt)&&((i=s.middleware)==null||i.push(Kd({element:V(this,pt)}))),s},Zo=new WeakSet,bh=function(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]},Qo=new WeakSet,kh=function(t){return t==="bottom"?{borderBottomStyle:"none",borderRightStyle:"none"}:t==="top"?{borderTopStyle:"none",borderLeftStyle:"none"}:t==="left"?{borderBottomStyle:"none",borderLeftStyle:"none"}:{borderTopStyle:"none",borderRightStyle:"none"}},ta=new WeakSet,Sh=function(){const t=It(this,Jo,vh).call(this),e=It(this,ea,xh).call(this);Pe(this,Ni,ip(e,this.tooltip,()=>{rp(e,this.tooltip,t).then(({x:n,y:s,middlewareData:i,placement:r})=>{Object.assign(this.tooltip.style,{left:`${n}px`,top:`${s}px`});const o=r.split("-")[0],a=It(this,Zo,bh).call(this,o);if(i.arrow&&V(this,pt)){const{x:c,y:h}=i.arrow;Object.assign(V(this,pt).style,{left:c!=null?`${c}px`:"",top:h!=null?`${h}px`:"",[a]:`${-V(this,pt).offsetWidth/2}px`,background:"inherit",border:"inherit",...It(this,Qo,kh).call(this,o)})}})}))},ea=new WeakSet,xh=function(){return V(this,ss)||Pe(this,ss,{getBoundingClientRect:()=>{const{element:t}=this;if(t instanceof MouseEvent){const{clientX:e,clientY:n}=t;return{width:0,height:0,top:n,right:e,bottom:n,left:e}}return t instanceof HTMLElement?t.getBoundingClientRect():t},contextElement:this.element}),V(this,ss)},rs=new WeakMap,na=new WeakSet,$h=function(){const{tooltip:t}=this;t.addEventListener("mouseenter",V(this,rs)),t.addEventListener("mouseleave",this.hideLater),this.element.addEventListener("mouseleave",this.hideLater),Pe(this,ns,!0)},$t.NAME="tooltip",$t.TOOLTIP_CLASS="tooltip",$t.CLASS_SHOW="show",$t.MENU_SELECTOR='[data-toggle="tooltip"]:not(.disabled):not(:disabled)',$t.DEFAULT={animation:!0,placement:"top",strategy:"absolute",trigger:"hover",type:"darker",arrow:!0},document.addEventListener("click",function(t){var s;const e=t.target,n=(s=e.closest)==null?void 0:s.call(e,$t.MENU_SELECTOR);if(n){const i=$t.ensure(n);i.options.trigger==="click"&&i.toggle()}else $t.clear({event:t})}),document.addEventListener("mouseover",function(t){var i;const e=t.target,n=(i=e.closest)==null?void 0:i.call(e,$t.MENU_SELECTOR);if(!n)return;const s=$t.ensure(n);s.isHover&&s.show()});var op=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Wi=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Di=(t,e,n)=>(op(t,e,"access private method"),n),sa,Ch,ia,Eh,ra,Mh,oa,Th;class Rh extends yt{constructor(){super(...arguments),Wi(this,sa),Wi(this,ia),Wi(this,ra),Wi(this,oa)}init(){_(this.element).on("submit",this.onSubmit.bind(this)).on("input mousedown change",this.onInput.bind(this))}enable(e=!0){_(this.element).toggleClass("loading",!e)}disable(){this.enable(!1)}onInput(e){const n=_(e.target).closest(".has-error");n.length&&(n.removeClass("has-error"),n.closest(".form-group").find(`#${n.attr("id")}Tip`).remove())}onSubmit(e){var i;e.preventDefault();const{element:n}=this,s=_.extend({},this.options);this.emit("before",e,n,s),((i=s.beforeSubmit)==null?void 0:i.call(s,e,n,s))!==!1&&(this.disable(),Di(this,ia,Eh).call(this,Di(this,sa,Ch).call(this)).finally(()=>{this.enable()}))}submit(){this.element.submit()}reset(){this.element.reset()}}sa=new WeakSet,Ch=function(){const{element:t,options:e}=this;let n=new FormData(t),{submitEmptySelectValue:s=""}=e;s!==!1&&(typeof s!="boolean"&&(s=""),_(t).find("select").each((r,o)=>{const c=_(o).attr("name");n.has(c)||n.append(c,typeof s=="object"?s[c]:s)}));const{beforeSend:i}=e;if(i){const r=i(n);r instanceof FormData&&(n=r)}return this.emit("send",n),n},ia=new WeakSet,Eh=async function(t){var o,a;const{element:e,options:n}=this;let s,i,r;try{const c=await fetch(n.url||e.action,{method:e.method||"POST",body:t,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}});i=await c.text(),c.ok?(r=JSON.parse(i),(!r||typeof r!="object")&&(s=new Error("Invalid json format"))):s=new Error(c.statusText)}catch(c){s=c}s?(this.emit("error",s,i),(o=n.onError)==null||o.call(n,s,i)):Di(this,oa,Th).call(this,r),this.emit("complete",r,s),(a=n.onComplete)==null||a.call(n,r,s)},ra=new WeakSet,Mh=function(t){var n;let e;Object.entries(t).forEach(([s,i])=>{Array.isArray(i)&&(i=i.join(""));const r=document.getElementById(s),o=r?_(r):_(this.element).find(`[name="${s}"]`);if(!o.length)return;o.addClass("has-error");const a=o.closest(".form-group,.form-batch-control");if(a.length){const c=document.getElementById(`${s}Tip`);let h=c?_(c):null;h||(h=_(`<div class="form-tip ajax-form-tip text-danger" id="${s}Tip"></div>`).appendTo(a)),h.empty().text(i)}e||(e=o)}),e&&((n=e[0])==null||n.focus())},oa=new WeakSet,Th=function(t){var o,a;const{options:e}=this,{message:n}=t;if(t.result==="success"){if(this.emit("success",t),((o=e.onSuccess)==null?void 0:o.call(e,t))===!1)return;typeof n=="string"&&n.length&&_(document).trigger("zui.messager.show",{content:n,type:"success"})}else{if(this.emit("fail",t),((a=e.onFail)==null?void 0:a.call(e,t))===!1)return;n&&(typeof n=="string"&&n.length?_(document).trigger("zui.messager.show",{content:n,type:"danger"}):typeof n=="object"&&Di(this,ra,Mh).call(this,n))}const s=t.closeModal||e.closeModal;s&&_(this.element).trigger("zui.modal.hide",{target:typeof s=="string"?s:void 0});const i=t.callback||e.callback;if(typeof i=="string"){const c=i.indexOf("("),h=(c>0?i.substring(0,c):i).split(".");let l=window,f=h[0];h.length>1&&(f=h[1],h[0]==="top"?l=window.top:h[0]==="parent"?l=window.parent:l=window[h[0]]);const d=l==null?void 0:l[f];if(typeof d=="function"){let u=[];return c>0&&i[i.length-1]==")"?u=JSON.parse("["+i.substring(c+1,i.length-1)+"]"):u.push(t),d.apply(this,u)}}else i&&typeof i=="object"&&(i.target?window[i.target]:window)[i.name].apply(this,Array.isArray(i.params)?i.params:[i.params]);const r=t.load||e.load||t.locate;r&&_(this.element).trigger("zui.locate",r)},Rh.NAME="ajaxform";function ap(t,e){var o,a,c,h;const{message:n}=t;if(t.result==="success"){if(((o=e.onSuccess)==null?void 0:o.call(e,t))===!1)return;typeof n=="string"&&n.length&&((a=e.onMessage)==null||a.call(e,n,t))}else{if(((c=e.onFail)==null?void 0:c.call(e,t))===!1)return;n&&((h=e.onMessage)==null||h.call(e,n,t))}const s=t.closeModal||e.closeModal;s&&_(e.element||document).trigger("zui.modal.hide",{target:typeof s=="string"?s:void 0});const i=t.callback||e.callback;if(typeof i=="string"){const l=i.indexOf("("),f=(l>0?i.substring(0,l):i).split(".");let d=window,u=f[0];f.length>1&&(u=f[1],f[0]==="top"?d=window.top:f[0]==="parent"?d=window.parent:d=window[f[0]]);const p=d==null?void 0:d[u];if(typeof p=="function"){let m=[];return l>0&&i[i.length-1]==")"?m=JSON.parse("["+i.substring(l+1,i.length-1)+"]"):m.push(t),p.apply(this,m)}}else i&&typeof i=="object"&&(i.target?window[i.target]:window)[i.name].apply(this,Array.isArray(i.params)?i.params:[i.params]);const r=t.load||e.load||t.locate;r&&_(e.element||document).trigger("zui.locate",r)}async function aa(t){var h,l,f;if(((h=t.beforeSubmit)==null?void 0:h.call(t,t))===!1)return[void 0,new Error("canceled")];const{loadingClass:e,element:n}=t;n&&e&&_(n).addClass(e);const{data:s}=t;let i;if(s instanceof FormData)i=s;else if(s){i=new FormData;for(const[d,u]of Object.entries(s))if(Array.isArray(u)){for(const p of u)i.append(d,p);continue}else i.append(d,u)}const{beforeSend:r}=t;if(r){const d=r(i);d instanceof FormData&&(i=d)}let o,a,c;try{const d=await fetch(t.url,{method:t.method||"POST",body:i,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers}});a=await d.text(),d.ok?(c=JSON.parse(a),(!c||typeof c!="object")&&(o=new Error("Invalid json format"))):o=new Error(d.statusText)}catch(d){o=d}return o?(l=t.onError)==null||l.call(t,o,a):ap(c,t),(f=t.onComplete)==null||f.call(t,c,o),n&&e&&_(n).removeClass(e),[c,o]}_.extend(_,{ajaxSubmit:aa}),_(document).on("click.ajaxSubmit.zui",".ajax-submit",function(t){t.preventDefault();const e=_(this),n=e.data();!n.url&&e.is("a")&&(n.url=e.attr("href")||""),n.url&&(n.element=this,aa(n))});const wm="";class lp extends U{constructor(n){super(n);W(this,_s,Lt());W(this,Zi,n=>{n.stopPropagation(),St.show({event:n.target,placement:"bottom-end",menu:{onClickItem:({item:s})=>{var i;((i=s.attrs)==null?void 0:i["data-type"])==="refresh"&&this.load()}},...this.props.block.menu})});W(this,Qi,n=>{var r,o,a;const{element:s}=this,i=s.getBoundingClientRect();if(n.clientY-i.top>48){n.preventDefault();return}this.setState({dragging:!0}),(r=n.dataTransfer)==null||r.setData("application/id",this.props.block.id),(a=(o=this.props).onDragStart)==null||a.call(o,n)});W(this,tr,n=>{var s,i;this.setState({dragging:!1}),(i=(s=this.props).onDragEnd)==null||i.call(s,n)});this.state={content:y("div",{class:"dashboard-block-body",children:n.block.content})}}get element(){return M(this,_s).current}componentDidMount(){this.load(),_(this.element).on("load.zui.dashboard",this.load.bind(this))}componentWillUnmount(){_(this.element).off("load.zui.dashboard")}load(){const{block:n}=this.props;let s=n.fetch;if(!s||this.state.loading)return;typeof s=="string"?s={url:s}:typeof s=="function"&&(s=s(n.id,n));const{url:i,...r}=s;this.setState({loading:!0},()=>{fetch(at(i,n),{headers:{"X-Requested-With":"XMLHttpRequest"},...r}).then(o=>{o.ok?o.text().then(a=>{this.setState({loading:!1,content:y(Er,{class:"dashboard-block-body",html:a,executeScript:!0})})}):this.setState({loading:!1,content:y("div",{class:"text-danger p-5 text-center",children:["Error: ",o.statusText]})})})})}render(){const{left:n,top:s,width:i,height:r,style:o,block:a}=this.props,{title:c,menu:h,id:l}=a,{loading:f,content:d,dragging:u}=this.state;return y("div",{class:"dashboard-block-cell",style:{left:n,top:s,width:i,height:r,...o},children:y("div",{class:`dashboard-block load-indicator${f?" loading":""}${h?" has-more-menu":""}${u?" is-dragging":""}`,draggable:!0,onDragStart:M(this,Qi),onDragEnd:M(this,tr),"data-id":l,ref:M(this,_s),children:[y("div",{class:"dashboard-block-header",children:[y("div",{class:"dashboard-block-title",children:c}),h?y("div",{class:"dashboard-block-actions toolbar",children:y("button",{class:"toolbar-item dashboard-block-action btn square ghost rounded size-sm","data-type":"more",onClick:M(this,Zi),children:y("div",{class:"more-vert"})})}):null]}),d]})})}}_s=new WeakMap,Zi=new WeakMap,Qi=new WeakMap,tr=new WeakMap;const vm="",bm="";var Ah=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Qt=(t,e,n)=>(Ah(t,e,"read from private field"),n?n.call(t):e.get(t)),Ct=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Et=(t,e,n)=>(Ah(t,e,"access private method"),n),te,la,Nh,ca,Lh,ha,Wh,ua,Dh,Pi,fa,Ii,da,pa,Ph,ma,ga,Oi,_a;const ya=class extends U{constructor(){super(...arguments),Ct(this,la),Ct(this,ca),Ct(this,ha),Ct(this,ua),Ct(this,Pi),Ct(this,Ii),Ct(this,pa),Ct(this,te,new Map),this.state={},Ct(this,ma,t=>{var n;const e=(n=t.dataTransfer)==null?void 0:n.getData("application/id");e!==void 0&&(this.setState({dragging:e}),console.log("handleBlockDragStart",t))}),Ct(this,ga,t=>{this.setState({dragging:void 0}),console.log("handleBlockDragEnd",t)})}render(){const{blocks:t,height:e}=Et(this,ha,Wh).call(this),{cellHeight:n,grid:s}=this.props,i=Qt(this,te);return console.log("Dashboard.render",{blocks:t,map:i},this),y("div",{class:"dashboard",children:y("div",{class:"dashboard-blocks",style:{height:e*n},children:t.map((r,o)=>{const{id:a}=r,[c,h,l,f]=i.get(a)||[0,0,r.width,r.height];return y(lp,{id:a,index:o,left:`${100*c/s}%`,top:n*h,height:n*f,width:`${100*l/s}%`,block:r,moreMenu:!0,onDragStart:Qt(this,ma),onDragEnd:Qt(this,ga)},r.id)})})})}};let wa=ya;te=new WeakMap,la=new WeakSet,Nh=function(t){const{blockDefaultSize:e,blockSizeMap:n}=this.props;return t=t??e,typeof t=="string"&&(t=n[t]),t=t||e,Array.isArray(t)||(t=[t.width,t.height]),t},ca=new WeakSet,Lh=function(){const{blocks:t,blockFetch:e,blockMenu:n}=this.props;return t.map(i=>{const{id:r,size:o,left:a=-1,top:c=-1,fetch:h=e,menu:l=n,...f}=i,[d,u]=Et(this,la,Nh).call(this,o);return{id:`${r}`,width:d,height:u,left:a,top:c,fetch:h,menu:l,...f}})},ha=new WeakSet,Wh=function(){Qt(this,te).clear();let t=0;const e=Et(this,ca,Lh).call(this);return e.forEach(n=>{Et(this,ua,Dh).call(this,n);const[,s,,i]=Qt(this,te).get(n.id);t=Math.max(t,s+i)}),{blocks:e,height:t}},ua=new WeakSet,Dh=function(t){const e=Qt(this,te),{id:n,left:s,top:i,width:r,height:o}=t;if(s<0||i<0){const[a,c]=Et(this,pa,Ph).call(this,r,o,s,i);e.set(n,[a,c,r,o])}else Et(this,Ii,da).call(this,n,[s,i,r,o])},Pi=new WeakSet,fa=function(t){var e;const{dragging:n}=this.state;for(const[s,i]of Qt(this,te).entries())if(s!==n&&Et(e=ya,Oi,_a).call(e,i,t))return!1;return!0},Ii=new WeakSet,da=function(t,e){var n;Qt(this,te).set(t,e);for(const[s,i]of Qt(this,te).entries())s!==t&&Et(n=ya,Oi,_a).call(n,i,e)&&(i[1]=e[1]+e[3],Et(this,Ii,da).call(this,s,i))},pa=new WeakSet,Ph=function(t,e,n,s){if(n>=0&&s>=0){if(Et(this,Pi,fa).call(this,[n,s,t,e]))return[n,s];s=-1}let i=n<0?0:n,r=s<0?0:s,o=!1;const a=this.props.grid;for(;!o;){if(Et(this,Pi,fa).call(this,[i,r,t,e])){o=!0;break}n<0?(i+=1,i+t>a&&(i=0,r+=1)):r+=1}return[i,r]},ma=new WeakMap,ga=new WeakMap,Oi=new WeakSet,_a=function([t,e,n,s],[i,r,o,a]){return!(t+n<=i||i+o<=t||e+s<=r||r+a<=e)},Ct(wa,Oi),wa.defaultProps={responsive:!1,blocks:[],grid:3,gap:16,cellHeight:64,blockDefaultSize:[1,3],blockMenu:{items:[{text:"Refresh",attrs:{"data-type":"refresh"}}]},blockSizeMap:{xs:[1,3],sm:[1,4],md:[1,5],lg:[1,6],xl:[1,8],xsWide:[2,3],smWide:[2,4],mdWide:[2,5],lgWide:[2,6],xlWide:[2,8],xsLong:[3,3],smLong:[3,4],mdLong:[3,5],lgLong:[3,6],xlLong:[3,8]}};class va extends ot{}va.NAME="Dashboard",va.Component=wa;const km="";class Ih extends U{constructor(n){super(n);W(this,we,void 0);W(this,ve,void 0);H(this,we,0),H(this,ve,null),this._handleWheel=s=>{const{wheelContainer:i}=this.props,r=s.target;if(!(!r||!i)&&(typeof i=="string"&&r.closest(i)||typeof i=="object")){const o=(this.props.type==="horz"?s.deltaX:s.deltaY)*(this.props.wheelSpeed??1);this.scrollOffset(o)&&s.preventDefault()}},this._handleMouseMove=s=>{const{dragStart:i}=this.state;i&&(M(this,we)&&cancelAnimationFrame(M(this,we)),H(this,we,requestAnimationFrame(()=>{const r=this.props.type==="horz"?s.clientX-i.x:s.clientY-i.y;this.scroll(i.offset+r*this.props.scrollSize/this.props.clientSize),H(this,we,0)})),s.preventDefault())},this._handleMouseUp=()=>{this.state.dragStart&&this.setState({dragStart:!1})},this._handleMouseDown=s=>{this.state.dragStart||this.setState({dragStart:{x:s.clientX,y:s.clientY,offset:this.scrollPos}}),s.stopPropagation()},this._handleClick=s=>{const i=s.currentTarget;if(!i)return;const r=i.getBoundingClientRect(),{type:o,clientSize:a,scrollSize:c}=this.props,h=(o==="horz"?s.clientX-r.left:s.clientY-r.top)-this.barSize/2;this.scroll(h*c/a),s.preventDefault()},this.state={scrollPos:this.props.defaultScrollPos??0,dragStart:!1}}get scrollPos(){return this.props.scrollPos??this.state.scrollPos}get controlled(){return this.props.scrollPos!==void 0}get maxScrollPos(){const{scrollSize:n,clientSize:s}=this.props;return Math.max(0,n-s)}get barSize(){const{clientSize:n,scrollSize:s,size:i=12,minBarSize:r=3*i}=this.props;return Math.max(Math.round(n*n/s),r)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:n}=this.props;n&&(H(this,ve,typeof n=="string"?document:n.current),M(this,ve).addEventListener("wheel",this._handleWheel,{passive:!1}))}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),M(this,ve)&&M(this,ve).removeEventListener("wheel",this._handleWheel)}scroll(n){return n=Math.max(0,Math.min(Math.round(n),this.maxScrollPos)),n===this.scrollPos?!1:(this.controlled?this._afterScroll(n):this.setState({scrollPos:n},this._afterScroll.bind(this,n)),!0)}scrollOffset(n){return this.scroll(this.scrollPos+n)}_afterScroll(n){const{onScroll:s}=this.props;s&&s(n,this.props.type??"vert")}render(){const{clientSize:n,type:s,size:i=12,className:r,style:o,left:a,top:c,bottom:h,right:l}=this.props,{maxScrollPos:f,scrollPos:d}=this,{dragStart:u}=this.state,p={left:a,top:c,bottom:h,right:l,...o},m={};return s==="horz"?(p.height=i,p.width=n,m.width=this.barSize,m.left=Math.round(Math.min(f,d)*(n-m.width)/f)):(p.width=i,p.height=n,m.height=this.barSize,m.top=Math.round(Math.min(f,d)*(n-m.height)/f)),y("div",{className:T("scrollbar",r,{"is-vert":s==="vert","is-horz":s==="horz","is-dragging":u}),style:p,onMouseDown:this._handleClick,children:y("div",{className:"scrollbar-bar",style:m,onMouseDown:this._handleMouseDown})})}}we=new WeakMap,ve=new WeakMap;function cp(t,e,n){return t&&(e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t))),t}function Oh({col:t,className:e,height:n,row:s,onRenderCell:i,style:r,outerStyle:o,children:a,outerClass:c,...h}){var I;const l={left:t.left,width:t.realWidth,height:n,...o},{align:f,border:d}=t.setting,u={justifyContent:f?f==="left"?"start":f==="right"?"end":f:void 0,...t.setting.cellStyle,...r},p=["dtable-cell",c,e,t.setting.className,{"has-border-left":d===!0||d==="left","has-border-right":d===!0||d==="right"}],m=["dtable-cell-content",t.setting.cellClass],w=(I=s.data)==null?void 0:I[t.name],g=[a??w??""],v=i?i(g,{row:s,col:t,value:w},rt):g,S=[],x=[],C={},L={};let A="div";v==null||v.forEach(E=>{if(typeof E=="object"&&E&&!b.isValidElement(E)&&("html"in E||"className"in E||"style"in E||"attrs"in E||"children"in E||"tagName"in E)){const D=E.outer?S:x;E.html?D.push(y("div",{className:T("dtable-cell-html",E.className),style:E.style,dangerouslySetInnerHTML:{__html:E.html},...E.attrs??{}})):(E.style&&Object.assign(E.outer?l:u,E.style),E.className&&(E.outer?p:m).push(E.className),E.children&&D.push(E.children),E.attrs&&Object.assign(E.outer?C:L,E.attrs)),E.tagName&&!E.outer&&(A=E.tagName)}else x.push(E)});const R=A;return y("div",{className:T(p),style:l,"data-col":t.name,"data-type":t.type,...h,...C,children:[x.length>0&&y(R,{className:T(m),style:u,...L,children:x}),S]})}function ba({row:t,className:e,top:n=0,left:s=0,width:i,height:r,cols:o,CellComponent:a=Oh,onRenderCell:c}){return y("div",{className:T("dtable-cells",e),style:{top:n,left:s,width:i,height:r},children:o.map(h=>h.visible?y(a,{col:h,row:t,onRenderCell:c},h.name):null)})}function Hh({row:t,className:e,top:n,height:s,fixedLeftCols:i,fixedRightCols:r,scrollCols:o,fixedLeftWidth:a,scrollWidth:c,scrollColsWidth:h,fixedRightWidth:l,scrollLeft:f,CellComponent:d=Oh,onRenderCell:u,style:p,...m}){let w=null;i!=null&&i.length&&(w=y(ba,{className:"dtable-fixed-left",cols:i,width:a,row:t,CellComponent:d,onRenderCell:u}));let g=null;o!=null&&o.length&&(g=y(ba,{className:"dtable-flexable",cols:o,left:a-f,width:Math.max(c,h),row:t,CellComponent:d,onRenderCell:u}));let v=null;r!=null&&r.length&&(v=y(ba,{className:"dtable-fixed-right",cols:r,left:a+c,width:l,row:t,CellComponent:d,onRenderCell:u}));const S={top:n,height:s,lineHeight:`${s-2}px`,...p};return y("div",{className:T("dtable-row",e),style:S,"data-id":t.id,...m,children:[w,g,v]})}function hp({height:t,onRenderRow:e,...n}){const s={height:t,...n,row:{id:"HEADER",index:-1,top:0},className:"dtable-in-header",top:0};if(e){const i=e({props:s},rt);i&&Object.assign(s,i)}return y("div",{className:"dtable-header",style:{height:t},children:y(Hh,{...s})})}function up({className:t,style:e,top:n,rows:s,height:i,rowHeight:r,scrollTop:o,onRenderRow:a,...c}){return e={...e,top:n,height:i},y("div",{className:T("dtable-rows",t),style:e,children:s.map(h=>{const l={className:`dtable-row-${h.index%2?"odd":"even"}`,row:h,top:h.top-o,height:r,...c},f=a==null?void 0:a({props:l,row:h},rt);return f&&Object.assign(l,f),y(Hh,{...l})})})}const Hi=new Map,Bi=[];function Bh(t,e){const{name:n}=t;if(!(e!=null&&e.override)&&Hi.has(n))throw new Error(`DTable: Plugin with name ${n} already exists`);Hi.set(n,t),e!=null&&e.buildIn&&!Bi.includes(n)&&Bi.push(n)}function Ie(t,e){Bh(t,e);const n=s=>{if(!s)return t;const{defaultOptions:i,...r}=t;return{...r,defaultOptions:{...i,...s}}};return n.plugin=t,n}function zh(t){return Hi.delete(t)}function fp(t){if(typeof t=="string"){const e=Hi.get(t);return e||console.warn(`DTable: Cannot found plugin "${t}"`),e}if(typeof t=="function"&&"plugin"in t)return t.plugin;if(typeof t=="object")return t;console.warn("DTable: Invalid plugin",t)}function Fh(t,e,n){return e.forEach(s=>{var r;if(!s)return;const i=fp(s);i&&(n.has(i.name)||((r=i.plugins)!=null&&r.length&&Fh(t,i.plugins,n),t.push(i),n.add(i.name)))}),t}function dp(t=[],e=!0){return e&&Bi.length&&t.unshift(...Bi),t!=null&&t.length?Fh([],t,new Set):[]}function Uh(){return{cols:[],data:[],rowKey:"id",width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:9999,header:!0,footer:void 0,headerHeight:0,footerHeight:0,rowHover:!0,colHover:!1,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,horzScrollbarPos:"outside"}}const Sm="";var ka=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},$=(t,e,n)=>(ka(t,e,"read from private field"),n?n.call(t):e.get(t)),P=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Z=(t,e,n,s)=>(ka(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ee=(t,e,n)=>(ka(t,e,"access private method"),n),cn,os,Oe,ne,He,st,Ot,se,as,zi,Fi,ge,ls,cs,Sa,Vh,xa,jh,$a,qh,Ca,Gh,Ui,Ea,Ma,Ta,Vi,ji,Ra,Aa,Na,Yh,La,Kh,Wa,Xh;let Da=class extends U{constructor(e){super(e),P(this,Sa),P(this,xa),P(this,$a),P(this,Ca),P(this,Ui),P(this,Na),P(this,La),P(this,Wa),this.ref=Lt(),P(this,cn,0),P(this,os,void 0),P(this,Oe,!1),P(this,ne,void 0),P(this,He,void 0),P(this,st,[]),P(this,Ot,void 0),P(this,se,new Map),P(this,as,{}),P(this,zi,void 0),P(this,Fi,[]),this.updateLayout=()=>{$(this,cn)&&cancelAnimationFrame($(this,cn)),Z(this,cn,requestAnimationFrame(()=>{Z(this,Ot,void 0),this.forceUpdate(),Z(this,cn,0)}))},P(this,ge,(n,s)=>{s=s||n.type;const i=$(this,se).get(s);if(i!=null&&i.length){for(const r of i)if(r.call(this,n)===!1){n.stopPropagation(),n.preventDefault();break}}}),P(this,ls,n=>{$(this,ge).call(this,n,`window_${n.type}`)}),P(this,cs,n=>{$(this,ge).call(this,n,`document_${n.type}`)}),P(this,Ma,(n,s)=>{if(this.options.onRenderRow){const i=this.options.onRenderRow.call(this,n,s);i&&Object.assign(n.props,i)}return $(this,st).forEach(i=>{if(i.onRenderRow){const r=i.onRenderRow.call(this,n,s);r&&Object.assign(n.props,r)}}),n.props}),P(this,Ta,(n,s)=>(this.options.onRenderHeaderRow&&(n.props=this.options.onRenderHeaderRow.call(this,n,s)),$(this,st).forEach(i=>{i.onRenderHeaderRow&&(n.props=i.onRenderHeaderRow.call(this,n,s))}),n.props)),P(this,Vi,(n,s,i)=>{const{row:r,col:o}=s;s.value=this.getCellValue(r,o),n[0]=s.value;const a=r.id==="HEADER"?"onRenderHeaderCell":"onRenderCell";return o.setting[a]&&(n=o.setting[a].call(this,n,s,i)),this.options[a]&&(n=this.options[a].call(this,n,s,i)),$(this,st).forEach(c=>{c[a]&&(n=c[a].call(this,n,s,i))}),n}),P(this,ji,(n,s)=>{s==="horz"?this.scroll({scrollLeft:n}):this.scroll({scrollTop:n})}),P(this,Ra,n=>{var a,c,h,l,f;const s=this.getPointerInfo(n);if(!s)return;const{rowID:i,colName:r,cellElement:o}=s;if(i==="HEADER")o&&((a=this.options.onHeaderCellClick)==null||a.call(this,n,{colName:r,element:o}),$(this,st).forEach(d=>{var u;(u=d.onHeaderCellClick)==null||u.call(this,n,{colName:r,element:o})}));else{const{rowElement:d}=s,u=this.layout.visibleRows.find(p=>p.id===i);if(o){if(((c=this.options.onCellClick)==null?void 0:c.call(this,n,{colName:r,rowID:i,rowInfo:u,element:o,rowElement:d}))===!0)return;for(const p of $(this,st))if(((h=p.onCellClick)==null?void 0:h.call(this,n,{colName:r,rowID:i,rowInfo:u,element:o,rowElement:d}))===!0)return}if(((l=this.options.onRowClick)==null?void 0:l.call(this,n,{rowID:i,rowInfo:u,element:d}))===!0)return;for(const p of $(this,st))if(((f=p.onRowClick)==null?void 0:f.call(this,n,{rowID:i,rowInfo:u,element:d}))===!0)return}}),P(this,Aa,n=>{const s=n.key.toLowerCase();if(["pageup","pagedown","home","end"].includes(s))return!this.scroll({to:s.replace("page","")})}),Z(this,os,e.id??`dtable-${ri(10)}`),this.state={scrollTop:0,scrollLeft:0,renderCount:0},Z(this,He,Object.freeze(dp(e.plugins))),$(this,He).forEach(n=>{var o;const{methods:s,data:i,state:r}=n;s&&Object.entries(s).forEach(([a,c])=>{typeof c=="function"&&Object.assign(this,{[a]:c.bind(this)})}),i&&Object.assign($(this,as),i.call(this)),r&&Object.assign(this.state,r.call(this)),(o=n.onCreate)==null||o.call(this,n)})}get options(){var e;return((e=$(this,Ot))==null?void 0:e.options)||$(this,ne)||Uh()}get plugins(){return $(this,st)}get layout(){return $(this,Ot)}get id(){return $(this,os)}get data(){return $(this,as)}get parent(){var e;return this.props.parent??((e=this.ref.current)==null?void 0:e.parentElement)}componentWillReceiveProps(){Z(this,ne,void 0)}componentDidMount(){if($(this,Oe)?this.forceUpdate():ee(this,Ui,Ea).call(this),$(this,st).forEach(e=>{let{events:n}=e;n&&(typeof n=="function"&&(n=n.call(this)),Object.entries(n).forEach(([s,i])=>{i&&this.on(s,i)}))}),this.on("click",$(this,Ra)),this.on("keydown",$(this,Aa)),this.options.responsive){if(typeof ResizeObserver<"u"){const{parent:e}=this;if(e){const n=new ResizeObserver(this.updateLayout);n.observe(e),Z(this,zi,n)}}this.on("window_resize",this.updateLayout)}$(this,st).forEach(e=>{var n;(n=e.onMounted)==null||n.call(this)})}componentDidUpdate(){$(this,Oe)?ee(this,Ui,Ea).call(this):$(this,st).forEach(e=>{var n;(n=e.onUpdated)==null||n.call(this)})}componentWillUnmount(){var n;(n=$(this,zi))==null||n.disconnect();const{current:e}=this.ref;if(e)for(const s of $(this,se).keys())s.startsWith("window_")?window.removeEventListener(s.replace("window_",""),$(this,ls)):s.startsWith("document_")?document.removeEventListener(s.replace("document_",""),$(this,cs)):e.removeEventListener(s,$(this,ge));$(this,st).forEach(s=>{var i;(i=s.onUnmounted)==null||i.call(this)}),$(this,He).forEach(s=>{var i;(i=s.onDestory)==null||i.call(this)}),Z(this,as,{}),$(this,se).clear()}on(e,n,s){var r;s&&(e=`${s}_${e}`);const i=$(this,se).get(e);i?i.push(n):($(this,se).set(e,[n]),e.startsWith("window_")?window.addEventListener(e.replace("window_",""),$(this,ls)):e.startsWith("document_")?document.addEventListener(e.replace("document_",""),$(this,cs)):(r=this.ref.current)==null||r.addEventListener(e,$(this,ge)))}off(e,n,s){var o;s&&(e=`${s}_${e}`);const i=$(this,se).get(e);if(!i)return;const r=i.indexOf(n);r>=0&&i.splice(r,1),i.length||($(this,se).delete(e),e.startsWith("window_")?window.removeEventListener(e.replace("window_",""),$(this,ls)):e.startsWith("document_")?document.removeEventListener(e.replace("document_",""),$(this,cs)):(o=this.ref.current)==null||o.removeEventListener(e,$(this,ge)))}emitCustomEvent(e,n){$(this,ge).call(this,n instanceof Event?n:new CustomEvent(e,{detail:n}),e)}scroll(e,n){const{scrollLeft:s,scrollTop:i,rowsHeightTotal:r,rowsHeight:o,rowHeight:a,colsInfo:{scrollWidth:c,scrollColsWidth:h}}=this.layout,{to:l}=e;let{scrollLeft:f,scrollTop:d}=e;if(l==="up"||l==="down")d=i+(l==="down"?1:-1)*Math.floor(o/a)*a;else if(l==="left"||l==="right")f=s+(l==="right"?1:-1)*c;else if(l==="home")d=0;else if(l==="end")d=r-o;else if(l==="left-begin")f=0;else if(l==="right-end")f=h-c;else{const{offsetLeft:p,offsetTop:m}=e;typeof p=="number"&&(f=s+p),typeof m=="number"&&(f=i+m)}const u={};return typeof f=="number"&&(f=Math.max(0,Math.min(f,h-c)),f!==s&&(u.scrollLeft=f)),typeof d=="number"&&(d=Math.max(0,Math.min(d,r-o)),d!==i&&(u.scrollTop=d)),Object.keys(u).length?(this.setState(u,()=>{var p;(p=this.options.onScroll)==null||p.call(this,u),n==null||n.call(this,!0)}),!0):(n==null||n.call(this,!1),!1)}getColInfo(e){if(e===void 0)return;if(typeof e=="object")return e;const{colsMap:n,colsList:s}=this.layout;return typeof e=="number"?s[e]:n[e]}getRowInfo(e){if(e===void 0)return;if(typeof e=="object")return e;if(e===-1||e==="HEADER")return{id:"HEADER",index:-1,top:0};const{rows:n,rowsMap:s}=this.layout;return typeof e=="number"?n[e]:s[e]}getCellValue(e,n){var a;const s=typeof e=="object"?e:this.getRowInfo(e);if(!s)return;const i=typeof n=="object"?n:this.getColInfo(n);if(!i)return;let r=s.id==="HEADER"?i.setting.title:(a=s.data)==null?void 0:a[i.name];const{cellValueGetter:o}=this.options;return o&&(r=o.call(this,s,i,r)),r}getRowInfoByIndex(e){return this.layout.rows[e]}update(e={},n){if(!$(this,ne))return;typeof e=="function"&&(n=e,e={});const{dirtyType:s,state:i}=e;if(s==="layout")Z(this,Ot,void 0);else if(s==="options"){if(Z(this,ne,void 0),!$(this,Ot))return;Z(this,Ot,void 0)}this.setState(i??(r=>({renderCount:r.renderCount+1})),n)}getPointerInfo(e){const n=e.target;if(!n||n.closest(".no-cell-event"))return;const s=n.closest(".dtable-cell");if(!s)return;const i=s.closest(".dtable-row");if(!i)return;const r=s==null?void 0:s.getAttribute("data-col"),o=i==null?void 0:i.getAttribute("data-id");if(!(typeof r!="string"||typeof o!="string"))return{cellElement:s,rowElement:i,colName:r,rowID:o,target:n}}i18n(e,n,s){return Nt($(this,Fi),e,n,s,this.options.lang)??`{i18n:${e}}`}getPlugin(e){return this.plugins.find(n=>n.name===e)}render(){const e=ee(this,Wa,Xh).call(this),{className:n,rowHover:s,colHover:i,cellHover:r,bordered:o,striped:a,scrollbarHover:c}=this.options,h={width:e==null?void 0:e.width,height:e==null?void 0:e.height},l=["dtable",n,{"dtable-hover-row":s,"dtable-hover-col":i,"dtable-hover-cell":r,"dtable-bordered":o,"dtable-striped":a,"dtable-scrolled-down":((e==null?void 0:e.scrollTop)??0)>0,"scrollbar-hover":c}],f=[];return e&&$(this,st).forEach(d=>{var p;const u=(p=d.onRender)==null?void 0:p.call(this,e);u&&(u.style&&Object.assign(h,u.style),u.className&&l.push(u.className),u.children&&f.push(u.children))}),y("div",{id:$(this,os),className:T(l),style:h,ref:this.ref,tabIndex:-1,children:[e&&ee(this,Sa,Vh).call(this,e),e&&ee(this,xa,jh).call(this,e),e&&ee(this,$a,qh).call(this,e),e&&ee(this,Ca,Gh).call(this,e)]})}};cn=new WeakMap,os=new WeakMap,Oe=new WeakMap,ne=new WeakMap,He=new WeakMap,st=new WeakMap,Ot=new WeakMap,se=new WeakMap,as=new WeakMap,zi=new WeakMap,Fi=new WeakMap,ge=new WeakMap,ls=new WeakMap,cs=new WeakMap,Sa=new WeakSet,Vh=function(t){const{header:e,colsInfo:n,headerHeight:s,scrollLeft:i}=t;if(!e)return null;if(e===!0)return y(hp,{scrollLeft:i,height:s,onRenderCell:$(this,Vi),onRenderRow:$(this,Ta),...n});const r=Array.isArray(e)?e:[e];return y(Ds,{className:"dtable-header",style:{height:s},renders:r,generateArgs:[t],generatorThis:this})},xa=new WeakSet,jh=function(t){const{headerHeight:e,rowsHeight:n,visibleRows:s,rowHeight:i,colsInfo:r,scrollLeft:o,scrollTop:a}=t;return y(up,{top:e,height:n,rows:s,rowHeight:i,scrollLeft:o,scrollTop:a,onRenderCell:$(this,Vi),onRenderRow:$(this,Ma),...r})},$a=new WeakSet,qh=function(t){const{footer:e}=t;if(!e)return null;const n=typeof e=="function"?e.call(this,t):Array.isArray(e)?e:[e];return y(Ds,{className:"dtable-footer",style:{height:t.footerHeight,top:t.rowsHeight+t.headerHeight},renders:n,generateArgs:[t],generatorThis:this,generators:t.footerGenerators})},Ca=new WeakSet,Gh=function(t){const e=[],{scrollLeft:n,colsInfo:s,scrollTop:i,rowsHeight:r,rowsHeightTotal:o,footerHeight:a}=t,{scrollColsWidth:c,scrollWidth:h}=s,{scrollbarSize:l=12,horzScrollbarPos:f}=this.options;return c>h&&e.push(y(Ih,{type:"horz",scrollPos:n,scrollSize:c,clientSize:h,onScroll:$(this,ji),left:s.fixedLeftWidth,bottom:(f==="inside"?0:-l)+a,size:l,wheelContainer:this.ref},"horz")),o>r&&e.push(y(Ih,{type:"vert",scrollPos:i,scrollSize:o,clientSize:r,onScroll:$(this,ji),right:0,size:l,top:t.headerHeight,wheelContainer:this.ref},"vert")),e.length?e:null},Ui=new WeakSet,Ea=function(){var t;Z(this,Oe,!1),(t=this.options.afterRender)==null||t.call(this),$(this,st).forEach(e=>{var n;return(n=e.afterRender)==null?void 0:n.call(this)})},Ma=new WeakMap,Ta=new WeakMap,Vi=new WeakMap,ji=new WeakMap,Ra=new WeakMap,Aa=new WeakMap,Na=new WeakSet,Yh=function(){if($(this,ne))return!1;const e={...Uh(),...$(this,He).reduce((n,s)=>{const{defaultOptions:i}=s;return i&&Object.assign(n,i),n},{}),...this.props};return Z(this,ne,e),Z(this,st,$(this,He).reduce((n,s)=>{const{when:i,options:r}=s;return(!i||i(e))&&(n.push(s),r&&Object.assign(e,typeof r=="function"?r.call(this,e):r)),n},[])),Z(this,Fi,[this.options.i18n,...this.plugins.map(n=>n.i18n)].filter(Boolean)),!0},La=new WeakSet,Kh=function(){var Ue,kn;const{plugins:t}=this;let e=$(this,ne);const n={flex:y("div",{style:"flex:auto"}),divider:y("div",{style:"width:1px;margin:var(--space);background:var(--color-border);height:50%"})};t.forEach(N=>{var mt;const K=(mt=N.beforeLayout)==null?void 0:mt.call(this,e);K&&(e={...e,...K}),Object.assign(n,N.footer)});let s=e.width,i=0;if(typeof s=="function"&&(s=s.call(this)),s==="100%"){const{parent:N}=this;if(N)i=N.clientWidth;else{i=0,Z(this,Oe,!0);return}}else s!=="auto"&&(i=s??0);const{defaultColWidth:r,minColWidth:o,maxColWidth:a}=e,c=[],h=[],l=[],f={},d=[],u=[];let p=0,m=0,w=0;e.cols.forEach(N=>{if(N.hidden)return;const K=N.type||"",mt={fixed:!1,flex:!1,width:r,minWidth:o,maxWidth:a,...N,type:K},O={name:mt.name,type:K,setting:mt,flex:0,left:0,width:mt.width||0,realWidth:0,visible:!0,index:d.length};t.forEach(fu=>{var du,pu;const er=(du=fu.colTypes)==null?void 0:du[K];if(er){const mu=typeof er=="function"?er(O):er;mu&&Object.assign(mt,mu,N)}(pu=fu.onAddCol)==null||pu.call(this,O)});const{fixed:Sn,flex:xn,width:ys=r}=mt;O.flex=Sn?0:xn===!0?1:typeof xn=="number"?xn:0,O.width=cp(ys<1?Math.round(ys*i):ys,mt.minWidth,mt.maxWidth),O.realWidth=O.realWidth||O.width,Sn==="left"?(O.left=p,p+=O.width,c.push(O)):Sn==="right"?(O.left=m,m+=O.width,h.push(O)):(O.left=w,w+=O.width,l.push(O)),O.flex&&u.push(O),d.push(O),f[O.name]=O});const g=p+w+m;s==="auto"&&(i=g);const{data:v,rowKey:S="id",rowHeight:x}=e,C=[],L=(N,K,mt)=>{var Sn,xn;const O={data:mt??{[S]:N},id:N,index:C.length,top:0};if(mt||(O.lazy=!0),C.push(O),((Sn=e.onAddRow)==null?void 0:Sn.call(this,O,K))!==!1){for(const ys of t)if(((xn=ys.onAddRow)==null?void 0:xn.call(this,O,K))===!1)return}};if(typeof v=="number")for(let N=0;N<v;N++)L(`${N}`,N);else Array.isArray(v)&&v.forEach((N,K)=>{typeof N=="object"?L(`${N[S]??""}`,K,N):L(`${N??""}`,K)});let A=C;const R={};if(e.onAddRows){const N=e.onAddRows.call(this,A);N&&(A=N)}for(const N of t){const K=(Ue=N.onAddRows)==null?void 0:Ue.call(this,A);K&&(A=K)}A.forEach((N,K)=>{R[N.id]=N,N.index=K,N.top=N.index*x});const{header:I,footer:E}=e,D=I?e.headerHeight||x:0,q=E?e.footerHeight||x:0;let G=e.height,F=0;const B=A.length*x,Y=D+q+B;if(typeof G=="function"&&(G=G.call(this,Y)),G==="auto")F=Y;else if(typeof G=="object")F=Math.min(G.max,Math.max(G.min,Y));else if(G==="100%"){const{parent:N}=this;if(N)F=N.clientHeight;else{F=0,Z(this,Oe,!0);return}}else F=G;const Tt=F-D-q,Fe=i-p-m,Bt={options:e,allRows:C,width:i,height:F,rows:A,rowsMap:R,rowHeight:x,rowsHeight:Tt,rowsHeightTotal:B,header:I,footer:E,footerGenerators:n,headerHeight:D,footerHeight:q,colsMap:f,colsList:d,flexCols:u,colsInfo:{fixedLeftCols:c,fixedRightCols:h,scrollCols:l,fixedLeftWidth:p,scrollWidth:Fe,scrollColsWidth:w,fixedRightWidth:m}},be=(kn=e.onLayout)==null?void 0:kn.call(this,Bt);be&&Object.assign(Bt,be),t.forEach(N=>{if(N.onLayout){const K=N.onLayout.call(this,Bt);K&&Object.assign(Bt,K)}}),Z(this,Ot,Bt)},Wa=new WeakSet,Xh=function(){(ee(this,Na,Yh).call(this)||!$(this,Ot))&&ee(this,La,Kh).call(this);const{layout:t}=this;if(!t)return;let{scrollLeft:e}=this.state;const{flexCols:n,colsInfo:{scrollCols:s,scrollWidth:i,scrollColsWidth:r}}=t;if(n.length){const g=i-r;if(g>0){const v=n.reduce((x,C)=>x+C.flex,0);let S=0;n.forEach(x=>{const C=Math.min(g-S,Math.ceil(g*(x.flex/v)));x.realWidth=C+x.width,S+=x.realWidth})}else n.forEach(v=>{v.realWidth=v.width})}e=Math.min(Math.max(0,r-i),e);let o=0;s.forEach(g=>{g.left=o,o+=g.realWidth,g.visible=g.left+g.realWidth>=e&&g.left<=e+i});const{rowsHeightTotal:a,rowsHeight:c,rows:h,rowHeight:l}=t,f=Math.min(Math.max(0,a-c),this.state.scrollTop),d=Math.floor(f/l),u=f+c,p=Math.min(h.length,Math.ceil(u/l)),m=[],{rowDataGetter:w}=this.options;for(let g=d;g<p;g++){const v=h[g];v.lazy&&w&&(v.data=w([v.id])[0],v.lazy=!1),m.push(v)}return t.visibleRows=m,t.scrollTop=f,t.scrollLeft=e,t},Da.addPlugin=Bh,Da.removePlugin=zh;function Jh(t,e){e!==void 0?t.data.hoverCol=e:e=t.data.hoverCol;const{current:n}=t.ref;if(!n)return;const s="dtable-col-hover";n.querySelectorAll(`.${s}`).forEach(i=>i.classList.remove(s)),typeof e=="string"&&e.length&&n.querySelectorAll(`.dtable-cell[data-col="${e}"]`).forEach(i=>i.classList.add(s))}const pp=Ie({name:"col-hover",defaultOptions:{colHover:!1},when:t=>!!t.colHover,events:{mouseover(t){var i;const{colHover:e}=this.options;if(!e)return;const n=(i=t.target)==null?void 0:i.closest(".dtable-cell");if(!n||e==="header"&&!n.closest(".dtable-header"))return;const s=(n==null?void 0:n.getAttribute("data-col"))??!1;Jh(this,s)},mouseleave(){Jh(this,!1)}}},{buildIn:!0}),$m="";function mp(t,e){var o,a;typeof t=="boolean"&&(e=t,t=void 0);const n=this.state.checkedRows,s={},{canRowCheckable:i}=this.options,r=(c,h)=>{i&&!i.call(this,c)||!!n[c]===h||(h?n[c]=!0:delete n[c],s[c]=h)};if(t===void 0?(e===void 0&&(e=!Zh.call(this)),(o=this.layout)==null||o.allRows.forEach(({id:c})=>{r(c,!!e)})):(Array.isArray(t)||(t=[t]),t.forEach(c=>{r(c,e??!n[c])})),Object.keys(s).length){const c=(a=this.options.beforeCheckRows)==null?void 0:a.call(this,t,s,n);c&&Object.keys(c).forEach(h=>{c[h]?n[h]=!0:delete n[h]}),this.setState({checkedRows:{...n}},()=>{var h;(h=this.options.onCheckChange)==null||h.call(this,s)})}return s}function gp(t){return this.state.checkedRows[t]??!1}function Zh(){var n,s;const t=this.getChecks().length,{canRowCheckable:e}=this.options;return e?t===((n=this.layout)==null?void 0:n.allRows.reduce((i,r)=>i+(e.call(this,r.id)?1:0),0)):t===((s=this.layout)==null?void 0:s.allRows.length)}function _p(){return Object.keys(this.state.checkedRows)}function yp(t){const{checkable:e}=this.options;t===void 0&&(t=!e),e!==t&&this.setState({forceCheckable:t})}function wp(t){return y("div",{class:`checkbox-primary dtable-checkbox${t?" checked":""}`,children:y("label",{})})}const vp=Ie({name:"checkable",defaultOptions:{checkable:"auto",checkboxRender:wp},when:t=>t.checkable!==void 0,options(t){const{forceCheckable:e}=this.state;return e!==void 0?t.checkable=e:t.checkable==="auto"&&(t.checkable=!!t.cols.some(n=>n.checkbox)),t},state(){return{checkedRows:{}}},methods:{toggleCheckRows:mp,isRowChecked:gp,isAllRowChecked:Zh,getChecks:_p,toggleCheckable:yp},i18n:{zh_cn:{checkedCountInfo:"已选择 {selected} 项",totalCountInfo:"共 {total} 项"},zh_tw:{checkedCountInfo:"已選擇 {selected} 項",totalCountInfo:"共 {total} 項"},en:{checkedCountInfo:"Selected {selected} items",totalCountInfo:"Total {total} items"}},footer:{checkbox(){const t=this.isAllRowChecked();return[y("div",{style:{paddingRight:"calc(3*var(--space))",display:"flex",alignItems:"center"},onClick:()=>this.toggleCheckRows(),children:y("input",{type:"checkbox",checked:t})})]},checkedInfo(t,e){const n=this.getChecks(),{checkInfo:s}=this.options;if(s)return[s.call(this,n)];const i=n.length,r=[];return i&&r.push(this.i18n("checkedCountInfo",{selected:i})),r.push(this.i18n("totalCountInfo",{total:e.allRows.length})),[y("div",{children:r.join(", ")})]}},onRenderCell(t,{row:e,col:n}){var a;const{id:s}=e,{canRowCheckable:i}=this.options;if(i&&!i.call(this,s))return t;const{checkbox:r}=n.setting;if(typeof r=="function"?r.call(this,s):r){const c=this.isRowChecked(s),h=(a=this.options.checkboxRender)==null?void 0:a.call(this,c,s);t.unshift(h),t.push({className:"has-checkbox"})}return t},onRenderHeaderCell(t,{row:e,col:n}){var o;const{id:s}=e,{checkbox:i}=n.setting;if(typeof i=="function"?i.call(this,s):i){const a=this.isAllRowChecked(),c=(o=this.options.checkboxRender)==null?void 0:o.call(this,a,s);t.unshift(c),t.push({className:"has-checkbox"})}return t},onRenderRow({props:t,row:e}){if(this.isRowChecked(e.id))return{className:T(t.className,"is-checked")}},onHeaderCellClick(t){const e=t.target;if(!e)return;const n=e.closest('input[type="checkbox"],.dtable-checkbox');n&&(this.toggleCheckRows(n.checked),t.stopPropagation())},onRowClick(t,{rowID:e}){const n=t.target;if(!n)return;(n.closest('input[type="checkbox"],.dtable-checkbox')||this.options.checkOnClickRow)&&this.toggleCheckRows(e)}}),Em="",Mm="";var Qh=(t=>(t.unknown="",t.collapsed="collapsed",t.expanded="expanded",t.hidden="hidden",t.normal="normal",t))(Qh||{});function qi(t){const e=this.data.nestedMap.get(t);if(!e||e.state!=="")return e??{state:"normal",level:-1};if(!e.parent&&!e.children)return e.state="normal",e;const n=this.state.collapsedRows,s=e.children&&n&&n[t];let i=!1,{parent:r}=e;for(;r;){const o=qi.call(this,r);if(o.state!=="expanded"){i=!0;break}r=o.parent}return e.state=i?"hidden":s?"collapsed":e.children?"expanded":"normal",e.level=e.parent?qi.call(this,e.parent).level+1:0,e}function bp(t){return t!==void 0?qi.call(this,t):this.data.nestedMap}function kp(t,e){let n=this.state.collapsedRows??{};const{nestedMap:s}=this.data;if(t==="HEADER")if(e===void 0&&(e=!tu.call(this)),e){const i=s.entries();for(const[r,o]of i)o.state==="expanded"&&(n[r]=!0)}else n={};else{const i=Array.isArray(t)?t:[t];e===void 0&&(e=!n[i[0]]),i.forEach(r=>{const o=s.get(r);e&&(o!=null&&o.children)?n[r]=!0:delete n[r]})}this.update({dirtyType:"layout",state:{collapsedRows:{...n}}},()=>{var i;(i=this.options.onNestedChange)==null||i.call(this)})}function tu(){const t=this.data.nestedMap.values();for(const e of t)if(e.state==="expanded")return!1;return!0}function eu(t,e=0,n,s=0){var i;n||(n=[...t.keys()]);for(const r of n){const o=t.get(r);o&&(o.level===s&&(o.order=e++),(i=o.children)!=null&&i.length&&(e=eu(t,e,o.children,s+1)))}return e}function nu(t,e,n,s){const i=t.getNestedRowInfo(e);return!i||i.state===""||!i.children||i.children.forEach(r=>{s[r]=n,nu(t,r,n,s)}),i}function su(t,e,n,s,i){var a;const r=t.getNestedRowInfo(e);if(!r||r.state==="")return;((a=r.children)==null?void 0:a.every(c=>{const h=!!(s[c]!==void 0?s[c]:i[c]);return n===h}))&&(s[e]=n),r.parent&&su(t,r.parent,n,s,i)}const Sp=Ie({name:"nested",defaultOptions:{nested:"auto",nestedParentKey:"parent",asParentKey:"asParent",nestedIndent:20,canSortTo(t,e){const{nestedMap:n}=this.data,s=n.get(t.id),i=n.get(e.id);return(s==null?void 0:s.parent)===(i==null?void 0:i.parent)},beforeCheckRows(t,e,n){if(!this.options.checkable||!(t!=null&&t.length))return;const s={};return Object.entries(e).forEach(([i,r])=>{const o=nu(this,i,r,s);o!=null&&o.parent&&su(this,o.parent,r,s,n)}),s}},options(t){return t.nested==="auto"&&(t.nested=!!t.cols.some(e=>e.nestedToggle)),t},when:t=>!!t.nested,data(){return{nestedMap:new Map}},methods:{getNestedInfo:bp,toggleRow:kp,isAllCollapsed:tu,getNestedRowInfo:qi},beforeLayout(){this.data.nestedMap.clear()},onAddRow(t){var i,r;const{nestedMap:e}=this.data,n=String((i=t.data)==null?void 0:i[this.options.nestedParentKey??"parent"]),s=e.get(t.id)??{state:"",level:0};if(s.parent=n==="0"?void 0:n,(r=t.data)!=null&&r[this.options.asParentKey??"asParent"]&&(s.children=[]),e.set(t.id,s),n){let o=e.get(n);o||(o={state:"",level:0},e.set(n,o)),o.children||(o.children=[]),o.children.push(t.id)}},onAddRows(t){return t=t.filter(e=>this.getNestedRowInfo(e.id).state!=="hidden"),eu(this.data.nestedMap),t.sort((e,n)=>{const s=this.getNestedRowInfo(e.id),i=this.getNestedRowInfo(n.id),r=(s.order??0)-(i.order??0);return r===0?e.index-n.index:r}),t},onRenderCell(t,{col:e,row:n}){var a;const{id:s,data:i}=n,{nestedToggle:r}=e.setting,o=this.getNestedRowInfo(s);if(r&&(o.children||o.parent)&&t.unshift(((a=this.options.onRenderNestedToggle)==null?void 0:a.call(this,o,s,e,i))??y("a",{role:"button",className:`dtable-nested-toggle state${o.children?"":" is-no-child"}`,children:y("span",{className:"toggle-icon"})})),o.level){let{nestedIndent:c=r}=e.setting;c&&(c===!0&&(c=this.options.nestedIndent??12),t.unshift(y("div",{className:"dtable-nested-indent",style:{width:c*o.level+"px"}})))}return t},onRenderHeaderCell(t,{row:e,col:n}){var i;const{id:s}=e;return n.setting.nestedToggle&&t.unshift(((i=this.options.onRenderNestedToggle)==null?void 0:i.call(this,void 0,s,n,void 0))??y("a",{type:"button",className:"dtable-nested-toggle state",children:y("span",{className:"toggle-icon"})})),t},onRenderRow({props:t,row:e}){const n=this.getNestedRowInfo(e.id);return{className:T(t.className,`is-${n.state}`),"data-parent":n.parent}},onRenderHeaderRow({props:t}){return t.className=T(t.className,`is-${this.isAllCollapsed()?"collapsed":"expanded"}`),t},onHeaderCellClick(t){const e=t.target;if(!(!e||!e.closest(".dtable-nested-toggle")))return this.toggleRow("HEADER"),!0},onCellClick(t,{rowID:e}){const n=t.target;if(!(!n||!this.getNestedRowInfo(e).children||!n.closest(".dtable-nested-toggle")))return this.toggleRow(e),!0}}),Rm="";function iu(t,e,n,s){if(!t)return n;typeof t=="function"&&(t=t(e)),typeof t=="string"&&(t={url:t});const{url:i,...r}=t;return y("a",{href:at(i,e.row.data),...s,...r,children:n})}function Pa(t,e,n){var s;if(t!=null)return n=n??((s=e.row.data)==null?void 0:s[e.col.name]),typeof t=="function"?t(n,e):at(t,n)}function ru(t,e,n,s){var i;return n=n??((i=e.row.data)==null?void 0:i[e.col.name]),t===!1?n:(t===!0&&(t="[yyyy-]MM-dd hh:mm"),typeof t=="function"&&(t=t(n,e)),_i(n,t,s))}function ou(t,e){const{link:n}=e.col.setting,s=iu(n,e,t[0]);return s&&(t[0]=s),t}function au(t,e){const{format:n}=e.col.setting;return n&&(t[0]=Pa(n,e,t[0])),t}function lu(t,e){const{map:n}=e.col.setting;return typeof n=="function"?t[0]=n(t[0],e):typeof n=="object"&&n&&(t[0]=n[t[0]]??t[0]),t}function hs(t,e,n="[yyyy-]MM-dd hh:mm"){const{format:s=n,invalidDate:i}=e.col.setting;return t[0]=ru(s,e,t[0],i),t}function Ia(t,e,n=!1){const{html:s=n}=e.col.setting;if(s===!1)return t;const i=t[0],r=s===!0?i:Pa(s,e,i);return t[0]={html:r},t}const xp=Ie({name:"rich",colTypes:{html:{onRenderCell(t,e){return Ia(t,e,!0)}},progress:{align:"center",onRenderCell(t,{col:e}){const{circleSize:n=24,circleBorderSize:s=1,circleBgColor:i="var(--color-border)",circleColor:r="var(--color-success-500)"}=e.setting,o=(n-s)/2,a=n/2,c=t[0];return t[0]=y("svg",{width:n,height:n,children:[y("circle",{cx:a,cy:a,r:o,"stroke-width":s,stroke:i,fill:"transparent"}),y("circle",{cx:a,cy:a,r:o,"stroke-width":s,stroke:r,fill:"transparent","stroke-linecap":"round","stroke-dasharray":Math.PI*o*2,"stroke-dashoffset":Math.PI*o*2*(100-c)/100,style:{transformOrigin:"center",transform:"rotate(-90deg)"}}),y("text",{x:a,y:a+s,"dominant-baseline":"middle","text-anchor":"middle",style:{fontSize:`${o}px`},children:Math.round(c)})]}),t}},datetime:{onRenderCell(t,e){return hs(t,e,"[yyyy-]MM-dd hh:mm")}},date:{onRenderCell(t,e){return hs(t,e,"yyyy-MM-dd")}},time:{onRenderCell(t,e){return hs(t,e,"hh:mm")}}},onRenderCell(t,e){const{formatDate:n,html:s}=e.col.setting;return n&&(t=hs(t,e,n)),t=lu(t,e),t=au(t,e),s?t=Ia(t,e):t=ou(t,e),t}},{buildIn:!0});function Oa(t,{row:e,col:n}){const{data:s}=e,i=s?s[n.name]:void 0;if(!(i!=null&&i.length))return t;const{avatarClass:r="rounded-full",avatarKey:o=`${n.name}Avatar`,avatarProps:a,avatarCodeKey:c,avatarNameKey:h=`${n.name}Name`}=n.setting,l=(s?s[h]:i)||t[0],f={size:"xs",className:T(r,a==null?void 0:a.className,"flex-none"),src:s?s[o]:void 0,text:l,code:c?s?s[c]:void 0:i,...a};if(t[0]=y(zc,{...f}),n.type==="avatarBtn"){const{avatarBtnProps:d}=n.setting,u=typeof d=="function"?d(n,e):d;t[0]=y("button",{type:"button",className:"btn btn-avatar",...u,children:[t[0],y("div",{children:l})]})}else n.type==="avatarName"&&(t[0]=y("div",{className:"flex items-center gap-1",children:[t[0],y("span",{children:l})]}));return t}const $p=Ie({name:"avatar",colTypes:{avatar:{onRenderCell:Oa},avatarBtn:{onRenderCell:Oa},avatarName:{onRenderCell:Oa}}},{buildIn:!0}),Cp=Ie({name:"sort-type",onRenderHeaderCell(t,e){const{col:n}=e,{sortType:s}=n.setting;if(s){const i=s===!0?"none":s;t.push(y("div",{className:`dtable-sort dtable-sort-${i}`}),{outer:!0,attrs:{"data-sort":i}});let{sortLink:r=this.options.sortLink}=n.setting;if(r){const o=i==="asc"?"desc":"asc";typeof r=="function"&&(r=r.call(this,n,o,i)),typeof r=="string"&&(r={url:r});const{url:a,...c}=r;t[0]=y("a",{href:at(a,{...n.setting,sortType:o}),...c,children:t[0]})}}return t}},{buildIn:!0}),Ep=Object.freeze(Object.defineProperty({__proto__:null,NestedRowState:Qh,avatar:$p,checkable:vp,colHover:pp,nested:Sp,renderDatetime:ru,renderDatetimeCell:hs,renderFormat:Pa,renderFormatCell:au,renderHtmlCell:Ia,renderLink:iu,renderLinkCell:ou,renderMapCell:lu,rich:xp,sortType:Cp},Symbol.toStringTag,{value:"Module"}));class hn extends ot{}hn.NAME="DTable",hn.Component=Da,hn.definePlugin=Ie,hn.removePlugin=zh,hn.plugins=Ep;const Wm="";var cu=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Be=(t,e,n)=>(cu(t,e,"read from private field"),n?n.call(t):e.get(t)),Mp=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},hu=(t,e,n,s)=>(cu(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Mt;const uu="nav-tabs";class Ha extends yt{constructor(){super(...arguments),Mp(this,Mt,void 0)}init(){const{$element:e}=this;!e.is("body")&&!e.attr("data-toggle")&&e.attr("data-toggle","tab")}showTarget(){const{$element:e}=this,n=e.attr("href")||e.dataset("target")||e.dataset("tab")||"";n.startsWith("#")&&hu(this,Mt,_(n)[0]),this.addActive(e.closest(`.${uu}`)[0],e.parent()[0]),Be(this,Mt)&&(this.addActive(_(Be(this,Mt))[0],Be(this,Mt)),Be(this,Mt).dispatchEvent(new CustomEvent("show.zui3.tab")))}show(){const{$element:e}=this,n=e.attr("href")||e.dataset("target")||e.dataset("tab")||"";n.startsWith("#")&&hu(this,Mt,_(n)[0]),Be(this,Mt)&&(this.addActive(Be(this,Mt).parentElement,Be(this,Mt)),this.addActive(e.closest(`.${uu}`)[0],e.parent()[0]))}addActive(e,n){const s=e.children;Array.from(s).forEach(r=>{r.classList.remove("active"),r.classList.contains("fade")&&r.classList.remove("in")}),n.classList.add("active"),n.classList.contains("fade")&&this.transition(n).then(function(){n.dispatchEvent(new CustomEvent("shown.zui3.tab"))})}transition(e){return new Promise(function(n){setTimeout(()=>{e.classList.add("in"),n()},100)})}}Mt=new WeakMap,Ha.NAME="NavTabs",_(document).on("click",'[data-toggle="tab"],[data-tab]',t=>{t.preventDefault(),Ha.ensure(t.target).showTarget()});const Dm="",Pm="",Im="",Om="",Hm="",Bm="",zm="",Fm="",Um="",Vm="",jm="",qm="";_(()=>{_(".disabled, [disabled]").on("click",t=>{t.preventDefault(),t.stopImmediatePropagation()})}),b.$=_,b.ActionMenu=Nr,b.ActionMenuNested=Dr,b.AjaxForm=Rh,b.Avatar=ao,b.BtnGroup=lo,b.Component=yt,b.ComponentFromReact=ot,b.ContextMenu=St,b.CustomRender=Ds,b.DTable=hn,b.Dashboard=va,b.Dropdown=Gt,b.EventBus=oo,b.HElement=Pl,b.HtmlContent=Er,b.Menu=Pr,b.Messager=si,b.Modal=pi,b.ModalBase=Kt,b.ModalTrigger=So,b.Nav=xo,b.NavTabs=Ha,b.Pager=Co,b.Picker=Bo,b.ProgressCircle=no,b.ReactComponent=U,b.Switch=so,b.TIME_DAY=Dt,b.Toolbar=zo,b.Tooltip=$t,b.ajaxSubmit=aa,b.calculateTimestamp=$o,b.cash=_,b.classes=T,b.convertBytes=hf,b.createDate=lt,b.createPortal=Ol,b.createRef=Lt,b.dom=pf,b.formatBytes=cf,b.formatDate=_i,b.formatDateSpan=Md,b.formatString=at,b.getClassList=br,b.getTimeBeforeDesc=Td,b.h=rt,b.hh=wf,b.htm=Dl,b.i18n=Nt,b.isDBY=Ed,b.isObject=Es,b.isSameDay=nn,b.isSameMonth=Xc,b.isSameWeek=Sd,b.isSameYear=gi,b.isToday=xd,b.isTomorrow=Cd,b.isYesterday=$d,b.mergeDeep=Ms,b.nativeEvents=ro,b.render=je,b.renderCustomResult=Il,b.renderIcon=Ps,b.store=Oc,b.storeData=kr,b.takeData=pl,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
