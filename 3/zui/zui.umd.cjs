var Qs=Object.defineProperty;var to=($,M,P)=>M in $?Qs($,M,{enumerable:!0,configurable:!0,writable:!0,value:P}):$[M]=P;var N=($,M,P)=>(to($,typeof M!="symbol"?M+"":M,P),P),Le=($,M,P)=>{if(!M.has($))throw TypeError("Cannot "+P)};var p=($,M,P)=>(Le($,M,"read from private field"),P?P.call($):M.get($)),w=($,M,P)=>{if(M.has($))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add($):M.set($,P)},S=($,M,P,pe)=>(Le($,M,"write to private field"),pe?pe.call($,P):M.set($,P),P);var U=($,M,P)=>(Le($,M,"access private method"),P);(function($,M){typeof exports=="object"&&typeof module<"u"?M(exports):typeof define=="function"&&define.amd?define(["exports"],M):($=typeof globalThis<"u"?globalThis:$||self,M($.zui={}))})(this,function($){var _t,Et,rt,lt,St,nt,K,pt,gt,_e,ct,yt,st,X,ot,z,G,V,mt,Mt,J,bt,vt,ee,Gn,ne,Vn,se,Yn,oe,Xn,xt,Ne,ie,re,At,Ht,le,ce,ae,Jn,he,Zn,fe,Qn,Lt,Y,B;"use strict";const M="",P="",pe="",eo="",no="",so="",oo="",io="",ro="",lo="",co="",ao="",ho="",ts=e=>{const n={};if(!e)return n;const t=Object.values(e.attributes);return t&&t.length>0&&t.forEach(s=>{const{name:i,value:o}=s;n[i]=o}),n};class es extends HTMLElement{constructor(){super();N(this,"$button");N(this,"$icon");N(this,"onClick");this.$button=document.createElement("button");const t=this.innerHTML;this.innerHTML="",this.$button.innerHTML=t,this.icon&&(this.$icon=document.createElement("i"),this.addClass(this.$icon,`icon ${this.icon}`),this.$button.prepend(this.$icon)),this.$button.classList.add("btn"),this.append(this.$button)}connectedCallback(){this.initStyle(),this.initEventListen(),this.isDisabled&&this.$button.setAttribute("disabled","disabled"),this.$button.addEventListener("keydown",t=>{switch(t.keyCode){case 13:t.stopPropagation();break}})}initStyle(){const t=ts(this);if(t)for(const s in t)["type","size","rounded","outline"].includes(s)&&this.addClass(this.$button,`-${t[s]}`)}initEventListen(){if(this.isDisabled||this.loading)return!1}addClass(t,s){t&&t.classList.add(s)}get type(){return this.getAttribute("type")}set type(t){this.getAttribute("type")?(this.setAttribute("type",t),this.addClass(this.$button,`-${this.type}`)):this.removeAttribute("type")}get size(){return this.getAttribute("size")}set size(t){this.getAttribute("size")?(this.setAttribute("size",t||"base"),this.addClass(this.$button,`-${t}`)):this.removeAttribute("size")}get loading(){return this.getAttribute("loading")}set loading(t){this.getAttribute("loading")?this.setAttribute("loading",t||""):this.removeAttribute("loading")}get rounded(){return this.getAttribute("rounded")}set rounded(t){this.getAttribute("rounded")?(this.setAttribute("rounded",t||""),this.addClass(this.$button,`-${t}`)):this.removeAttribute("rounded")}get isDisabled(){return this.getAttribute("isDisabled")!==null}set isDisabled(t){t===null||t===!1?this.removeAttribute("isDisabled"):this.setAttribute("isDisabled","")}get icon(){return this.getAttribute("icon")}set icon(t){this.setAttribute("icon",t)}static get observedAttributes(){return["type","size","rounded","disabled","loading","outline"]}get class(){return this.$button.classList}attributeChangedCallback(t,s){t==="isDisabled"&&this.$button&&(s!==null?this.$button.setAttribute("disabled","disabled"):this.$button.removeAttribute("disabled")),t==="loading"&&this.$button&&(s!==null?this.$button.setAttribute("disabled","disabled"):this.$button.removeAttribute("disabled")),t==="icon"&&this.$icon&&s&&this.addClass(this.$icon,`-${s}`),this.render()}render(){}}customElements.get("zui-button")||customElements.define("zui-button",es);const fo="",uo="",_o="",po="",go="",yo="",mo="",bo="",vo="";var Pt,x,Te,ge,wt,De,jt={},We=[],ns=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function tt(e,n){for(var t in n)e[t]=n[t];return e}function Pe(e){var n=e.parentNode;n&&n.removeChild(e)}function F(e,n,t){var s,i,o,l={};for(o in n)o=="key"?s=n[o]:o=="ref"?i=n[o]:l[o]=n[o];if(arguments.length>2&&(l.children=arguments.length>3?Pt.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]===void 0&&(l[o]=e.defaultProps[o]);return zt(e,l,s,i,null)}function zt(e,n,t,s,i){var o={type:e,props:n,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Te:i};return i==null&&x.vnode!=null&&x.vnode(o),o}function It(e){return e.children}function Ot(e,n){this.props=e,this.context=n}function ft(e,n){if(n==null)return e.__?ft(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?ft(e):null}function je(e){var n,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return je(e)}}function ze(e){(!e.__d&&(e.__d=!0)&&wt.push(e)&&!Bt.__r++||De!==x.debounceRendering)&&((De=x.debounceRendering)||setTimeout)(Bt)}function Bt(){for(var e;Bt.__r=wt.length;)e=wt.sort(function(n,t){return n.__v.__b-t.__v.__b}),wt=[],e.some(function(n){var t,s,i,o,l,c;n.__d&&(l=(o=(t=n).__v).__e,(c=t.__P)&&(s=[],(i=tt({},o)).__v=o.__v+1,ye(c,o,i,t.__n,c.ownerSVGElement!==void 0,o.__h!=null?[l]:null,s,l==null?ft(o):l,o.__h),Ke(s,o),o.__e!=l&&je(o)))})}function Ie(e,n,t,s,i,o,l,c,a,f){var r,_,u,h,d,m,g,y=s&&s.__k||We,R=y.length;for(t.__k=[],r=0;r<n.length;r++)if((h=t.__k[r]=(h=n[r])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?zt(null,h,null,null,h):Array.isArray(h)?zt(It,{children:h},null,null,null):h.__b>0?zt(h.type,h.props,h.key,null,h.__v):h)!=null){if(h.__=t,h.__b=t.__b+1,(u=y[r])===null||u&&h.key==u.key&&h.type===u.type)y[r]=void 0;else for(_=0;_<R;_++){if((u=y[_])&&h.key==u.key&&h.type===u.type){y[_]=void 0;break}u=null}ye(e,h,u=u||jt,i,o,l,c,a,f),d=h.__e,(_=h.ref)&&u.ref!=_&&(g||(g=[]),u.ref&&g.push(u.ref,null,h),g.push(_,h.__c||d,h)),d!=null?(m==null&&(m=d),typeof h.type=="function"&&h.__k===u.__k?h.__d=a=Oe(h,a,e):a=Be(e,h,u,y,d,a),typeof t.type=="function"&&(t.__d=a)):a&&u.__e==a&&a.parentNode!=e&&(a=ft(u))}for(t.__e=m,r=R;r--;)y[r]!=null&&(typeof t.type=="function"&&y[r].__e!=null&&y[r].__e==t.__d&&(t.__d=ft(s,r+1)),Ve(y[r],y[r]));if(g)for(r=0;r<g.length;r++)Ge(g[r],g[++r],g[++r])}function Oe(e,n,t){for(var s,i=e.__k,o=0;i&&o<i.length;o++)(s=i[o])&&(s.__=e,n=typeof s.type=="function"?Oe(s,n,t):Be(t,s,s,i,s.__e,n));return n}function Be(e,n,t,s,i,o){var l,c,a;if(n.__d!==void 0)l=n.__d,n.__d=void 0;else if(t==null||i!=o||i.parentNode==null)t:if(o==null||o.parentNode!==e)e.appendChild(i),l=null;else{for(c=o,a=0;(c=c.nextSibling)&&a<s.length;a+=2)if(c==i)break t;e.insertBefore(i,o),l=o}return l!==void 0?l:i.nextSibling}function ss(e,n,t,s,i){var o;for(o in t)o==="children"||o==="key"||o in n||Ut(e,o,null,t[o],s);for(o in n)i&&typeof n[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===n[o]||Ut(e,o,n[o],t[o],s)}function Ue(e,n,t){n[0]==="-"?e.setProperty(n,t):e[n]=t==null?"":typeof t!="number"||ns.test(n)?t:t+"px"}function Ut(e,n,t,s,i){var o;t:if(n==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(n in s)t&&n in t||Ue(e.style,n,"");if(t)for(n in t)s&&t[n]===s[n]||Ue(e.style,n,t[n])}else if(n[0]==="o"&&n[1]==="n")o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=t,t?s||e.addEventListener(n,o?qe:Fe,o):e.removeEventListener(n,o?qe:Fe,o);else if(n!=="dangerouslySetInnerHTML"){if(i)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in e)try{e[n]=t==null?"":t;break t}catch{}typeof t=="function"||(t!=null&&(t!==!1||n[0]==="a"&&n[1]==="r")?e.setAttribute(n,t):e.removeAttribute(n))}}function Fe(e){this.l[e.type+!1](x.event?x.event(e):e)}function qe(e){this.l[e.type+!0](x.event?x.event(e):e)}function ye(e,n,t,s,i,o,l,c,a){var f,r,_,u,h,d,m,g,y,R,C,H,L,v=n.type;if(n.constructor!==void 0)return null;t.__h!=null&&(a=t.__h,c=n.__e=t.__e,n.__h=null,o=[c]),(f=x.__b)&&f(n);try{t:if(typeof v=="function"){if(g=n.props,y=(f=v.contextType)&&s[f.__c],R=f?y?y.props.value:f.__:s,t.__c?m=(r=n.__c=t.__c).__=r.__E:("prototype"in v&&v.prototype.render?n.__c=r=new v(g,R):(n.__c=r=new Ot(g,R),r.constructor=v,r.render=is),y&&y.sub(r),r.props=g,r.state||(r.state={}),r.context=R,r.__n=s,_=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),v.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=tt({},r.__s)),tt(r.__s,v.getDerivedStateFromProps(g,r.__s))),u=r.props,h=r.state,_)v.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(v.getDerivedStateFromProps==null&&g!==u&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(g,R),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(g,r.__s,R)===!1||n.__v===t.__v){r.props=g,r.state=r.__s,n.__v!==t.__v&&(r.__d=!1),r.__v=n,n.__e=t.__e,n.__k=t.__k,n.__k.forEach(function(D){D&&(D.__=n)}),r.__h.length&&l.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(g,r.__s,R),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(u,h,d)})}if(r.context=R,r.props=g,r.__v=n,r.__P=e,C=x.__r,H=0,"prototype"in v&&v.prototype.render)r.state=r.__s,r.__d=!1,C&&C(n),f=r.render(r.props,r.state,r.context);else do r.__d=!1,C&&C(n),f=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++H<25);r.state=r.__s,r.getChildContext!=null&&(s=tt(tt({},s),r.getChildContext())),_||r.getSnapshotBeforeUpdate==null||(d=r.getSnapshotBeforeUpdate(u,h)),L=f!=null&&f.type===It&&f.key==null?f.props.children:f,Ie(e,Array.isArray(L)?L:[L],n,t,s,i,o,l,c,a),r.base=n.__e,n.__h=null,r.__h.length&&l.push(r),m&&(r.__E=r.__=null),r.__e=!1}else o==null&&n.__v===t.__v?(n.__k=t.__k,n.__e=t.__e):n.__e=os(t.__e,n,t,s,i,o,l,a);(f=x.diffed)&&f(n)}catch(D){n.__v=null,(a||o!=null)&&(n.__e=c,n.__h=!!a,o[o.indexOf(c)]=null),x.__e(D,n,t)}}function Ke(e,n){x.__c&&x.__c(n,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(s){s.call(t)})}catch(s){x.__e(s,t.__v)}})}function os(e,n,t,s,i,o,l,c){var a,f,r,_=t.props,u=n.props,h=n.type,d=0;if(h==="svg"&&(i=!0),o!=null){for(;d<o.length;d++)if((a=o[d])&&"setAttribute"in a==!!h&&(h?a.localName===h:a.nodeType===3)){e=a,o[d]=null;break}}if(e==null){if(h===null)return document.createTextNode(u);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,u.is&&u),o=null,c=!1}if(h===null)_===u||c&&e.data===u||(e.data=u);else{if(o=o&&Pt.call(e.childNodes),f=(_=t.props||jt).dangerouslySetInnerHTML,r=u.dangerouslySetInnerHTML,!c){if(o!=null)for(_={},d=0;d<e.attributes.length;d++)_[e.attributes[d].name]=e.attributes[d].value;(r||f)&&(r&&(f&&r.__html==f.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(ss(e,u,_,i,c),r)n.__k=[];else if(d=n.props.children,Ie(e,Array.isArray(d)?d:[d],n,t,s,i&&h!=="foreignObject",o,l,o?o[0]:t.__k&&ft(t,0),c),o!=null)for(d=o.length;d--;)o[d]!=null&&Pe(o[d]);c||("value"in u&&(d=u.value)!==void 0&&(d!==e.value||h==="progress"&&!d||h==="option"&&d!==_.value)&&Ut(e,"value",d,_.value,!1),"checked"in u&&(d=u.checked)!==void 0&&d!==e.checked&&Ut(e,"checked",d,_.checked,!1))}return e}function Ge(e,n,t){try{typeof e=="function"?e(n):e.current=n}catch(s){x.__e(s,t)}}function Ve(e,n,t){var s,i;if(x.unmount&&x.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||Ge(s,null,n)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(o){x.__e(o,n)}s.base=s.__P=null}if(s=e.__k)for(i=0;i<s.length;i++)s[i]&&Ve(s[i],n,typeof e.type!="function");t||e.__e==null||Pe(e.__e),e.__e=e.__d=void 0}function is(e,n,t){return this.constructor(e,t)}function rs(e,n,t){var s,i,o;x.__&&x.__(e,n),i=(s=typeof t=="function")?null:t&&t.__k||n.__k,o=[],ye(n,e=(!s&&t||n).__k=F(It,null,[e]),i||jt,jt,n.ownerSVGElement!==void 0,!s&&t?[t]:i?null:n.firstChild?Pt.call(n.childNodes):null,o,!s&&t?t:i?i.__e:n.firstChild,s),Ke(o,e)}Pt=We.slice,x={__e:function(e,n,t,s){for(var i,o,l;n=n.__;)if((i=n.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,s||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},Te=0,ge=function(e){return e!=null&&e.constructor===void 0},Ot.prototype.setState=function(e,n){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=tt({},this.state),typeof e=="function"&&(e=e(tt({},t),this.props)),e&&tt(t,e),e!=null&&this.__v&&(n&&this.__h.push(n),ze(this))},Ot.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ze(this))},Ot.prototype.render=It,wt=[],Bt.__r=0;class Ye{constructor(n,t){w(this,_t,void 0);w(this,Et,void 0);S(this,Et,typeof n=="string"?document.querySelector(n):n),S(this,_t,t),requestAnimationFrame(()=>this.render())}get options(){return p(this,_t)}get element(){return p(this,Et)}render(n){Object.assign(p(this,_t),n);const{Component:t}=this;rs(F(t,{...this.options}),this.element)}}_t=new WeakMap,Et=new WeakMap,N(Ye,"NAME");const T=(...e)=>e.map(n=>Array.isArray(n)?T(...n):typeof n=="function"?T(n()):n!==null&&typeof n=="object"?Object.keys(n).filter(t=>{const s=n[t];return typeof s=="function"?!!s():!!s}).join(" "):n).filter(n=>typeof n=="string"&&n.length).join(" "),wo="",ko="";function ls({rootClass:e,className:n,url:t,target:s,disabled:i,active:o,icon:l,title:c,trailingIcon:a,children:f,...r}){return F("li",{className:T(e)},F("a",{className:T("menu-item",n,{disabled:i,active:o,"has-icon":l}),href:t,target:s,...r},ge(l)?l:typeof l=="string"?F("i",{class:`icon ${l}`}):null,c,f,ge(a)?a:typeof a=="string"?F("i",{class:`icon ${a}`}):null))}function cs({className:e}){return F("div",{class:T("menu-divider",e)})}const Co="";function as({className:e,title:n,children:t,...s}){return F("li",{class:T("menu-heading",e),...s},n,t)}const $o="";function hs({className:e,items:n,hasIcons:t,shadow:s=!0,rounded:i=!0,border:o=!0,children:l,onClickItem:c,...a}){t===void 0&&(t=n==null?void 0:n.some(r=>"icon"in r));const f=(r,_,u,h)=>{u&&u.call(null,h),c&&c(r,_,h)};return F("menu",{class:T("menu",e,t?"has-icons":"",s?typeof s=="string"?s:"shadow-lg":"",i?typeof i=="string"?i:"rounded":"",o?"border":""),...a},n==null?void 0:n.map((r,_)=>{const{key:u,type:h,...d}=r;if(h==="heading")return F(as,{...d,key:u!=null?u:_});if(h==="divider")return F(cs,{...d,key:u!=null?u:_});const{onClick:m,...g}=d;return F(ls,{...g,onClick:f.bind(null,r,_,m),key:u!=null?u:_})}),l)}class fs extends Ye{constructor(){super(...arguments);N(this,"Component",hs)}}const Ro="",Eo="",So="",Mo="";var Ft,A,Xe,Je,kt,Ze,qt={},Qe=[],us=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function et(e,n){for(var t in n)e[t]=n[t];return e}function tn(e){var n=e.parentNode;n&&n.removeChild(e)}function b(e,n,t){var s,i,o,l={};for(o in n)o=="key"?s=n[o]:o=="ref"?i=n[o]:l[o]=n[o];if(arguments.length>2&&(l.children=arguments.length>3?Ft.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]===void 0&&(l[o]=e.defaultProps[o]);return Kt(e,l,s,i,null)}function Kt(e,n,t,s,i){var o={type:e,props:n,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Xe:i};return i==null&&A.vnode!=null&&A.vnode(o),o}function en(){return{current:null}}function Gt(e){return e.children}function it(e,n){this.props=e,this.context=n}function ut(e,n){if(n==null)return e.__?ut(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?ut(e):null}function nn(e){var n,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return nn(e)}}function sn(e){(!e.__d&&(e.__d=!0)&&kt.push(e)&&!Vt.__r++||Ze!==A.debounceRendering)&&((Ze=A.debounceRendering)||setTimeout)(Vt)}function Vt(){for(var e;Vt.__r=kt.length;)e=kt.sort(function(n,t){return n.__v.__b-t.__v.__b}),kt=[],e.some(function(n){var t,s,i,o,l,c;n.__d&&(l=(o=(t=n).__v).__e,(c=t.__P)&&(s=[],(i=et({},o)).__v=o.__v+1,me(c,o,i,t.__n,c.ownerSVGElement!==void 0,o.__h!=null?[l]:null,s,l==null?ut(o):l,o.__h),fn(s,o),o.__e!=l&&nn(o)))})}function on(e,n,t,s,i,o,l,c,a,f){var r,_,u,h,d,m,g,y=s&&s.__k||Qe,R=y.length;for(t.__k=[],r=0;r<n.length;r++)if((h=t.__k[r]=(h=n[r])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Kt(null,h,null,null,h):Array.isArray(h)?Kt(Gt,{children:h},null,null,null):h.__b>0?Kt(h.type,h.props,h.key,null,h.__v):h)!=null){if(h.__=t,h.__b=t.__b+1,(u=y[r])===null||u&&h.key==u.key&&h.type===u.type)y[r]=void 0;else for(_=0;_<R;_++){if((u=y[_])&&h.key==u.key&&h.type===u.type){y[_]=void 0;break}u=null}me(e,h,u=u||qt,i,o,l,c,a,f),d=h.__e,(_=h.ref)&&u.ref!=_&&(g||(g=[]),u.ref&&g.push(u.ref,null,h),g.push(_,h.__c||d,h)),d!=null?(m==null&&(m=d),typeof h.type=="function"&&h.__k===u.__k?h.__d=a=rn(h,a,e):a=ln(e,h,u,y,d,a),typeof t.type=="function"&&(t.__d=a)):a&&u.__e==a&&a.parentNode!=e&&(a=ut(u))}for(t.__e=m,r=R;r--;)y[r]!=null&&(typeof t.type=="function"&&y[r].__e!=null&&y[r].__e==t.__d&&(t.__d=ut(s,r+1)),dn(y[r],y[r]));if(g)for(r=0;r<g.length;r++)un(g[r],g[++r],g[++r])}function rn(e,n,t){for(var s,i=e.__k,o=0;i&&o<i.length;o++)(s=i[o])&&(s.__=e,n=typeof s.type=="function"?rn(s,n,t):ln(t,s,s,i,s.__e,n));return n}function ln(e,n,t,s,i,o){var l,c,a;if(n.__d!==void 0)l=n.__d,n.__d=void 0;else if(t==null||i!=o||i.parentNode==null)t:if(o==null||o.parentNode!==e)e.appendChild(i),l=null;else{for(c=o,a=0;(c=c.nextSibling)&&a<s.length;a+=2)if(c==i)break t;e.insertBefore(i,o),l=o}return l!==void 0?l:i.nextSibling}function ds(e,n,t,s,i){var o;for(o in t)o==="children"||o==="key"||o in n||Yt(e,o,null,t[o],s);for(o in n)i&&typeof n[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===n[o]||Yt(e,o,n[o],t[o],s)}function cn(e,n,t){n[0]==="-"?e.setProperty(n,t):e[n]=t==null?"":typeof t!="number"||us.test(n)?t:t+"px"}function Yt(e,n,t,s,i){var o;t:if(n==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(n in s)t&&n in t||cn(e.style,n,"");if(t)for(n in t)s&&t[n]===s[n]||cn(e.style,n,t[n])}else if(n[0]==="o"&&n[1]==="n")o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=t,t?s||e.addEventListener(n,o?hn:an,o):e.removeEventListener(n,o?hn:an,o);else if(n!=="dangerouslySetInnerHTML"){if(i)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in e)try{e[n]=t==null?"":t;break t}catch{}typeof t=="function"||(t!=null&&(t!==!1||n[0]==="a"&&n[1]==="r")?e.setAttribute(n,t):e.removeAttribute(n))}}function an(e){this.l[e.type+!1](A.event?A.event(e):e)}function hn(e){this.l[e.type+!0](A.event?A.event(e):e)}function me(e,n,t,s,i,o,l,c,a){var f,r,_,u,h,d,m,g,y,R,C,H,L,v=n.type;if(n.constructor!==void 0)return null;t.__h!=null&&(a=t.__h,c=n.__e=t.__e,n.__h=null,o=[c]),(f=A.__b)&&f(n);try{t:if(typeof v=="function"){if(g=n.props,y=(f=v.contextType)&&s[f.__c],R=f?y?y.props.value:f.__:s,t.__c?m=(r=n.__c=t.__c).__=r.__E:("prototype"in v&&v.prototype.render?n.__c=r=new v(g,R):(n.__c=r=new it(g,R),r.constructor=v,r.render=ps),y&&y.sub(r),r.props=g,r.state||(r.state={}),r.context=R,r.__n=s,_=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),v.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=et({},r.__s)),et(r.__s,v.getDerivedStateFromProps(g,r.__s))),u=r.props,h=r.state,_)v.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(v.getDerivedStateFromProps==null&&g!==u&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(g,R),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(g,r.__s,R)===!1||n.__v===t.__v){r.props=g,r.state=r.__s,n.__v!==t.__v&&(r.__d=!1),r.__v=n,n.__e=t.__e,n.__k=t.__k,n.__k.forEach(function(D){D&&(D.__=n)}),r.__h.length&&l.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(g,r.__s,R),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(u,h,d)})}if(r.context=R,r.props=g,r.__v=n,r.__P=e,C=A.__r,H=0,"prototype"in v&&v.prototype.render)r.state=r.__s,r.__d=!1,C&&C(n),f=r.render(r.props,r.state,r.context);else do r.__d=!1,C&&C(n),f=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++H<25);r.state=r.__s,r.getChildContext!=null&&(s=et(et({},s),r.getChildContext())),_||r.getSnapshotBeforeUpdate==null||(d=r.getSnapshotBeforeUpdate(u,h)),L=f!=null&&f.type===Gt&&f.key==null?f.props.children:f,on(e,Array.isArray(L)?L:[L],n,t,s,i,o,l,c,a),r.base=n.__e,n.__h=null,r.__h.length&&l.push(r),m&&(r.__E=r.__=null),r.__e=!1}else o==null&&n.__v===t.__v?(n.__k=t.__k,n.__e=t.__e):n.__e=_s(t.__e,n,t,s,i,o,l,a);(f=A.diffed)&&f(n)}catch(D){n.__v=null,(a||o!=null)&&(n.__e=c,n.__h=!!a,o[o.indexOf(c)]=null),A.__e(D,n,t)}}function fn(e,n){A.__c&&A.__c(n,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(s){s.call(t)})}catch(s){A.__e(s,t.__v)}})}function _s(e,n,t,s,i,o,l,c){var a,f,r,_=t.props,u=n.props,h=n.type,d=0;if(h==="svg"&&(i=!0),o!=null){for(;d<o.length;d++)if((a=o[d])&&"setAttribute"in a==!!h&&(h?a.localName===h:a.nodeType===3)){e=a,o[d]=null;break}}if(e==null){if(h===null)return document.createTextNode(u);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,u.is&&u),o=null,c=!1}if(h===null)_===u||c&&e.data===u||(e.data=u);else{if(o=o&&Ft.call(e.childNodes),f=(_=t.props||qt).dangerouslySetInnerHTML,r=u.dangerouslySetInnerHTML,!c){if(o!=null)for(_={},d=0;d<e.attributes.length;d++)_[e.attributes[d].name]=e.attributes[d].value;(r||f)&&(r&&(f&&r.__html==f.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(ds(e,u,_,i,c),r)n.__k=[];else if(d=n.props.children,on(e,Array.isArray(d)?d:[d],n,t,s,i&&h!=="foreignObject",o,l,o?o[0]:t.__k&&ut(t,0),c),o!=null)for(d=o.length;d--;)o[d]!=null&&tn(o[d]);c||("value"in u&&(d=u.value)!==void 0&&(d!==e.value||h==="progress"&&!d||h==="option"&&d!==_.value)&&Yt(e,"value",d,_.value,!1),"checked"in u&&(d=u.checked)!==void 0&&d!==e.checked&&Yt(e,"checked",d,_.checked,!1))}return e}function un(e,n,t){try{typeof e=="function"?e(n):e.current=n}catch(s){A.__e(s,t)}}function dn(e,n,t){var s,i;if(A.unmount&&A.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||un(s,null,n)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(o){A.__e(o,n)}s.base=s.__P=null}if(s=e.__k)for(i=0;i<s.length;i++)s[i]&&dn(s[i],n,typeof e.type!="function");t||e.__e==null||tn(e.__e),e.__e=e.__d=void 0}function ps(e,n,t){return this.constructor(e,t)}function gs(e,n,t){var s,i,o;A.__&&A.__(e,n),i=(s=typeof t=="function")?null:t&&t.__k||n.__k,o=[],me(n,e=(!s&&t||n).__k=b(Gt,null,[e]),i||qt,qt,n.ownerSVGElement!==void 0,!s&&t?[t]:i?null:n.firstChild?Ft.call(n.childNodes):null,o,!s&&t?t:i?i.__e:n.firstChild,s),fn(o,e)}Ft=Qe.slice,A={__e:function(e,n,t,s){for(var i,o,l;n=n.__;)if((i=n.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,s||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},Xe=0,Je=function(e){return e!=null&&e.constructor===void 0},it.prototype.setState=function(e,n){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=et({},this.state),typeof e=="function"&&(e=e(et({},t),this.props)),e&&et(t,e),e!=null&&this.__v&&(n&&this.__h.push(n),sn(this))},it.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),sn(this))},it.prototype.render=Gt,kt=[],Vt.__r=0;const xo="",Ao="";class be extends it{constructor(t){var s;super(t);w(this,rt,0);w(this,lt,null);N(this,"_handleWheel",t=>{var o;const{wheelContainer:s}=this.props,i=t.target;if(!(!i||!s)&&(typeof s=="string"&&i.closest(s)||typeof s=="object")){const l=(this.props.type==="horz"?t.deltaX:t.deltaY)*((o=this.props.wheelSpeed)!=null?o:1);this.scrollOffset(l)&&t.preventDefault()}});N(this,"_handleMouseMove",t=>{const{dragStart:s}=this.state;s&&(p(this,rt)&&cancelAnimationFrame(p(this,rt)),S(this,rt,requestAnimationFrame(()=>{const i=this.props.type==="horz"?t.clientX-s.x:t.clientY-s.y;this.scroll(s.offset+i*this.props.scrollSize/this.props.clientSize),S(this,rt,0)})),t.preventDefault())});N(this,"_handleMouseUp",()=>{this.state.dragStart&&this.setState({dragStart:!1})});N(this,"_handleMouseDown",t=>{this.state.dragStart||this.setState({dragStart:{x:t.clientX,y:t.clientY,offset:this.scrollPos}}),t.stopPropagation()});N(this,"_handleClick",t=>{const s=t.currentTarget;if(!s)return;const i=s.getBoundingClientRect(),{type:o,clientSize:l,scrollSize:c}=this.props,a=(o==="horz"?t.clientX-i.left:t.clientY-i.top)-this.barSize/2;this.scroll(a*c/l),t.preventDefault()});this.state={scrollPos:(s=this.props.defaultScrollPos)!=null?s:0,dragStart:!1}}get scrollPos(){var t;return(t=this.props.scrollPos)!=null?t:this.state.scrollPos}get controlled(){return this.props.scrollPos!==void 0}get maxScrollPos(){const{scrollSize:t,clientSize:s}=this.props;return Math.max(0,t-s)}get barSize(){const{clientSize:t,scrollSize:s,size:i=12,minBarSize:o=3*i}=this.props;return Math.max(Math.round(t*t/s),o)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:t}=this.props;t&&(S(this,lt,typeof t=="string"?document:t.current),p(this,lt).addEventListener("wheel",this._handleWheel,{passive:!1}))}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),p(this,lt)&&p(this,lt).removeEventListener("wheel",this._handleWheel)}scroll(t){return t=Math.max(0,Math.min(Math.round(t),this.maxScrollPos)),t===this.scrollPos?!1:(this.controlled?this._afterScroll(t):this.setState({scrollPos:t},this._afterScroll.bind(this,t)),!0)}scrollOffset(t){return this.scroll(this.scrollPos+t)}_afterScroll(t){var i;const{onScroll:s}=this.props;s&&s(t,(i=this.props.type)!=null?i:"vert")}render(){const{clientSize:t,type:s,size:i=12,className:o,style:l,left:c,top:a,bottom:f,right:r}=this.props,{maxScrollPos:_,scrollPos:u}=this,{dragStart:h}=this.state,d={left:c,top:a,bottom:f,right:r,...l},m={};return s==="horz"?(d.height=i,d.width=t,m.width=this.barSize,m.left=Math.round(Math.min(_,u)*(t-m.width)/_)):(d.width=i,d.height=t,m.height=this.barSize,m.top=Math.round(Math.min(_,u)*(t-m.height)/_)),b("div",{className:T("scrollbar",o,{"is-vert":s==="vert","is-horz":s==="horz","is-dragging":h}),style:d,onMouseDown:this._handleClick},b("div",{className:"scrollbar-bar",style:m,onMouseDown:this._handleMouseDown}))}}rt=new WeakMap,lt=new WeakMap;const Ho="",Lo="",No="",To="",Do="",Wo="";function Ct(e,...n){var t;if(n.length===0)return e;if(n.length===1&&typeof n[0]=="object"&&n[0]){const s=n[0];return Object.keys(s).forEach(i=>{var l;const o=(l=s[i])!=null?l:0;e=e.replace(new RegExp(`\\{${i}\\}`,"g"),`${o}`)}),e}for(let s=0;s<n.length;s++){const i=(t=n[s])!=null?t:"";e=e.replace(new RegExp(`\\{${s}\\}`,"g"),`${i}`)}return e}var ve=(e=>(e[e.B=1]="B",e[e.KB=1024]="KB",e[e.MB=1048576]="MB",e[e.GB=1073741824]="GB",e[e.TB=1099511627776]="TB",e))(ve||{});function ys(e,n=2,t=""){return Number.isNaN(e)?"?KB":(t||(e<1024?t="B":e<1048576?t="KB":e<1073741824?t="MB":e<1099511627776?t="GB":t="TB"),(e/ve[t]).toFixed(n)+t)}const ms=e=>{const n=/^[0-9]*(B|KB|MB|GB|TB)$/;e=e.toUpperCase();const t=e.match(n);if(!t)return 0;const s=t[1];return e=e.replace(s,""),Number.parseInt(e,10)*ve[s]};function bs(e){const n=typeof e=="string"?document.querySelector(e):e;if(!n)return!1;if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)return n.select(),!0;if(window.getSelection){const t=window.getSelection();if(t){const s=document.createRange();return s.selectNodeContents(n),t.removeAllRanges(),t.addRange(s),!0}}return!1}function vs(e){document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",e)}function ws(e,n){const t=typeof e=="string"?document.querySelector(e):e;if(!t)return!1;const s=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;if(n!=null&&n.fullyCheck)return s.left>=0&&s.top>=0&&s.left+s.width<=o&&s.top+s.height<=i;const l=s.top<=i&&s.top+s.height>=0,c=s.left<=o&&s.left+s.width>=0;return l&&c}const ks=Object.freeze(Object.defineProperty({__proto__:null,selectText:bs,domReady:vs,isElementVisible:ws,classes:T},Symbol.toStringTag,{value:"Module"})),Po="",jo="",zo="";class Cs extends it{render(){const{size:n,rounded:t,className:s,style:i,src:o,text:l,children:c,...a}=this.props,f=[s],r={...i};let _=null;return o?_=b("img",{src:o,alt:l}):_=l,typeof n=="number"?(r.width=n,r.height=n):typeof n=="string"&&f.push(`avatar-${n}`),typeof t=="string"&&f.push(`rounded-${t}`),b("div",{className:T(f),style:r,...a},_,c)}}let _n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,t)=>(t&=63,t<36?n+=t.toString(36):t<62?n+=(t-26).toString(36).toUpperCase():t>62?n+="-":n+="_",n),"");const Me=class{constructor(n,t="local"){w(this,gt);w(this,St,void 0);w(this,nt,void 0);w(this,K,void 0);w(this,pt,void 0);S(this,St,t),S(this,nt,`ZUI_STORE:${n!=null?n:_n()}`),S(this,K,t==="local"?localStorage:sessionStorage)}get type(){return p(this,St)}get session(){return this.type==="session"?this:(p(this,pt)||S(this,pt,new Me(p(this,nt),"session")),p(this,pt))}get(n,t){const s=p(this,K).getItem(U(this,gt,_e).call(this,n));return typeof s=="string"?JSON.parse(s):s!=null?s:t}set(n,t){if(t==null)return this.remove(n);p(this,K).setItem(U(this,gt,_e).call(this,n),JSON.stringify(t))}remove(n){p(this,K).removeItem(U(this,gt,_e).call(this,n))}each(n){for(let t=0;t<p(this,K).length;t++){const s=p(this,K).key(t);if(s!=null&&s.startsWith(p(this,nt))){const i=p(this,K).getItem(s);typeof i=="string"&&n(s.substring(p(this,nt).length+1),JSON.parse(i))}}}getAll(){const n={};return this.each((t,s)=>{n[t]=s}),n}};let Xt=Me;St=new WeakMap,nt=new WeakMap,K=new WeakMap,pt=new WeakMap,gt=new WeakSet,_e=function(n){return`${p(this,nt)}:${n}`};const pn=new Xt("DEFAULT");function $s(e,n="local"){return new Xt(e,n)}Object.assign(pn,{create:$s});const Io="",Oo="";function Rs(){const e=typeof window.innerWidth=="number"?window.innerWidth-document.body.clientWidth:17;document.body.style.paddingRight=`${e}px`,document.body.classList.add("modal-open")}function Es(){document.body.style.paddingRight="",document.body.classList.remove("modal-open")}function Ss(e,n){Rs(),e.classList.add("block"),yn(e,n),e.onclick=t=>Ms(t,e),window.addEventListener("resize",()=>{yn(e,n)})}function gn(e){var n;Es(),(n=e.classList)==null||n.remove("block")}function yn(e,n){const t=e.querySelector(".modal-dialog");if(!t)return;const s=Math.max(0,(window.innerHeight-t.clientHeight)/2);if(n==="fit"){t.style.top=`${s>50?Math.floor(s*2/3):s}px`;return}if(n==="center"){t.style.top=`${s}px`;return}t.style.top=n}function Ms(e,n){e.target.closest("[data-dismiss=modal]")&&(e.stopPropagation(),gn(n))}function xs(e){var n,t;return e instanceof HTMLAnchorElement?(t=(n=(e.href||"").match(/(?<selector>#\S+)$/))==null?void 0:n.groups)==null?void 0:t.selector:e.dataset.target}document.addEventListener("click",e=>{const n=e.target,t=n.closest("[data-toggle=modal]");if(t){const s=xs(t);if(!s)return;const i=document.querySelector(s);if(!i)return;Ss(i,t.dataset.position||"fit")}else n.className.includes("modal")&&gn(n)});const Bo="",Uo="",Fo="",qo="",Ko="",Go="",Vo="",Yo="",Xo="",Jo="",Zo="";function mn(){document.querySelectorAll(".dropdown-menu").forEach(n=>{var t;(t=n.parentElement)==null||t.classList.remove("open")})}function As(e){const n=e.parentElement,t=e.nextElementSibling;!n||!t||n.classList.contains("dropdown-hover")||(n.className.includes("open")?n.classList.remove("open"):(mn(),n.classList.add("open")))}document.addEventListener("click",function(e){const t=e.target.closest("[data-toggle=dropdown]");t?As(t):mn()});function Hs(e,n,t){return e&&(n&&(e=Math.max(n,e)),t&&(e=Math.min(t,e))),e}function we({col:e,className:n,height:t,row:s,onRenderCell:i,style:o,outerStyle:l,children:c,outerClass:a,...f}){var v,D;const r={left:e.left,width:e.realWidth,height:t,...l},{align:_,border:u}=e.setting,h={justifyContent:_?_==="left"?"start":_==="right"?"end":_:void 0,...e.setting.cellStyle,...o},d=["dtable-cell",a,e.setting.className,{"has-border-left":u===!0||u==="left","has-border-right":u===!0||u==="right"}],m=["dtable-cell-content",n],g=[(D=c!=null?c:(v=s.data)==null?void 0:v[e.name])!=null?D:""],y=i?i(g,{row:s,col:e},b):g,R=[],C=[],H={},L={};return y==null||y.forEach(E=>{var Nt;if(typeof E=="object"&&E&&!Je(E)&&("html"in E||"className"in E||"style"in E||"attrs"in E||"children"in E)){const Tt=E.outer?R:C;E.html?Tt.push(b("div",{className:T("dtable-cell-html",E.className),style:E.style,dangerouslySetInnerHTML:{__html:E.html},...(Nt=E.attrs)!=null?Nt:{}})):(E.style&&Object.assign(E.outer?r:h,E.style),E.className&&(E.outer?d:m).push(E.className),E.children&&Tt.push(E.children),E.attrs&&Object.assign(E.outer?H:L,E.attrs))}else C.push(E)}),b("div",{className:T(d),style:r,"data-col":e.name,...f,...H},C.length>0&&b("div",{className:T(m),style:h,...L},C),R)}function Ls({col:e,children:n,style:t,...s}){var o;const{sortType:i}=e.setting;return b(we,{col:e,style:{...t,...e.setting.style},"data-sort":i||null,"data-type":e.type,...s},(o=e.setting.title)!=null?o:e.setting.name,i&&b("div",{className:`dtable-sort dtable-sort-${i===!0?"none":i}`}),n)}function ke({row:e,className:n,top:t=0,left:s=0,width:i,height:o,cols:l,CellComponent:c=we,onRenderCell:a}){return b("div",{className:T("dtable-cells",n),style:{top:t,left:s,width:i,height:o}},l.map(f=>f.visible?b(c,{key:f.name,col:f,row:e,onRenderCell:a}):null))}function bn({row:e,className:n,top:t,height:s,fixedLeftCols:i,fixedRightCols:o,scrollCols:l,fixedLeftWidth:c,scrollWidth:a,scrollColsWidth:f,fixedRightWidth:r,scrollLeft:_,CellComponent:u=we,onRenderCell:h,style:d,...m}){let g=null;i!=null&&i.length&&(g=b(ke,{className:"dtable-fixed-left",cols:i,width:c,row:e,CellComponent:u,onRenderCell:h}));let y=null;l!=null&&l.length&&(y=b(ke,{className:"dtable-flexable",cols:l,left:c-_,width:f,row:e,CellComponent:u,onRenderCell:h}));let R=null;o!=null&&o.length&&(R=b(ke,{className:"dtable-fixed-right",cols:o,left:c+a,width:r,row:e,CellComponent:u,onRenderCell:h}));const C={top:t,height:s,lineHeight:`${s-2}px`,...d};return b("div",{className:T("dtable-row",n),style:C,"data-id":e.id,...m},g,y,R)}function Ns({height:e,onRenderRow:n,...t}){const s={height:e,...t,row:{id:"HEADER",index:-1,top:0},className:"dtable-in-header",top:0,CellComponent:Ls};if(n){const i=n({props:s},b);i&&Object.assign(s,i)}return b("div",{className:"dtable-header",style:{height:e}},b(bn,{...s}))}function Ts({className:e,style:n,top:t,rows:s,height:i,rowHeight:o,scrollTop:l,onRenderRow:c,...a}){return n={...n,top:t,height:i},b("div",{className:T("dtable-rows",e),style:n},s.map(f=>{const r={className:`dtable-row-${f.index%2?"odd":"even"}`,row:f,top:f.top-l,height:o,...a},_=c==null?void 0:c({props:r,row:f},b);return _&&Object.assign(r,_),b(bn,{...r})}))}const Jt=new Map,Zt=[];function vn(e,n){const{name:t}=e;if(!(n!=null&&n.override)&&Jt.has(t))throw new Error(`DTable: Plugin with name ${t} already exists`);Jt.set(t,e),(n==null?void 0:n.buildIn)&&!Zt.includes(t)&&Zt.push(t)}function $t(e,n){vn(e,n);const t=s=>{if(!s)return e;const{defaultOptions:i,...o}=e;return{...o,defaultOptions:{...i,...s}}};return t.plugin=e,t}function wn(e){return Jt.delete(e)}function Ds(e){if(typeof e=="string"){const n=Jt.get(e);return n||console.warn(`DTable: Cannot found plugin "${e}"`),n}if(typeof e=="function"&&"plugin"in e)return e.plugin;if(typeof e=="object")return e;console.warn("DTable: Invalid plugin",e)}function kn(e,n,t){return n.forEach(s=>{var o;if(!s)return;const i=Ds(s);!i||t.has(i.name)||((o=i.plugins)!=null&&o.length&&kn(e,i.plugins,t),e.push(i),t.add(i.name))}),e}function Ws(e=[],n=!0){return n&&Zt.length&&e.unshift(...Zt),e!=null&&e.length?kn([],e,new Set):[]}function Cn(){return{cols:[],data:[],rowKey:"id",width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:9999,header:!0,footer:!1,headerHeight:0,footerHeight:0,rowHover:!0,colHover:!1,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,horzScrollbarPos:"outside"}}const Qo="",ti="";class Ce extends it{constructor(t){var s;super(t);w(this,ee);w(this,ne);w(this,se);w(this,oe);w(this,xt);w(this,ae);w(this,he);w(this,fe);N(this,"ref",en());w(this,ct,0);w(this,yt,void 0);w(this,st,!1);w(this,X,void 0);w(this,ot,void 0);w(this,z,[]);w(this,G,void 0);w(this,V,new Map);w(this,mt,{});w(this,Mt,void 0);N(this,"updateLayout",()=>{p(this,ct)&&cancelAnimationFrame(p(this,ct)),S(this,ct,requestAnimationFrame(()=>{S(this,G,void 0),this.forceUpdate(),S(this,ct,0)}))});w(this,J,(t,s)=>{s=s||t.type;const i=p(this,V).get(s);if(!!(i!=null&&i.length)){for(const o of i)if(o.call(this,t)===!1){t.stopPropagation(),t.preventDefault();break}}});w(this,bt,t=>{p(this,J).call(this,t,`window_${t.type}`)});w(this,vt,t=>{p(this,J).call(this,t,`document_${t.type}`)});w(this,ie,(t,s)=>{if(this.options.onRenderRow){const i=this.options.onRenderRow.call(this,t,s);i&&Object.assign(t.props,i)}return p(this,z).forEach(i=>{if(i.onRenderRow){const o=i.onRenderRow.call(this,t,s);o&&Object.assign(t.props,o)}}),t.props});w(this,re,(t,s)=>(this.options.onRenderHeaderRow&&(t.props=this.options.onRenderHeaderRow.call(this,t,s)),p(this,z).forEach(i=>{i.onRenderHeaderRow&&(t.props=i.onRenderHeaderRow.call(this,t,s))}),t.props));w(this,At,(t,s,i)=>{const{row:o,col:l}=s;t[0]=this.getCellValue(o,l);const c=o.id==="HEADER"?"onRenderHeaderCell":"onRenderCell";return l.setting[c]&&(t=l.setting[c].call(this,t,s,i)),this.options[c]&&(t=this.options[c].call(this,t,s,i)),p(this,z).forEach(a=>{a[c]&&(t=a[c].call(this,t,s,i))}),t});w(this,Ht,(t,s)=>{s==="horz"?this.scroll({scrollLeft:t}):this.scroll({scrollTop:t})});w(this,le,t=>{var c,a,f,r,_;const s=this.getPointerInfo(t);if(!s)return;const{rowID:i,colName:o,cellElement:l}=s;if(i==="HEADER")l&&((c=this.options.onHeaderCellClick)==null||c.call(this,t,{colName:o,element:l}),p(this,z).forEach(u=>{var h;(h=u.onHeaderCellClick)==null||h.call(this,t,{colName:o,element:l})}));else{const{rowElement:u}=s,h=this.layout.visibleRows.find(d=>d.id===i);if(l){if(((a=this.options.onCellClick)==null?void 0:a.call(this,t,{colName:o,rowID:i,rowInfo:h,element:l,rowElement:u}))===!0)return;for(const d of p(this,z))if(((f=d.onCellClick)==null?void 0:f.call(this,t,{colName:o,rowID:i,rowInfo:h,element:l,rowElement:u}))===!0)return}if(((r=this.options.onRowClick)==null?void 0:r.call(this,t,{rowID:i,rowInfo:h,element:u}))===!0)return;for(const d of p(this,z))if(((_=d.onRowClick)==null?void 0:_.call(this,t,{rowID:i,rowInfo:h,element:u}))===!0)return}});w(this,ce,t=>{const s=t.key.toLowerCase();if(["pageup","pagedown","home","end"].includes(s))return!this.scroll({to:s.replace("page","")})});S(this,yt,(s=t.id)!=null?s:`dtable-${_n(10)}`),this.state={scrollTop:0,scrollLeft:0},S(this,ot,Object.freeze(Ws(t.plugins))),p(this,ot).forEach(i=>{var a;const{methods:o,data:l,state:c}=i;o&&Object.entries(o).forEach(([f,r])=>{typeof r=="function"&&Object.assign(this,{[f]:r.bind(this)})}),l&&Object.assign(p(this,mt),l.call(this)),c&&Object.assign(this.state,c.call(this)),(a=i.onCreate)==null||a.call(this,i)})}get options(){var t;return((t=p(this,G))==null?void 0:t.options)||p(this,X)||Cn()}get plugins(){return p(this,z)}get layout(){return p(this,G)}get id(){return p(this,yt)}get data(){return p(this,mt)}get parent(){var t,s;return(s=this.props.parent)!=null?s:(t=this.ref.current)==null?void 0:t.parentElement}componentWillReceiveProps(){S(this,X,void 0)}componentDidMount(){if(p(this,st)?this.forceUpdate():U(this,xt,Ne).call(this),p(this,z).forEach(t=>{let{events:s}=t;!s||(typeof s=="function"&&(s=s.call(this)),Object.entries(s).forEach(([i,o])=>{o&&this.on(i,o)}))}),this.on("click",p(this,le)),this.on("keydown",p(this,ce)),this.options.responsive)if(typeof ResizeObserver<"u"){const{parent:t}=this;if(t){const s=new ResizeObserver(this.updateLayout);s.observe(t),S(this,Mt,s)}}else this.on("window_resize",this.updateLayout);p(this,z).forEach(t=>{var s;(s=t.onMounted)==null||s.call(this)})}componentDidUpdate(){p(this,st)?U(this,xt,Ne).call(this):p(this,z).forEach(t=>{var s;(s=t.onUpdated)==null||s.call(this)})}componentWillUnmount(){var s;(s=p(this,Mt))==null||s.disconnect();const{current:t}=this.ref;if(t)for(const i of p(this,V).keys())i.startsWith("window_")?window.removeEventListener(i.replace("window_",""),p(this,bt)):i.startsWith("document_")?document.removeEventListener(i.replace("document_",""),p(this,vt)):t.removeEventListener(i,p(this,J));p(this,z).forEach(i=>{var o;(o=i.onUnmounted)==null||o.call(this)}),p(this,ot).forEach(i=>{var o;(o=i.onDestory)==null||o.call(this)}),S(this,mt,{}),p(this,V).clear()}on(t,s,i){var l;i&&(t=`${i}_${t}`);const o=p(this,V).get(t);o?o.push(s):(p(this,V).set(t,[s]),t.startsWith("window_")?window.addEventListener(t.replace("window_",""),p(this,bt)):t.startsWith("document_")?document.addEventListener(t.replace("document_",""),p(this,vt)):(l=this.ref.current)==null||l.addEventListener(t,p(this,J)))}off(t,s,i){var c;i&&(t=`${i}_${t}`);const o=p(this,V).get(t);if(!o)return;const l=o.indexOf(s);l>=0&&o.splice(l,1),o.length||(p(this,V).delete(t),t.startsWith("window_")?window.removeEventListener(t.replace("window_",""),p(this,bt)):t.startsWith("document_")?document.removeEventListener(t.replace("document_",""),p(this,vt)):(c=this.ref.current)==null||c.removeEventListener(t,p(this,J)))}emitCustomEvent(t,s){p(this,J).call(this,s instanceof Event?s:new CustomEvent(t,{detail:s}),t)}scroll(t,s){const{scrollLeft:i,scrollTop:o,rowsHeightTotal:l,rowsHeight:c,rowHeight:a,colsInfo:{scrollWidth:f,scrollColsWidth:r}}=this.layout,{to:_}=t;let{scrollLeft:u,scrollTop:h}=t;if(_==="up"||_==="down")h=o+(_==="down"?1:-1)*Math.floor(c/a)*a;else if(_==="left"||_==="right")u=i+(_==="right"?1:-1)*f;else if(_==="home")h=0;else if(_==="end")h=l-c;else if(_==="left-begin")u=0;else if(_==="right-end")u=r-f;else{const{offsetLeft:m,offsetTop:g}=t;typeof m=="number"&&(u=i+m),typeof g=="number"&&(u=o+g)}const d={};return typeof u=="number"&&(u=Math.max(0,Math.min(u,r-f)),u!==i&&(d.scrollLeft=u)),typeof h=="number"&&(h=Math.max(0,Math.min(h,l-c)),h!==o&&(d.scrollTop=h)),Object.keys(d).length?(this.setState(d,()=>{var m;(m=this.options.onScroll)==null||m.call(this,d),s==null||s.call(this,!0)}),!0):(s==null||s.call(this,!1),!1)}getColInfo(t){if(t===void 0)return;if(typeof t=="object")return t;const{colsMap:s,colsList:i}=this.layout;return typeof t=="number"?i[t]:s[t]}getRowInfo(t){if(t===void 0)return;if(typeof t=="object")return t;if(t===-1||t==="HEADER")return{id:"HEADER",index:-1,top:0};const{rows:s,rowsMap:i}=this.layout;return typeof t=="number"?s[t]:i[t]}getCellValue(t,s){var a,f;const i=typeof t=="object"?t:this.getRowInfo(t);if(!i)return;const o=typeof s=="object"?s:this.getColInfo(s);if(!o)return;let l=i.id==="HEADER"?(a=o.setting.title)!=null?a:o.setting.name:(f=i.data)==null?void 0:f[o.name];const{cellValueGetter:c}=this.options;return c&&(l=c.call(this,i,o,l)),l}getRowInfoByIndex(t){return this.layout.rows[t]}update(t={},s){const{dirtyType:i,state:o}=t;i==="layout"?S(this,G,void 0):i==="options"&&(S(this,G,void 0),S(this,X,void 0)),o?this.setState({...o},s):this.forceUpdate(s)}getPointerInfo(t){const s=t.target;if(!s||s.closest(".no-cell-event"))return;const i=s.closest(".dtable-cell");if(!i)return;const o=i.closest(".dtable-row");if(!o)return;const l=i==null?void 0:i.getAttribute("data-col"),c=o==null?void 0:o.getAttribute("data-id");if(!(typeof l!="string"||typeof c!="string"))return{cellElement:i,rowElement:o,colName:l,rowID:c,target:s}}render(){var h;const t=U(this,fe,Qn).call(this),{className:s,rowHover:i,colHover:o,cellHover:l,bordered:c,striped:a,scrollbarHover:f}=this.options,r={width:t==null?void 0:t.width,height:t==null?void 0:t.height},_=["dtable",s,{"dtable-hover-row":i,"dtable-hover-col":o,"dtable-hover-cell":l,"dtable-bordered":c,"dtable-striped":a,"dtable-scrolled-down":((h=t==null?void 0:t.scrollTop)!=null?h:0)>0,"scrollbar-hover":f}],u=[];return t&&p(this,z).forEach(d=>{var g;const m=(g=d.onRender)==null?void 0:g.call(this,t);!m||(m.style&&Object.assign(r,m.style),m.className&&_.push(m.className),m.children&&u.push(m.children))}),b("div",{id:p(this,yt),className:T(_),style:r,ref:this.ref,tabIndex:-1},t&&U(this,ee,Gn).call(this,t),t&&U(this,ne,Vn).call(this,t),t&&U(this,se,Yn).call(this,t),t&&U(this,oe,Xn).call(this,t))}}ct=new WeakMap,yt=new WeakMap,st=new WeakMap,X=new WeakMap,ot=new WeakMap,z=new WeakMap,G=new WeakMap,V=new WeakMap,mt=new WeakMap,Mt=new WeakMap,J=new WeakMap,bt=new WeakMap,vt=new WeakMap,ee=new WeakSet,Gn=function(t){const{header:s,colsInfo:i,headerHeight:o,scrollLeft:l}=t;if(!s)return null;if(s===!0)return b(Ns,{scrollLeft:l,height:o,onRenderCell:p(this,At),onRenderRow:p(this,re),...i});let c,a;if(typeof s=="function"){const f=s(t,this.state);typeof f=="object"&&f&&"__html"in f?a=f:c=f}else c=s;return b("div",{className:"dtable-header",style:{height:o},dangerouslySetInnerHTML:a},c)},ne=new WeakSet,Vn=function(t){const{headerHeight:s,rowsHeight:i,visibleRows:o,rowHeight:l,colsInfo:c,scrollLeft:a,scrollTop:f}=t;return b(Ts,{top:s,height:i,rows:o,rowHeight:l,scrollLeft:a,scrollTop:f,onRenderCell:p(this,At),onRenderRow:p(this,ie),...c})},se=new WeakSet,Yn=function(t){const{footer:s,footerHeight:i}=t;if(!s)return null;let o,l;if(typeof s=="function"){const c=s(t,this.state);typeof c=="object"&&c&&"__html"in c?l=c:o=c}else o=s;return b("div",{className:"dtable-footer",style:{height:i},dangerouslySetInnerHTML:l},o)},oe=new WeakSet,Xn=function(t){const s=[],{scrollLeft:i,colsInfo:o,scrollTop:l,rowsHeight:c,rowsHeightTotal:a}=t,{scrollColsWidth:f,scrollWidth:r}=o,{scrollbarSize:_=12,horzScrollbarPos:u}=this.options;return f>r&&s.push(b(be,{key:"horz",type:"horz",scrollPos:i,scrollSize:f,clientSize:r,onScroll:p(this,Ht),left:o.fixedLeftWidth,bottom:u==="inside"?0:-_,size:_,wheelContainer:this.ref})),a>c&&s.push(b(be,{key:"vert",type:"vert",scrollPos:l,scrollSize:a,clientSize:c,onScroll:p(this,Ht),right:0,size:_,top:t.headerHeight,wheelContainer:this.ref})),s.length?s:null},xt=new WeakSet,Ne=function(){var t;S(this,st,!1),(t=this.options.afterRender)==null||t.call(this),p(this,z).forEach(s=>{var i;return(i=s.afterRender)==null?void 0:i.call(this)})},ie=new WeakMap,re=new WeakMap,At=new WeakMap,Ht=new WeakMap,le=new WeakMap,ce=new WeakMap,ae=new WeakSet,Jn=function(){if(p(this,X))return!1;const s={...Cn(),...p(this,ot).reduce((i,o)=>{const{defaultOptions:l}=o;return l&&Object.assign(i,l),i},{}),...this.props};return S(this,X,s),S(this,z,p(this,ot).reduce((i,o)=>{const{when:l,options:c}=o;return(!l||l(s))&&(i.push(o),c&&Object.assign(s,typeof c=="function"?c.call(this,s):c)),i},[])),!0},he=new WeakSet,Zn=function(){var In,On;const{plugins:t}=this;let s=p(this,X);t.forEach(k=>{var O;const j=(O=k.beforeLayout)==null?void 0:O.call(this,s);j&&(s={...s,...j})});const{defaultColWidth:i,minColWidth:o,maxColWidth:l}=s,c=[],a=[],f=[],r={},_=[],u=[];let h=0,d=0,m=0;s.cols.forEach(k=>{if(k.hidden)return;const{name:j,type:O="",fixed:Q=!1,flex:ht=!1,width:Wt=i,minWidth:ue=o,maxWidth:Bn=l,...Js}=k,Zs=Hs(Wt,ue,Bn),W={name:j,type:O,setting:{name:j,type:O,fixed:Q,flex:ht,width:Wt,minWidth:ue,maxWidth:Bn,...Js},flex:Q?0:ht===!0?1:typeof ht=="number"?ht:0,left:0,width:Zs,realWidth:0,visible:!0,index:_.length};t.forEach(Un=>{var Fn,qn;const de=(Fn=Un.colTypes)==null?void 0:Fn[O];if(de){const Kn=typeof de=="function"?de(W):de;Kn&&Object.assign(W.setting,Kn)}(qn=Un.onAddCol)==null||qn.call(this,W)}),W.realWidth=W.realWidth||W.width,Q==="left"?(W.left=h,h+=W.width,c.push(W)):Q==="right"?(W.left=d,d+=W.width,a.push(W)):(W.left=m,m+=W.width,f.push(W)),W.flex&&u.push(W),_.push(W),r[W.name]=W});let g=s.width,y=0;const R=h+m+d;if(typeof g=="function"&&(g=g.call(this,R)),g==="auto")y=R;else if(g==="100%"){const{parent:k}=this;if(k)y=k.clientWidth;else{y=0,S(this,st,!0);return}}else y=g!=null?g:0;const{data:C,rowKey:H="id",rowHeight:L}=s,v=[],D=(k,j,O)=>{var ht,Wt;const Q={data:O!=null?O:{[H]:k},id:k,index:v.length,top:0};if(O||(Q.lazy=!0),v.push(Q),((ht=s.onAddRow)==null?void 0:ht.call(this,Q,j))!==!1){for(const ue of t)if(((Wt=ue.onAddRow)==null?void 0:Wt.call(this,Q,j))===!1)return}};if(typeof C=="number")for(let k=0;k<C;k++)D(`${k}`,k);else Array.isArray(C)&&C.forEach((k,j)=>{var O;typeof k=="object"?D(`${(O=k[H])!=null?O:""}`,j,k):D(`${k!=null?k:""}`,j)});let E=v;const Nt={};if(s.onAddRows){const k=s.onAddRows.call(this,E);k&&(E=k)}for(const k of t){const j=(In=k.onAddRows)==null?void 0:In.call(this,E);j&&(E=j)}E.forEach((k,j)=>{Nt[k.id]=k,k.index=j,k.top=k.index*L});const{header:Tt,footer:Pn}=s,xe=Tt?s.headerHeight||L:0,Ae=Pn?s.footerHeight||L:0;let Z=s.height,at=0;const jn=E.length*L,He=xe+Ae+jn;if(typeof Z=="function"&&(Z=Z.call(this,He)),Z==="auto")at=He;else if(typeof Z=="object")at=Math.min(Z.max,Math.max(Z.min,He));else if(Z==="100%"){const{parent:k}=this;if(k)at=k.clientHeight;else{at=0,S(this,st,!0);return}}else at=Z;const Ys=at-xe-Ae,Xs=y-h-d,Dt={options:s,allRows:v,width:y,height:at,rows:E,rowsMap:Nt,rowHeight:L,rowsHeight:Ys,rowsHeightTotal:jn,header:Tt,footer:Pn,headerHeight:xe,footerHeight:Ae,colsMap:r,colsList:_,flexCols:u,colsInfo:{fixedLeftCols:c,fixedRightCols:a,scrollCols:f,fixedLeftWidth:h,scrollWidth:Xs,scrollColsWidth:m,fixedRightWidth:d}},zn=(On=s.onLayout)==null?void 0:On.call(this,Dt);zn&&Object.assign(Dt,zn),t.forEach(k=>{if(k.onLayout){const j=k.onLayout.call(this,Dt);j&&Object.assign(Dt,j)}}),S(this,G,Dt)},fe=new WeakSet,Qn=function(){(U(this,ae,Jn).call(this)||!p(this,G))&&U(this,he,Zn).call(this);const{layout:t}=this;if(!t)return;let{scrollLeft:s}=this.state;const{flexCols:i,colsInfo:{scrollCols:o,scrollWidth:l,scrollColsWidth:c}}=t;if(i.length){const C=l-c;if(C>0){const H=i.reduce((v,D)=>v+D.flex,0);let L=0;i.forEach(v=>{const D=Math.min(C-L,Math.ceil(C*(v.flex/H)));v.realWidth=D+v.width,L+=v.realWidth})}else i.forEach(H=>{H.realWidth=H.width})}s=Math.min(Math.max(0,c-l),s);let a=0;o.forEach(C=>{C.left=a,a+=C.realWidth,C.visible=C.left+C.realWidth>=s&&C.left<=s+l});const{rowsHeightTotal:f,rowsHeight:r,rows:_,rowHeight:u}=t,h=Math.min(Math.max(0,f-r),this.state.scrollTop),d=Math.floor(h/u),m=h+r,g=Math.min(_.length,Math.ceil(m/u)),y=[],{rowDataGetter:R}=this.options;for(let C=d;C<g;C++){const H=_[C];H.lazy&&R&&(H.data=R([H.id])[0],H.lazy=!1),y.push(H)}return t.visibleRows=y,t.scrollTop=h,t.scrollLeft=s,t},N(Ce,"addPlugin",vn),N(Ce,"removePlugin",wn);function $n(e,n){n!==void 0?e.data.hoverCol=n:n=e.data.hoverCol;const{current:t}=e.ref;if(!t)return;const s="dtable-col-hover";t.querySelectorAll(`.${s}`).forEach(i=>i.classList.remove(s)),typeof n=="string"&&n.length&&t.querySelectorAll(`.dtable-cell[data-col="${n}"]`).forEach(i=>i.classList.add(s))}const Rn={name:"col-hover",defaultOptions:{colHover:!1},when:e=>!!e.colHover,events:{mouseover(e){var i,o;const{colHover:n}=this.options;if(!n)return;const t=(i=e.target)==null?void 0:i.closest(".dtable-cell");if(!t||n==="header"&&!t.closest(".dtable-header"))return;const s=(o=t==null?void 0:t.getAttribute("data-col"))!=null?o:!1;$n(this,s)},mouseleave(){$n(this,!1)}}};$t(Rn,{buildIn:!0});const ei="";function Ps(e,n){var l,c;typeof e=="boolean"&&(n=e,e=void 0);const t=this.state.checkedRows,s={},{canRowCheckable:i}=this.options,o=(a,f)=>{i&&!i.call(this,a)||!!t[a]===f||(f?t[a]=!0:delete t[a],s[a]=f)};if(e===void 0?(n===void 0&&(n=!En.call(this)),(l=this.layout)==null||l.allRows.forEach(({id:a})=>{o(a,!!n)})):(Array.isArray(e)||(e=[e]),e.forEach(a=>{o(a,n!=null?n:!t[a])})),Object.keys(s).length){const a=(c=this.options.beforeCheckRows)==null?void 0:c.call(this,e,s,t);a&&Object.keys(a).forEach(f=>{a[f]?t[f]=!0:delete t[f]}),this.setState({checkedRows:{...t}},()=>{var f;(f=this.options.onCheckChange)==null||f.call(this,s)})}return s}function js(e){var n;return(n=this.state.checkedRows[e])!=null?n:!1}function En(){var t,s;const e=this.getChecks().length,{canRowCheckable:n}=this.options;return n?e===((t=this.layout)==null?void 0:t.allRows.reduce((i,o)=>i+(n.call(this,o.id)?1:0),0)):e===((s=this.layout)==null?void 0:s.allRows.length)}function zs(){return Object.keys(this.state.checkedRows)}const Sn={name:"checkable",defaultOptions:{checkable:!0},when:e=>!!e.checkable,state(){return{checkedRows:{}}},methods:{toggleCheckRows:Ps,isRowChecked:js,isAllRowChecked:En,getChecks:zs},onRenderCell(e,{row:n,col:t}){var c,a;const{id:s}=n,{canRowCheckable:i}=this.options;if(i&&!i.call(this,s))return e;const{checkbox:o}=t.setting;if(typeof o=="function"?o.call(this,s):o){const f=this.isRowChecked(s),r=(a=(c=this.options.checkboxRender)==null?void 0:c.call(this,f,s))!=null?a:b("input",{type:"checkbox",checked:f});e.unshift(r),e.push({className:"has-checkbox"})}return e},onRenderHeaderCell(e,{row:n,col:t}){var l,c;const{id:s}=n,{checkbox:i}=t.setting;if(typeof i=="function"?i.call(this,s):i){const a=this.isAllRowChecked(),f=(c=(l=this.options.checkboxRender)==null?void 0:l.call(this,a,s))!=null?c:b("input",{type:"checkbox",checked:a});e.unshift(f),e.push({className:"has-checkbox"})}return e},onRenderRow({props:e,row:n}){if(!!this.isRowChecked(n.id))return{className:T(e.className,"is-checked")}},onHeaderCellClick(e){const n=e.target;if(!n)return;const t=n.closest('input[type="checkbox"],.dtable-checkbox');t&&this.toggleCheckRows(t.checked)},onRowClick(e,{rowID:n}){const t=e.target;if(!t)return;(t.closest('input[type="checkbox"],.dtable-checkbox')||this.options.checkOnClickRow)&&this.toggleCheckRows(n)}};$t(Sn);const ni="";function $e(e){const n=this.data.nestedMap.get(e);if(!n||n.state!=="")return n!=null?n:{state:"normal",level:-1};if(!n.parent&&!n.children)return n.state="normal",n;const t=this.state.collapsedRows,s=n.children&&t&&t[e];let i=!1,{parent:o}=n;for(;o;){const l=$e.call(this,o);if(l.state!=="expanded"){i=!0;break}o=l.parent}return n.state=i?"hidden":s?"collapsed":n.children?"expanded":"normal",n.level=n.parent?$e.call(this,n.parent).level+1:0,n}function Is(e,n){var i;let t=(i=this.state.collapsedRows)!=null?i:{};const{nestedMap:s}=this.data;if(e==="HEADER")if(n===void 0&&(n=!Mn.call(this)),n){const o=s.entries();for(const[l,c]of o)c.state==="expanded"&&(t[l]=!0)}else t={};else{const o=Array.isArray(e)?e:[e];n===void 0&&(n=!t[o[0]]),o.forEach(l=>{const c=s.get(l);n&&(c==null?void 0:c.children)?t[l]=!0:delete t[l]})}this.update({dirtyType:"layout",state:{collapsedRows:{...t}}},()=>{var o;(o=this.options.onNestedChange)==null||o.call(this)})}function Mn(){const e=this.data.nestedMap.values();for(const n of e)if(n.state==="expanded")return!1;return!0}function xn(e,n=0,t,s=0){var i;t||(t=[...e.keys()]);for(const o of t){const l=e.get(o);!l||(l.level===s&&(l.order=n++),(i=l.children)!=null&&i.length&&(n=xn(e,n,l.children,s+1)))}return n}function An(e,n,t,s){const i=e.getNestedRowInfo(n);return!i||i.state===""||!i.children||i.children.forEach(o=>{s[o]=t,An(e,o,t,s)}),i}function Hn(e,n,t,s,i){var c;const o=e.getNestedRowInfo(n);if(!o||o.state==="")return;((c=o.children)==null?void 0:c.every(a=>{const f=!!(s[a]!==void 0?s[a]:i[a]);return t===f}))&&(s[n]=t),o.parent&&Hn(e,o.parent,t,s,i)}const Ln={name:"nested",defaultOptions:{nested:!0,nestedParentKey:"parent",asParentKey:"asParent",nestedIndent:20,canSortTo(e,n){const{nestedMap:t}=this.data,s=t.get(e.id),i=t.get(n.id);return(s==null?void 0:s.parent)===(i==null?void 0:i.parent)},beforeCheckRows(e,n,t){if(!this.options.checkable||!(e!=null&&e.length))return;const s={};return Object.entries(n).forEach(([i,o])=>{const l=An(this,i,o,s);l!=null&&l.parent&&Hn(this,l.parent,o,s,t)}),s}},when:e=>!!e.nested,data(){return{nestedMap:new Map}},methods:{toggleRow:Is,isAllCollapsed:Mn,getNestedRowInfo:$e},beforeLayout(){this.data.nestedMap.clear()},onAddRow(e){var i,o,l,c,a;const{nestedMap:n}=this.data,t=(o=e.data)==null?void 0:o[(i=this.options.nestedParentKey)!=null?i:"parent"],s=(l=n.get(e.id))!=null?l:{state:"",level:0};if(s.parent=t,(a=e.data)!=null&&a[(c=this.options.asParentKey)!=null?c:"asParent"]&&(s.children=[]),n.set(e.id,s),t){let f=n.get(t);f||(f={state:"",level:0},n.set(t,f)),f.children||(f.children=[]),f.children.push(e.id)}},onAddRows(e){return e=e.filter(n=>this.getNestedRowInfo(n.id).state!=="hidden"),xn(this.data.nestedMap),e.sort((n,t)=>{var l,c;const s=this.getNestedRowInfo(n.id),i=this.getNestedRowInfo(t.id),o=((l=s.order)!=null?l:0)-((c=i.order)!=null?c:0);return o===0?n.index-t.index:o}),e},onRenderCell(e,{col:n,row:t}){var c,a,f;const{id:s,data:i}=t,{nestedToggle:o}=n.setting,l=this.getNestedRowInfo(s);if(o&&(l.children||l.parent)&&e.unshift((a=(c=this.options.onRenderNestedToggle)==null?void 0:c.call(this,l,s,n,i))!=null?a:b("a",{role:"button",className:`dtable-nested-toggle state${l.children?"":" is-no-child"}`},b("span",{className:"dtable-nested-toggle-icon"}))),l.level){let{nestedIndent:r=o}=n.setting;r&&(r===!0&&(r=(f=this.options.nestedIndent)!=null?f:12),e.unshift(b("div",{className:"dtable-nested-indent",style:{width:r*l.level+"px"}})))}return e},onRenderHeaderCell(e,{row:n,col:t}){var i,o;const{id:s}=n;return t.setting.nestedToggle&&e.unshift((o=(i=this.options.onRenderNestedToggle)==null?void 0:i.call(this,void 0,s,t,void 0))!=null?o:b("a",{type:"button",className:"dtable-nested-toggle state"},b("span",{className:"dtable-nested-toggle-icon"}))),e},onRenderRow({props:e,row:n}){const t=this.getNestedRowInfo(n.id);return{className:T(e.className,`is-nested-${t.state}`),"data-parent":t.parent}},onRenderHeaderRow({props:e}){return e.className=T(e.className,`is-nested-${this.isAllCollapsed()?"collapsed":"expanded"}`),e},onHeaderCellClick(e){const n=e.target;if(!(!n||!n.closest(".dtable-nested-toggle")))return this.toggleRow("HEADER"),!0},onCellClick(e,{rowID:n}){const t=e.target;if(!(!t||!this.getNestedRowInfo(n).children||!t.closest(".dtable-nested-toggle")))return this.toggleRow(n),!0}};$t(Ln);const q=24*60*60*1e3,I=e=>e?(e instanceof Date||(typeof e=="string"&&(e=e.trim(),/^\d+$/.test(e)&&(e=Number.parseInt(e,10))),typeof e=="number"&&e<1e10&&(e*=1e3),e=new Date(e)),e):new Date,dt=(e,n=new Date)=>(e=I(e),n=I(n),e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()),Re=(e,n=new Date)=>I(e).getFullYear()===I(n).getFullYear(),Nn=(e,n=new Date)=>(e=I(e),n=I(n),e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()),Os=(e,n=new Date)=>{e=I(e),n=I(n);const t=1e3*60*60*24,s=Math.floor(e.getTime()/t),i=Math.floor(n.getTime()/t);return Math.floor((s+4)/7)===Math.floor((i+4)/7)},Bs=(e,n)=>dt(I(n),e),Us=(e,n)=>dt(I(n).getTime()-q,e),Fs=(e,n)=>dt(I(n).getTime()+q,e),qs=(e,n)=>dt(I(n).getTime()-2*q,e),Qt=(e,n="yyyy-MM-dd hh:mm")=>{e=I(e);const t={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"H+":e.getHours()%12,"m+":e.getMinutes(),"s+":e.getSeconds(),"S+":e.getMilliseconds()};return/(y+)/i.test(n)&&(n=n.replace(RegExp.$1,`${e.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(t).forEach(s=>{if(new RegExp(`(${s})`).test(n)){const i=`${t[s]}`;n=n.replace(RegExp.$1,RegExp.$1.length===1?i:`00${i}`.substring(i.length))}}),n},Ks=(e,n,t)=>{const s={full:"yyyy-M-d",month:"M-d",day:"d",str:"{0} ~ {1}",...t},i=Qt(e,Re(e)?s.month:s.full);if(dt(e,n))return i;const o=Qt(n,Re(e,n)?Nn(e,n)?s.day:s.month:s.full);return s.str.replace("{0}",i).replace("{1}",o)},Gs=e=>{const n=new Date().getTime();switch(e){case"oneWeek":return n-q*7;case"oneMonth":return n-q*31;case"threeMonth":return n-q*31*3;case"halfYear":return n-q*183;case"oneYear":return n-q*365;case"twoYear":return n-2*(q*365);default:return 0}},Ee=(e,n,t=!0,s=Date.now())=>{switch(n){case"year":return e*=365,Ee(e,"day",t,s);case"quarter":e*=3;case"month":return e*=30,Ee(e,"day",t,s);case"week":e*=7;case"day":e*=24;case"hour":e*=60;case"minute":e*=6e4;break;default:e=0}return t?s+e:s-e},si="",Tn={name:"rich",colTypes:{html:{onRenderCell(e){return e[0]={html:e[0]},e}},link:{onRenderCell(e,{col:n,row:t}){const{linkTemplate:s="",linkProps:i}=n.setting,o=Ct(s,t.data);return e[0]=b("a",{href:o,...i},e[0]),e}},avatar:{onRenderCell(e,{col:n,row:t}){const{data:s}=t,{avatarWithName:i,avatarClass:o="size-sm circle",avatarKey:l=`${n.name}Avatar`}=n.setting,c=b("div",{className:`avatar ${o} flex-none`},b("img",{src:s?s[l]:""}));return i?e.unshift(c):e[0]=c,e}},circleProgress:{onRenderCell(e,{col:n}){const{circleSize:t=24,circleBorderSize:s=1,circleBgColor:i="var(--color-border)",circleColor:o="var(--color-success-500)"}=n.setting,l=(t-s)/2,c=t/2,a=e[0];return e[0]=b("svg",{width:t,height:t},b("circle",{cx:c,cy:c,r:l,"stroke-width":s,stroke:i,fill:"transparent"}),b("circle",{cx:c,cy:c,r:l,"stroke-width":s,stroke:o,fill:"transparent","stroke-linecap":"round","stroke-dasharray":Math.PI*l*2,"stroke-dashoffset":Math.PI*l*2*(100-a)/100,style:{transformOrigin:"center",transform:"rotate(-90deg)"}}),b("text",{x:c,y:c+s,"dominant-baseline":"middle","text-anchor":"middle",style:{fontSize:`${l}px`}},Math.round(a))),e}},actionButtons:{onRenderCell(e,{col:n,row:t}){var c;const s=(c=t.data)==null?void 0:c[n.name];if(!s)return e;const{actionBtnTemplate:i='<button type="button" data-action="{action}" title="{title}" class="{className}"><i class="icon icon-{icon}"></i></button>',actionBtnData:o={},actionBtnClass:l="btn text-primary square size-sm ghost"}=n.setting;return[{html:s.map(a=>{typeof a=="string"&&(a={action:a});const f=o[a.action];return f&&(a={className:l,...f,...a}),Ct(i,a)}).join(" ")}]}},format:{onRenderCell(e,{col:n}){let{format:t}=n.setting;if(!t)return e;typeof t=="string"&&(t={type:"text",format:t});const{format:s,type:i}=t,o=e[0];return typeof s=="function"?e[0]=i==="html"?{html:s(o)}:s(o):i==="datetime"?e[0]=Qt(o,s):i==="html"?e[0]={html:Ct(s,o)}:e[0]=Ct(s,o),e}}}};$t(Tn);const Dn=Object.freeze(Object.defineProperty({__proto__:null,colHover:Rn,checkable:Sn,nested:Ln,rich:Tn},Symbol.toStringTag,{value:"Module"}));class Rt{constructor(n,t){N(this,"element");N(this,"options");w(this,Lt,en());this.element=n,this.options={parent:n,...t},this.render()}get $(){return p(this,Lt).current}render(n){this.options=Object.assign(this.options,n),gs(b(Ce,{ref:p(this,Lt),...this.options}),this.element)}}Lt=new WeakMap,N(Rt,"NAME","zui.dtable"),N(Rt,"definePlugin",$t),N(Rt,"removePlugin",wn),N(Rt,"plugins",Dn);const oi="";class Wn{constructor(n){w(this,Y,void 0);w(this,B,void 0);S(this,Y,n),S(this,B,document.querySelector(n.getAttribute("data-target"))||document.querySelector(n.getAttribute("data-tab"))||document.querySelector(n.getAttribute("href")))}showTarget(){this.addActive(p(this,Y).parentElement.parentElement,p(this,Y).parentElement),this.addActive(p(this,B).parentElement,p(this,B)),p(this,B).dispatchEvent(new CustomEvent("show.zui3.tab"))}show(){S(this,B,p(this,Y)),this.addActive(p(this,B).parentElement,p(this,B)),S(this,Y,document.querySelector(`[href='#${p(this,B).getAttribute("id")}']`)||document.querySelector(`[data-tab='#${p(this,B).getAttribute("id")}']`)||document.querySelector(`[data-target='#${p(this,B).getAttribute("id")}']`)),this.addActive(p(this,Y).parentElement.parentElement,p(this,Y).parentElement)}addActive(n,t){const s=n.children;Array.from(s).forEach(o=>{o.classList.remove("active"),o.classList.contains("fade")&&o.classList.remove("in")}),t.classList.add("active"),t.classList.contains("fade")&&this.transition(t).then(function(o){t.dispatchEvent(new CustomEvent("shown.zui3.tab"))})}transition(n){return new Promise(function(t,s){setTimeout(()=>{n.classList.add("in"),t()},100)})}}Y=new WeakMap,B=new WeakMap,document.addEventListener("click",function(e){e.target instanceof HTMLElement&&(e.target.dataset.toggle==="tab"||e.target.getAttribute("data-tab"))&&(e.preventDefault(),new Wn(e.target).showTarget())});const ii="",ri="",li="",ci="",ai="",hi="",fi="",ui="",di="",_i="",pi="";function te(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Se(e,...n){if(!n.length)return e;const t=n.shift();if(te(e)&&te(t))for(const s in t)te(t[s])?(e[s]||Object.assign(e,{[s]:{}}),Se(e[s],t[s])):Object.assign(e,{[s]:t[s]});return Se(e,...n)}const Vs=Object.freeze(Object.defineProperty({__proto__:null,TIME_DAY:q,createDate:I,isSameDay:dt,isSameYear:Re,isSameMonth:Nn,isSameWeek:Os,isToday:Bs,isYesterday:Us,isTomorrow:Fs,isDBY:qs,formatDate:Qt,formatDateSpan:Ks,getTimeBeforeDesc:Gs,calculateTimestamp:Ee,formatString:Ct,formatBytes:ys,convertBytes:ms,isObject:te,mergeDeep:Se},Symbol.toStringTag,{value:"Module"}));$.Avatar=Cs,$.DTable=Rt,$.Menu=fs,$.NavTabs=Wn,$.Scrollbar=be,$.browser=ks,$.dtablePlugins=Dn,$.helpers=Vs,$.store=pn,Object.defineProperties($,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
