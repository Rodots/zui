var Xt=Object.defineProperty;var Jt=(g,v,T)=>v in g?Xt(g,v,{enumerable:!0,configurable:!0,writable:!0,value:T}):g[v]=T;var k=(g,v,T)=>(Jt(g,typeof v!="symbol"?v+"":v,T),T),Le=(g,v,T)=>{if(!v.has(g))throw TypeError("Cannot "+T)};var b=(g,v,T)=>(Le(g,v,"read from private field"),T?T.call(g):v.get(g)),W=(g,v,T)=>{if(v.has(g))throw TypeError("Cannot add the same private member more than once");v instanceof WeakSet?v.add(g):v.set(g,T)},A=(g,v,T,Se)=>(Le(g,v,"write to private field"),Se?Se.call(g,T):v.set(g,T),T);var ve=(g,v,T)=>(Le(g,v,"access private method"),T);(function(g,v){typeof exports=="object"&&typeof module<"u"?v(exports):typeof define=="function"&&define.amd?define(["exports"],v):(g=typeof globalThis<"u"?globalThis:g||self,v(g.zui={}))})(this,function(g){var X,ie,O,x,N,re,q,R,se,ne,we;"use strict";const v="",T="",Se="",Zt="",Kt="",Qt="",es="",ts="",ss="",ns="",os="",bt=s=>{const t={};if(!s)return t;const e=Object.values(s.attributes);return e&&e.length>0&&e.forEach(n=>{const{name:i,value:o}=n;t[i]=o}),t};class yt extends HTMLElement{constructor(){super();k(this,"$button");k(this,"$icon");k(this,"onClick");this.$button=document.createElement("button");const e=this.innerHTML;this.innerHTML="",this.$button.innerHTML=e,this.icon&&(this.$icon=document.createElement("i"),this.addClass(this.$icon,`icon ${this.icon}`),this.$button.prepend(this.$icon)),this.$button.classList.add("btn"),this.append(this.$button)}connectedCallback(){this.initStyle(),this.initEventListen(),this.isDisabled&&this.$button.setAttribute("disabled","disabled"),this.$button.addEventListener("keydown",e=>{switch(e.keyCode){case 13:e.stopPropagation();break}})}initStyle(){const e=bt(this);if(e)for(const n in e)["type","size","rounded","outline"].includes(n)&&this.addClass(this.$button,`-${e[n]}`)}initEventListen(){if(this.isDisabled||this.loading)return!1}addClass(e,n){e&&e.classList.add(n)}get type(){return this.getAttribute("type")}set type(e){this.getAttribute("type")?(this.setAttribute("type",e),this.addClass(this.$button,`-${this.type}`)):this.removeAttribute("type")}get size(){return this.getAttribute("size")}set size(e){this.getAttribute("size")?(this.setAttribute("size",e||"base"),this.addClass(this.$button,`-${e}`)):this.removeAttribute("size")}get loading(){return this.getAttribute("loading")}set loading(e){this.getAttribute("loading")?this.setAttribute("loading",e||""):this.removeAttribute("loading")}get rounded(){return this.getAttribute("rounded")}set rounded(e){this.getAttribute("rounded")?(this.setAttribute("rounded",e||""),this.addClass(this.$button,`-${e}`)):this.removeAttribute("rounded")}get isDisabled(){return this.getAttribute("isDisabled")!==null}set isDisabled(e){e===null||e===!1?this.removeAttribute("isDisabled"):this.setAttribute("isDisabled","")}get icon(){return this.getAttribute("icon")}set icon(e){this.setAttribute("icon",e)}static get observedAttributes(){return["type","size","rounded","disabled","loading","outline"]}get class(){return this.$button.classList}attributeChangedCallback(e,n){e==="isDisabled"&&this.$button&&(n!==null?this.$button.setAttribute("disabled","disabled"):this.$button.removeAttribute("disabled")),e==="loading"&&this.$button&&(n!==null?this.$button.setAttribute("disabled","disabled"):this.$button.removeAttribute("disabled")),e==="icon"&&this.$icon&&n&&this.addClass(this.$icon,`-${n}`),this.render()}render(){}}customElements.get("zui-button")||customElements.define("zui-button",yt);const is="",rs="";class ze{constructor(t){W(this,X,void 0);W(this,ie,void 0);var e;A(this,X,t),A(this,ie,t.nextElementSibling),((e=b(this,X).dataset)==null?void 0:e.toggle)==="dropdown"&&!b(this,X).parentElement.className.includes("dropdown-hover")&&this.toggle(b(this,X).parentElement,b(this,ie))}toggle(t,e){t.className.includes("open")?(this.hideMenu(e),t.className=t.className.replace(" open","")):(this.showMenu(e),t.className=t.className+" open")}showMenu(t){this.clearMenu(),t.classList.add("block")}hideMenu(t){t.classList.add("hidden")}clearMenu(){document.querySelectorAll(".dropdown-menu").forEach(e=>{e.classList.add("hidden"),e.parentElement&&(e.parentElement.className=e.parentElement.className.replace(" open",""))})}}X=new WeakMap,ie=new WeakMap,document.addEventListener("click",function(s){s!==null&&s.target instanceof HTMLElement&&(s.target.dataset.toggle==="dropdown"?new ze(s.target):new ze(s).clearMenu())});const ls="",as="",cs="",hs="",ds="",fs="",us="",_s="";class We{constructor(t,e){k(this,"$modal");k(this,"options");k(this,"reposTask",null);this.$modal=t,this.$modal&&(this.options=e,e.type==="show"?this.onShow(this.$modal):this.onHide(this.$modal),e.type==="show"&&e.position&&this.adjustPosition(e.position,null),this.$modal.onclick=n=>this.onClick(n),window.addEventListener("resize",()=>{e.type==="show"&&e.position&&this.adjustPosition(e.position,null)}))}get modalClosable(){return this.$modal.dataset.modalClosable}onClick(t){var e,n;(((e=t.target.dataset)==null?void 0:e.dismiss)==="modal"||((n=t.target.parentElement.dataset)==null?void 0:n.dismiss)==="modal")&&(this.onHide(this.$modal),t.stopPropagation())}lockScroll(){document.body.style.overflow="hidden"}unlockScroll(){document.body.style.overflow=""}onShow(t){this.lockScroll(),t.classList.add("block")}onHide(t){t&&t.classList&&(this.unlockScroll(),t.classList.remove("block"))}onClear(t){document.querySelectorAll(".modal").forEach(n=>{(n.dataset.modalClosable!=="false"||t==="destory")&&n.classList.remove("block")})}adjustPosition(t,e){var a;if(clearTimeout(this.reposTask),e){this.reposTask=setTimeout(this.adjustPosition.bind(this,t,0),e);return}if(t===void 0&&(t=this.options.position),t==null)return;const n=this.$modal.getElementsByClassName("modal-dialog")[0];if(!n)return;const i=window.innerHeight,o=Math.max(0,(i-n.clientHeight)/2);let l=null;if(t==="fit"?l=`${o>50?Math.floor(o*2/3):o}px`:t==="center"?l=`${o}px`:this.isPlainObject(t)||(l=t),n.setAttribute("style",`top: ${l}`),n.className.includes("-fullscreen")){let c=null;if(((a=n.childNodes)==null?void 0:a.length)&&n.childNodes.length===1?c=n.childNodes[0]:c=n.childNodes[1],c){const _=(c==null?void 0:c.getElementsByClassName("modal-header")[0].clientHeight)||0,r=c==null?void 0:c.getElementsByClassName("modal-body")[0],p=(c==null?void 0:c.getElementsByClassName("modal-footer")[0].clientHeight)||0,d=i-_-p,h=r&&r.scrollHeight>d?"auto":"visible";r&&r.setAttribute("style",`max-height:${d}px;overflow:${h}`)}}}isPlainObject(t){return Object.prototype.toString.call(t)==="[object Object]"}}document.addEventListener("click",s=>{var t,e,n;if(s!==null&&s.target instanceof HTMLElement)if(((t=s.target.dataset)==null?void 0:t.toggle)==="modal"){let i=s.target.dataset.target;if(s.target.localName==="a"){const a=((e=s.target)==null?void 0:e.href)||"";i=a&&a.replace(/.*(?=#[^\s]+$)/,"")}if(!i.length)return;const o=document.querySelector(i),l={type:"show",position:((n=s.target.dataset)==null?void 0:n.position)||"fit"};new We(o,l)}else s.target.parentElement.className.includes("modal")||new We(s,{type:"hide"}).onClear()});function vt(s){const t=typeof s=="string"?document.querySelector(s):s;if(!t)return!1;if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)return t.select(),!0;if(window.getSelection){const e=window.getSelection();if(e){const n=document.createRange();return n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n),!0}}return!1}function wt(s){document.readyState!=="loading"?s():document.addEventListener("DOMContentLoaded",s)}const U=(...s)=>s.map(t=>Array.isArray(t)?U(...t):typeof t=="function"?U(t()):t!==null&&typeof t=="object"?Object.keys(t).filter(e=>{const n=t[e];return typeof n=="function"?!!n():!!n}).join(" "):t).filter(t=>typeof t=="string"&&t.length).join(" "),P=24*60*60*1e3,D=s=>s?(s instanceof Date||(typeof s=="string"&&(s=s.trim(),/^\d+$/.test(s)&&(s=Number.parseInt(s,10))),typeof s=="number"&&s<1e10&&(s*=1e3),s=new Date(s)),s):new Date,Q=(s,t=new Date)=>(s=D(s),t=D(t),s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()),ke=(s,t=new Date)=>D(s).getFullYear()===D(t).getFullYear(),Pe=(s,t=new Date)=>(s=D(s),t=D(t),s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()),St=(s,t=new Date)=>{s=D(s),t=D(t);const e=1e3*60*60*24,n=Math.floor(s.getTime()/e),i=Math.floor(t.getTime()/e);return Math.floor((n+4)/7)===Math.floor((i+4)/7)},kt=(s,t)=>Q(D(t),s),Mt=(s,t)=>Q(D(t).getTime()-P,s),$t=(s,t)=>Q(D(t).getTime()+P,s),Et=(s,t)=>Q(D(t).getTime()-2*P,s),Me=(s,t="yyyy-MM-dd hh:mm")=>{s=D(s);const e={"M+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"H+":s.getHours()%12,"m+":s.getMinutes(),"s+":s.getSeconds(),"S+":s.getMilliseconds()};return/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,`${s.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(e).forEach(n=>{if(new RegExp(`(${n})`).test(t)){const i=`${e[n]}`;t=t.replace(RegExp.$1,RegExp.$1.length===1?i:`00${i}`.substring(i.length))}}),t},Tt=(s,t,e)=>{const n={full:"yyyy-M-d",month:"M-d",day:"d",str:"{0} ~ {1}",...e},i=Me(s,ke(s)?n.month:n.full);if(Q(s,t))return i;const o=Me(t,ke(s,t)?Pe(s,t)?n.day:n.month:n.full);return n.str.replace("{0}",i).replace("{1}",o)},Ct=s=>{const t=new Date().getTime();switch(s){case"oneWeek":return t-P*7;case"oneMonth":return t-P*31;case"threeMonth":return t-P*31*3;case"halfYear":return t-P*183;case"oneYear":return t-P*365;case"twoYear":return t-2*(P*365);default:return 0}},$e=(s,t,e=!0,n=Date.now())=>{switch(t){case"year":return s*=365,$e(s,"day",e,n);case"quarter":s*=3;case"month":return s*=30,$e(s,"day",e,n);case"week":s*=7;case"day":s*=24;case"hour":s*=60;case"minute":s*=6e4;break;default:s=0}return e?n+s:n-s},ps="",gs="",ms="",bs="";var de,M,Re,oe,Ie,fe={},je=[],Ht=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function B(s,t){for(var e in t)s[e]=t[e];return s}function Ue(s){var t=s.parentNode;t&&t.removeChild(s)}function S(s,t,e){var n,i,o,l={};for(o in t)o=="key"?n=t[o]:o=="ref"?i=t[o]:l[o]=t[o];if(arguments.length>2&&(l.children=arguments.length>3?de.call(arguments,2):e),typeof s=="function"&&s.defaultProps!=null)for(o in s.defaultProps)l[o]===void 0&&(l[o]=s.defaultProps[o]);return ue(s,l,n,i,null)}function ue(s,t,e,n,i){var o={type:s,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Re:i};return i==null&&M.vnode!=null&&M.vnode(o),o}function Ye(){return{current:null}}function _e(s){return s.children}function ee(s,t){this.props=s,this.context=t}function te(s,t){if(t==null)return s.__?te(s.__,s.__.__k.indexOf(s)+1):null;for(var e;t<s.__k.length;t++)if((e=s.__k[t])!=null&&e.__e!=null)return e.__e;return typeof s.type=="function"?te(s):null}function Fe(s){var t,e;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,t=0;t<s.__k.length;t++)if((e=s.__k[t])!=null&&e.__e!=null){s.__e=s.__c.base=e.__e;break}return Fe(s)}}function Be(s){(!s.__d&&(s.__d=!0)&&oe.push(s)&&!pe.__r++||Ie!==M.debounceRendering)&&((Ie=M.debounceRendering)||setTimeout)(pe)}function pe(){for(var s;pe.__r=oe.length;)s=oe.sort(function(t,e){return t.__v.__b-e.__v.__b}),oe=[],s.some(function(t){var e,n,i,o,l,a;t.__d&&(l=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(i=B({},o)).__v=o.__v+1,Ee(a,o,i,e.__n,a.ownerSVGElement!==void 0,o.__h!=null?[l]:null,n,l==null?te(o):l,o.__h),Ze(n,o),o.__e!=l&&Fe(o)))})}function Oe(s,t,e,n,i,o,l,a,c,_){var r,p,d,h,u,w,m,y=n&&n.__k||je,$=y.length;for(e.__k=[],r=0;r<t.length;r++)if((h=e.__k[r]=(h=t[r])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?ue(null,h,null,null,h):Array.isArray(h)?ue(_e,{children:h},null,null,null):h.__b>0?ue(h.type,h.props,h.key,null,h.__v):h)!=null){if(h.__=e,h.__b=e.__b+1,(d=y[r])===null||d&&h.key==d.key&&h.type===d.type)y[r]=void 0;else for(p=0;p<$;p++){if((d=y[p])&&h.key==d.key&&h.type===d.type){y[p]=void 0;break}d=null}Ee(s,h,d=d||fe,i,o,l,a,c,_),u=h.__e,(p=h.ref)&&d.ref!=p&&(m||(m=[]),d.ref&&m.push(d.ref,null,h),m.push(p,h.__c||u,h)),u!=null?(w==null&&(w=u),typeof h.type=="function"&&h.__k===d.__k?h.__d=c=qe(h,c,s):c=Ge(s,h,d,y,u,c),typeof e.type=="function"&&(e.__d=c)):c&&d.__e==c&&c.parentNode!=s&&(c=te(d))}for(e.__e=w,r=$;r--;)y[r]!=null&&(typeof e.type=="function"&&y[r].__e!=null&&y[r].__e==e.__d&&(e.__d=te(n,r+1)),Qe(y[r],y[r]));if(m)for(r=0;r<m.length;r++)Ke(m[r],m[++r],m[++r])}function qe(s,t,e){for(var n,i=s.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=s,t=typeof n.type=="function"?qe(n,t,e):Ge(e,n,n,i,n.__e,t));return t}function Ge(s,t,e,n,i,o){var l,a,c;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(e==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==s)s.appendChild(i),l=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<n.length;c+=2)if(a==i)break e;s.insertBefore(i,o),l=o}return l!==void 0?l:i.nextSibling}function xt(s,t,e,n,i){var o;for(o in e)o==="children"||o==="key"||o in t||ge(s,o,null,e[o],n);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||e[o]===t[o]||ge(s,o,t[o],e[o],n)}function Ve(s,t,e){t[0]==="-"?s.setProperty(t,e):s[t]=e==null?"":typeof e!="number"||Ht.test(t)?e:e+"px"}function ge(s,t,e,n,i){var o;e:if(t==="style")if(typeof e=="string")s.style.cssText=e;else{if(typeof n=="string"&&(s.style.cssText=n=""),n)for(t in n)e&&t in e||Ve(s.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||Ve(s.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in s?t.toLowerCase().slice(2):t.slice(2),s.l||(s.l={}),s.l[t+o]=e,e?n||s.addEventListener(t,o?Je:Xe,o):s.removeEventListener(t,o?Je:Xe,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in s)try{s[t]=e==null?"":e;break e}catch{}typeof e=="function"||(e!=null&&(e!==!1||t[0]==="a"&&t[1]==="r")?s.setAttribute(t,e):s.removeAttribute(t))}}function Xe(s){this.l[s.type+!1](M.event?M.event(s):s)}function Je(s){this.l[s.type+!0](M.event?M.event(s):s)}function Ee(s,t,e,n,i,o,l,a,c){var _,r,p,d,h,u,w,m,y,$,L,G,I,E=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(c=e.__h,a=t.__e=e.__e,t.__h=null,o=[a]),(_=M.__b)&&_(t);try{e:if(typeof E=="function"){if(m=t.props,y=(_=E.contextType)&&n[_.__c],$=_?y?y.props.value:_.__:n,e.__c?w=(r=t.__c=e.__c).__=r.__E:("prototype"in E&&E.prototype.render?t.__c=r=new E(m,$):(t.__c=r=new ee(m,$),r.constructor=E,r.render=At),y&&y.sub(r),r.props=m,r.state||(r.state={}),r.context=$,r.__n=n,p=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),E.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=B({},r.__s)),B(r.__s,E.getDerivedStateFromProps(m,r.__s))),d=r.props,h=r.state,p)E.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(E.getDerivedStateFromProps==null&&m!==d&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(m,$),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(m,r.__s,$)===!1||t.__v===e.__v){r.props=m,r.state=r.__s,t.__v!==e.__v&&(r.__d=!1),r.__v=t,t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(H){H&&(H.__=t)}),r.__h.length&&l.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(m,r.__s,$),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(d,h,u)})}if(r.context=$,r.props=m,r.__v=t,r.__P=s,L=M.__r,G=0,"prototype"in E&&E.prototype.render)r.state=r.__s,r.__d=!1,L&&L(t),_=r.render(r.props,r.state,r.context);else do r.__d=!1,L&&L(t),_=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++G<25);r.state=r.__s,r.getChildContext!=null&&(n=B(B({},n),r.getChildContext())),p||r.getSnapshotBeforeUpdate==null||(u=r.getSnapshotBeforeUpdate(d,h)),I=_!=null&&_.type===_e&&_.key==null?_.props.children:_,Oe(s,Array.isArray(I)?I:[I],t,e,n,i,o,l,a,c),r.base=t.__e,t.__h=null,r.__h.length&&l.push(r),w&&(r.__E=r.__=null),r.__e=!1}else o==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=Dt(e.__e,t,e,n,i,o,l,c);(_=M.diffed)&&_(t)}catch(H){t.__v=null,(c||o!=null)&&(t.__e=a,t.__h=!!c,o[o.indexOf(a)]=null),M.__e(H,t,e)}}function Ze(s,t){M.__c&&M.__c(t,s),s.some(function(e){try{s=e.__h,e.__h=[],s.some(function(n){n.call(e)})}catch(n){M.__e(n,e.__v)}})}function Dt(s,t,e,n,i,o,l,a){var c,_,r,p=e.props,d=t.props,h=t.type,u=0;if(h==="svg"&&(i=!0),o!=null){for(;u<o.length;u++)if((c=o[u])&&"setAttribute"in c==!!h&&(h?c.localName===h:c.nodeType===3)){s=c,o[u]=null;break}}if(s==null){if(h===null)return document.createTextNode(d);s=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),o=null,a=!1}if(h===null)p===d||a&&s.data===d||(s.data=d);else{if(o=o&&de.call(s.childNodes),_=(p=e.props||fe).dangerouslySetInnerHTML,r=d.dangerouslySetInnerHTML,!a){if(o!=null)for(p={},u=0;u<s.attributes.length;u++)p[s.attributes[u].name]=s.attributes[u].value;(r||_)&&(r&&(_&&r.__html==_.__html||r.__html===s.innerHTML)||(s.innerHTML=r&&r.__html||""))}if(xt(s,d,p,i,a),r)t.__k=[];else if(u=t.props.children,Oe(s,Array.isArray(u)?u:[u],t,e,n,i&&h!=="foreignObject",o,l,o?o[0]:e.__k&&te(e,0),a),o!=null)for(u=o.length;u--;)o[u]!=null&&Ue(o[u]);a||("value"in d&&(u=d.value)!==void 0&&(u!==s.value||h==="progress"&&!u||h==="option"&&u!==p.value)&&ge(s,"value",u,p.value,!1),"checked"in d&&(u=d.checked)!==void 0&&u!==s.checked&&ge(s,"checked",u,p.checked,!1))}return s}function Ke(s,t,e){try{typeof s=="function"?s(t):s.current=t}catch(n){M.__e(n,e)}}function Qe(s,t,e){var n,i;if(M.unmount&&M.unmount(s),(n=s.ref)&&(n.current&&n.current!==s.__e||Ke(n,null,t)),(n=s.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){M.__e(o,t)}n.base=n.__P=null}if(n=s.__k)for(i=0;i<n.length;i++)n[i]&&Qe(n[i],t,typeof s.type!="function");e||s.__e==null||Ue(s.__e),s.__e=s.__d=void 0}function At(s,t,e){return this.constructor(s,e)}function Nt(s,t,e){var n,i,o;M.__&&M.__(s,t),i=(n=typeof e=="function")?null:e&&e.__k||t.__k,o=[],Ee(t,s=(!n&&e||t).__k=S(_e,null,[s]),i||fe,fe,t.ownerSVGElement!==void 0,!n&&e?[e]:i?null:t.firstChild?de.call(t.childNodes):null,o,!n&&e?e:i?i.__e:t.firstChild,n),Ze(o,s)}de=je.slice,M={__e:function(s,t,e,n){for(var i,o,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(s)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(s,n||{}),l=i.__d),l)return i.__E=i}catch(a){s=a}throw s}},Re=0,ee.prototype.setState=function(s,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=B({},this.state),typeof s=="function"&&(s=s(B({},e),this.props)),s&&B(e,s),s!=null&&this.__v&&(t&&this.__h.push(t),Be(this))},ee.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),Be(this))},ee.prototype.render=_e,oe=[],pe.__r=0;const ys="",vs="";class Te extends ee{constructor(e){var n;super(e);k(this,"_rafId",0);k(this,"_handleWheel",e=>{var i,o,l;!((o=e.target)!=null&&o.closest((i=this.props.wheelContainer)!=null?i:".-scrollbar-container"))||(e.preventDefault(),this.scrollOffset((this.props.type==="horz"?e.deltaX:e.deltaY)*((l=this.props.wheelSpeed)!=null?l:1)))});k(this,"_handleMouseMove",e=>{const{dragStart:n}=this.state;n&&(this._rafId&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(()=>{const i=this.props.type==="horz"?e.clientX-n.x:e.clientY-n.y;this.scroll(n.offset+i*this.props.scrollSize/this.props.clientSize),this._rafId=0}),e.preventDefault())});k(this,"_handleMouseUp",()=>{this.state.dragStart&&this.setState({dragStart:!1})});k(this,"_handleMouseDown",e=>{this.state.dragStart||this.setState({dragStart:{x:e.clientX,y:e.clientY,offset:this.scrollPos}}),e.stopPropagation()});k(this,"_handleClick",e=>{const n=e.currentTarget;if(!n)return;const i=n.getBoundingClientRect(),{type:o,clientSize:l,scrollSize:a}=this.props,c=(o==="horz"?e.clientX-i.left:e.clientY-i.top)-this.barSize/2;this.scroll(c*a/l)});this.state={scrollPos:(n=this.props.defaultScrollPos)!=null?n:0,dragStart:!1}}get scrollPos(){var e;return(e=this.props.scrollPos)!=null?e:this.state.scrollPos}get controlled(){return this.props.scrollPos!==void 0}get maxScrollPos(){const{scrollSize:e,clientSize:n}=this.props;return Math.max(0,e-n)}get barSize(){const{clientSize:e,scrollSize:n,size:i=10}=this.props;return Math.max(Math.round(e*e/n),i)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:e}=this.props;e&&document.addEventListener("wheel",this._handleWheel,{passive:!1})}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.props.wheelContainer&&document.removeEventListener("wheel",this._handleWheel)}scroll(e){e=Math.max(0,Math.min(Math.round(e),this.maxScrollPos)),e!==this.scrollPos&&(this.controlled?this._afterScroll(e):this.setState({scrollPos:e},this._afterScroll.bind(this,e)))}scrollOffset(e){this.scroll(this.scrollPos+e)}_afterScroll(e){var i;const{onScroll:n}=this.props;n&&n(e,(i=this.props.type)!=null?i:"vert")}render(){const{scrollSize:e,clientSize:n,type:i,size:o=10,className:l,style:a,left:c,top:_,bottom:r,right:p}=this.props,{maxScrollPos:d,scrollPos:h}=this,{dragStart:u}=this.state,w={left:c,top:_,bottom:r,right:p,...a},m={};return i==="horz"?(w.height=o,w.width=n,m.width=Math.max(Math.round(n*n/e),o),m.left=Math.round(h*(n-m.width)/d)):(w.width=o,w.height=n,m.height=this.barSize,m.top=Math.round(h*(n-m.height)/d)),S("div",{className:U("scrollbar",l,{"is-vert":i==="vert","is-horz":i==="horz","is-dragging":u}),style:w,onMouseDown:this._handleClick},S("div",{className:"scrollbar-bar",style:m,onMouseDown:this._handleMouseDown}))}}function Ce({col:s,className:t,height:e,style:n,children:i,html:o,...l}){const a={left:s.left,width:s.realWidth,height:e,...n,...s.cellStyle};return s.align&&(a.textAlign=s.align),S("div",{className:U("dtable-cell",s.className,t),style:a,...l,"data-col":s.name,dangerouslySetInnerHTML:o},i)}function Lt({className:s,style:t,col:e,height:n,children:i}){let{sortType:o}=e;return o===!0&&(o="none"),S(Ce,{className:s,height:n,style:t,col:e,"data-sort":o||null,"data-type":e.type},e.title,o&&S("div",{className:`dtable-sort -sort-${o}`}),i)}function zt(s){const t={};if(typeof s=="object"&&s&&("html"in s||"children"in s)){const{html:e,children:n,style:i,className:o}=s;e?t.html={__html:e}:n&&(t.children=n),t.style=i,t.className=o}else t.children=s;return t}function He({rowID:s,className:t,top:e=0,left:n=0,width:i,height:o,cols:l,data:a,CellComponent:c=Ce,onRenderCell:_}){return S("div",{className:U("dtable-cells",t),style:{top:e,left:n,width:i,height:o}},l.map(r=>{if(!r.visible)return null;let p=a==null?void 0:a[r.name];if(r.onRenderCell){const m=r.onRenderCell(s,r,a,p);m!==void 0&&(p=m)}if(_){const m=_(s,r,a,p);m!==void 0&&(p=m)}const{children:d,html:h,className:u,style:w}=zt(p);return S(c,{key:r.name,col:r,className:u,style:w,html:h},d)}))}function et({rowID:s,className:t,top:e,height:n,fixedLeftCols:i,fixedRightCols:o,scrollCols:l,flexLeftWidth:a,scrollWidth:c,scrollWidthTotal:_,flexRightWidth:r,scrollLeft:p,CellComponent:d=Ce,onRenderCell:h,data:u}){let w=null;i!=null&&i.length&&(w=S(He,{className:"-fixed-left",cols:i,width:a,rowID:s,CellComponent:d,onRenderCell:h,data:u}));let m=null;l!=null&&l.length&&(m=S(He,{className:"-flexable",cols:l,left:a-p,width:_,rowID:s,CellComponent:d,onRenderCell:h,data:u}));let y=null;o!=null&&o.length&&(y=S(He,{className:"-fixed-right",cols:o,left:a+c,width:r,rowID:s,CellComponent:d,onRenderCell:h,data:u}));const $={top:e,height:n,lineHeight:`${n-2}px`};return S("div",{className:U("dtable-row",t),style:$,"data-id":s},w,m,y)}function Wt({height:s,fixedLeftCols:t,fixedRightCols:e,scrollCols:n,flexLeftWidth:i,scrollWidth:o,flexRightWidth:l,scrollWidthTotal:a,scrollLeft:c,onRenderCell:_}){return S("div",{className:"dtable-header",style:{height:s}},S(et,{rowID:"HEADER",className:"-in-header",top:0,height:s,fixedLeftCols:t,fixedRightCols:e,scrollCols:n,flexLeftWidth:i,scrollWidth:o,scrollWidthTotal:a,flexRightWidth:l,scrollLeft:c,CellComponent:Lt,onRenderCell:_}))}function Pt({className:s,style:t,top:e,rows:n,height:i,rowHeight:o,fixedLeftCols:l,fixedRightCols:a,scrollCols:c,flexLeftWidth:_,scrollWidth:r,scrollWidthTotal:p,flexRightWidth:d,scrollLeft:h,onRenderCell:u}){return t={...t,top:e,height:i},S("div",{className:U("dtable-rows",s),style:t},n.map(w=>S(et,{rowID:w.data.id,top:w.top,height:o,fixedLeftCols:l,fixedRightCols:a,scrollCols:c,flexLeftWidth:_,scrollWidth:r,scrollWidthTotal:p,flexRightWidth:d,scrollLeft:h,data:w.data,onRenderCell:u})))}const me=new Map;function Rt(s,t=!1){if(!t&&me.has(s.name))throw new Error(`DTable: Plugin with name ${s.name} already exists`);me.set(s.name,s)}function It(s){return me.get(s)}function jt(s){return me.delete(s)}function Ut(s){return s!=null&&s.length?s.reduce((t,e)=>{if(typeof e=="string"){const n=It(e);n?t.push(n):console.warn(`DTable: Cannot found plugin "${e}"`)}else typeof e=="object"?t.push(e):console.warn("DTable: Invalid plugin",e);return t},[]):[]}function Yt(s,t){return s.reduce((e,n)=>typeof n.options=="function"?{...e,...n.options(e)}:n.options?{...e,...n.options}:e,t)}function tt(){return{cols:[],data:[],width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:1e3,header:!0,footer:!1,headerHeight:0,footerHeight:0,scrollbarWidth:10,rowHover:!0,colHover:!0,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,scrollbarSize:10,horzScrollbarPos:"outside"}}class xe extends ee{constructor(){super(...arguments);k(this,"state",{scrollTop:0,scrollLeft:0,hiddenRows:{},hiddenCols:{}});k(this,"ref",Ye());W(this,O,!1);W(this,x,void 0);W(this,N,void 0);k(this,"_handleRenderCell",(e,n,i,o)=>{var l,a;if((l=b(this,x))!=null&&l.onRenderCell){const c=b(this,x).onRenderCell.call(this,e,n,i,o);c!==void 0&&(o=c)}return(a=b(this,N))==null||a.forEach(c=>{var r;const _=(r=c.onRenderCell)==null?void 0:r.call(this,e,n,i,o);_!==void 0&&(o=_)}),o});k(this,"_handleScroll",(e,n)=>{n==="horz"?this.scrollLeft(e):this.scrollTop(e)});k(this,"_handleClick",e=>{var _,r,p,d,h,u,w,m,y,$,L,G,I,E;const n=e.target;if(!n)return;const i=n.closest(".dtable-cell"),o=n.closest(".dtable-row"),l=(_=i==null?void 0:i.getAttribute("data-col"))!=null?_:"",a=(r=o==null?void 0:o.getAttribute("data-id"))!=null?r:"",c=(d=(p=b(this,x))==null?void 0:p.data)==null?void 0:d.find(H=>H.id===a);if(i)if(a==="HEADER")(u=(h=b(this,x))==null?void 0:h.onHeaderCellClick)==null||u.call(h,e,{colName:l}),(w=b(this,N))==null||w.forEach(H=>{var z;(z=H.onHeaderCellClick)==null||z.call(this,e,{colName:l})});else{if(((y=(m=b(this,x))==null?void 0:m.onCellClick)==null?void 0:y.call(this,e,{colName:l,rowID:a,rowData:c}))===!0)return;if(($=b(this,N))!=null&&$.length){for(const H of b(this,N))if(((L=H.onCellClick)==null?void 0:L.call(this,e,{colName:l,rowID:a,rowData:c}))===!0)return}}(I=(G=b(this,x))==null?void 0:G.onRowClick)==null||I.call(this,e,{rowID:a,rowData:c}),(E=b(this,N))==null||E.forEach(H=>{var z;(z=H.onRowClick)==null||z.call(this,e,{rowID:a,rowData:c})})})}get options(){return b(this,x)}get plugins(){return b(this,N)}componentDidMount(){var e;b(this,O)?this.forceUpdate():this._afterRender(),(e=this.ref.current)==null||e.addEventListener("click",this._handleClick)}componentDidUpdate(){b(this,O)&&this._afterRender()}componentWillUnmount(){var e;(e=this.ref.current)==null||e.removeEventListener("click",this._handleClick)}scrollLeft(e){this.setState({scrollLeft:e},()=>{var n,i;(i=(n=b(this,x))==null?void 0:n.onScroll)==null||i.call(n,e,"horz")})}scrollTop(e){this.setState({scrollTop:e},()=>{var n,i;(i=(n=b(this,x))==null?void 0:n.onScroll)==null||i.call(n,e,"vert")})}getLayout(){var ht,dt,ft;const e={...this.props},n=Ut(e.plugins),i={...tt(),...Yt(n,e)};A(this,N,Object.freeze(n)),A(this,x,Object.freeze(i));const{data:o,header:l,footer:a,rowHeight:c,defaultColWidth:_,minColWidth:r,maxColWidth:p,rowDataMap:d}=i,{scrollTop:h=0,scrollLeft:u=0,hiddenRows:w={},hiddenCols:m={}}=this.state,y=l?i.headerHeight||c:0,$=a?i.footerHeight||c:0,L=(f,C,F)=>(f&&(C&&(f=Math.max(C,f)),F&&(f=Math.min(F,f))),f),G=[],I=[],E=[];let H=0,z=0;i.cols.forEach(f=>{var ut,_t;if(f.hidden||m[f.name])return;const{minWidth:C=r,maxWidth:F=p}=f,ce=L((ut=f.width)!=null?ut:0,C,F),he=(_t=f.flex)!=null?_t:1,Gt=he*L(_,C,F),j={...f,left:0,flex:he,realWidth:ce,flexWidth:Gt,visible:!0};j.fixed==="left"?(j.left=H,H+=ce,G.push(j)):j.fixed==="right"?(j.left=z,z+=ce,I.push(j)):E.push(j),n.forEach(Vt=>{var gt,mt;const ye=(mt=Vt.colTypes)==null?void 0:mt[(gt=j.type)!=null?gt:""];if(!ye)return;const pt=typeof ye=="function"?ye(j):ye;pt&&Object.assign(j,pt)})});let V=i.width,J=0;if(typeof V=="function"&&(V=V()),V==="auto")J=H+z,E.forEach(f=>{f.realWidth||(f.realWidth=f.flexWidth),J+=f.realWidth});else if(V==="100%"){const f=(ht=this.ref.current)==null?void 0:ht.parentElement;if(f)J=f.clientWidth;else{J=0,A(this,O,!0);return}}else J=V!=null?V:0;let le=0;const qt=(dt=d==null?void 0:d.$hidden)!=null?dt:"$hidden",nt=o.reduce((f,C)=>(!C[qt]&&!w[C.id]&&(f.push({data:C,top:le}),le+=c),f),[]);let Y=i.height,Z=0;if(typeof Y=="function"&&(Y=Y()),Y==="auto")Z=y+$+le;else if(typeof Y=="object")Z=Math.min(Y.max,Math.max(Y.min,y+$+le));else if(Y==="100%"){const f=(ft=this.ref.current)==null?void 0:ft.parentElement;if(f)Z=f.clientHeight;else{Z=0,A(this,O,!0);return}}else Z=Y;const ot=Z-y-$,it=h+ot,rt=[],Ae=J-H-z;let K=0;const Ne=[];let lt=0;if(E.forEach(f=>{f.realWidth?K+=f.realWidth:(Ne.push(f),lt+=f.flex)}),Ne.length){const f=Math.max(0,Ae-K);Ne.forEach(C=>{var he;const{minWidth:F=r,maxWidth:ce=p}=C;C.realWidth=Math.min(ce,Math.max(F,Math.ceil(f*((he=C.flex)!=null?he:1)/lt))),K+=C.realWidth})}K=0,E.forEach(f=>{f.left+=K,K+=f.realWidth,(f.left+f.realWidth<u||f.left>u+Ae)&&(f.visible=!1)});const at=Math.floor(h/c),ct=Math.min(nt.length,Math.ceil(it/c));for(let f=at;f<ct;f++){const C=o[f],F=f*c;rt.push({top:F-h,data:C})}let ae={options:i,plugins:n,width:J,height:Z,rows:nt,visibleRows:rt,rowHeight:c,rowsHeight:ot,rowsHeightTotal:le,header:l,footer:a,headerHeight:y,footerHeight:$,colsInfo:{fixedLeftCols:G,fixedRightCols:I,scrollCols:E,flexLeftWidth:H,scrollWidth:Ae,scrollWidthTotal:K,flexRightWidth:z},scrollBottom:it,scrollTop:h,scrollLeft:u,startRowIndex:at,endRowIndex:ct};if(i.onLayout){const f=i.onLayout(ae,i,this.state);f&&(ae=f)}return n.forEach(f=>{if(f.onLayout){const C=f.onLayout.call(this,ae,i,this.state);C&&(ae=C)}}),ae}renderHeader(e){const{header:n,colsInfo:i,headerHeight:o}=e;if(!n)return null;if(n===!0)return S(Wt,{scrollLeft:this.state.scrollLeft,height:o,onRenderCell:this._handleRenderCell,...i});let l,a;if(typeof n=="function"){const c=n(e,this.state);typeof c=="object"&&c&&"__html"in c?a=c:l=c}else l=n;return S("div",{className:"dtable-header",style:{height:o},dangerouslySetInnerHTML:a},l)}renderRows(e){const{headerHeight:n,rowsHeight:i,visibleRows:o,rowHeight:l,colsInfo:a}=e;return S(Pt,{top:n,height:i,rows:o,rowHeight:l,scrollLeft:this.state.scrollLeft,onRenderCell:this._handleRenderCell,...a})}renderFooter(e){const{footer:n,footerHeight:i}=e;if(!n)return null;let o,l;if(typeof n=="function"){const a=n(e,this.state);typeof a=="object"&&a&&"__html"in a?l=a:o=a}else o=n;return S("div",{className:"dtable-footer",style:{height:i},dangerouslySetInnerHTML:l},o)}renderScrollBars(e){const n=[],{scrollLeft:i,colsInfo:o,scrollTop:l,rowsHeight:a,rowsHeightTotal:c}=e,{scrollWidthTotal:_,scrollWidth:r}=o,{scrollbarSize:p=10,horzScrollbarPos:d}=this.props;return _>r&&n.push(S(Te,{key:"horz",type:"horz",scrollPos:i,scrollSize:_,clientSize:r,onScroll:this._handleScroll,left:o.flexLeftWidth,bottom:d==="inside"?0:-p,size:p,wheelContainer:".dtable"})),c>a&&n.push(S(Te,{key:"vert",type:"vert",scrollPos:l,scrollSize:c,clientSize:a,onScroll:this._handleScroll,right:0,size:p,top:e.headerHeight,wheelContainer:".dtable"})),n.length?n:null}_afterRender(){var e,n,i;A(this,O,!1),(n=(e=b(this,x))==null?void 0:e.afterRender)==null||n.call(this,b(this,x),this.state),(i=b(this,N))==null||i.forEach(o=>{var l;return(l=o.afterRender)==null?void 0:l.call(this,b(this,x),this.state)})}render(){var p;const e=this.getLayout(),{className:n,rowHover:i,colHover:o,cellHover:l,bordered:a,striped:c,scrollbarHover:_}=(p=e==null?void 0:e.options)!=null?p:this.props,r={width:e==null?void 0:e.width,height:e==null?void 0:e.height};return S("div",{className:U("dtable",n,{"-hover-row":i,"-hover-col":o,"-hover-cell":l,"-bordered":a,"-striped":c,"scrollbar-hover":_}),style:r,ref:this.ref},e&&this.renderHeader(e),e&&this.renderRows(e),e&&this.renderFooter(e),e&&this.renderScrollBars(e))}}O=new WeakMap,x=new WeakMap,N=new WeakMap,k(xe,"addPlugin",Rt),k(xe,"removePlugin",jt);class Ft{constructor(t,e){k(this,"element");k(this,"options");k(this,"ref",Ye());this.element=t,this.options={...tt(),...e},this.options.cols.length&&this.render()}render(t){this.options=Object.assign(this.options,t),Nt(S(xe,{ref:this.ref,...this.options}),this.element)}}const ws="",Ss="",ks="",Ms="",$s="",Es="",Ts="",Cs="",Hs="",xs="",Ds="",As="",Ns="",Ls="",zs="",Ws="",Ps="";let Bt=(s=21)=>crypto.getRandomValues(new Uint8Array(s)).reduce((t,e)=>(e&=63,e<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t),"");const De=class{constructor(t,e="local"){W(this,ne);W(this,re,void 0);W(this,q,void 0);W(this,R,void 0);W(this,se,void 0);A(this,re,e),A(this,q,`ZUI_STORE:${t!=null?t:Bt()}`),A(this,R,e==="local"?localStorage:sessionStorage)}get type(){return b(this,re)}get session(){return this.type==="session"?this:(b(this,se)||A(this,se,new De(b(this,q),"session")),b(this,se))}get(t,e){const n=b(this,R).getItem(ve(this,ne,we).call(this,t));return typeof n=="string"?JSON.parse(n):n!=null?n:e}set(t,e){if(e==null)return this.remove(t);b(this,R).setItem(ve(this,ne,we).call(this,t),JSON.stringify(e))}remove(t){b(this,R).removeItem(ve(this,ne,we).call(this,t))}each(t){for(let e=0;e<b(this,R).length;e++){const n=b(this,R).key(e);if(n!=null&&n.startsWith(b(this,q))){const i=b(this,R).getItem(n);typeof i=="string"&&t(n.substring(b(this,q).length+1),JSON.parse(i))}}}getAll(){const t={};return this.each((e,n)=>{t[e]=n}),t}};let be=De;re=new WeakMap,q=new WeakMap,R=new WeakMap,se=new WeakMap,ne=new WeakSet,we=function(t){return`${b(this,q)}:${t}`};const st=new be("DEFAULT");function Ot(s,t="local"){return new be(s,t)}Object.assign(st,{create:Ot}),g.DTable=Ft,g.Scrollbar=Te,g.TIME_DAY=P,g.calculateTimestamp=$e,g.classes=U,g.createDate=D,g.domReady=wt,g.formatDate=Me,g.formatDateSpan=Tt,g.getTimeBeforeDesc=Ct,g.isDBY=Et,g.isSameDay=Q,g.isSameMonth=Pe,g.isSameWeek=St,g.isSameYear=ke,g.isToday=kt,g.isTomorrow=$t,g.isYesterday=Mt,g.selectText=vt,g.store=st,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
