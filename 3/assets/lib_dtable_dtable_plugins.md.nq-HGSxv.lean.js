import{f as b,_ as m,D as F,o as v,c as f,I as l,w as o,k as s,a,R as p}from"./chunks/framework.GV9-6vKB.js";const E=[{name:"id",title:"ID",width:60,fixed:"left",checkbox:!0},{name:"project",title:"项目名称",width:200,fixed:"left",type:"link",sortType:!1,nestedToggle:!0},{name:"manager",title:"负责人",width:60,sortType:!1,flex:1,type:"avatar",avatarKey:"managerAvatar",avatarWithName:!0},{name:"progress",title:"进度",width:65,align:"center",sortType:!1,type:"progress"},{name:"storyPoints",title:"需求规模",width:80,align:"right",sortType:!1,html:h=>`${Number(h).toFixed(1)} <small class="text-gray">SP</small>`},{name:"executionCounts",title:"执行数",width:70,align:"center",sortType:!1,html:'{0} <small class="text-dark">迭代</small>'},{name:"investedDays",title:"已投入",width:70,align:"center",sortType:!1,html:'{0} <small class="text-dark">人天</small>'},{name:"startDate",title:"开始日期",width:90,align:"center",sortType:!1,formatDate:"yyyy年MM月dd日"},{name:"finishDate",title:"完成日期",width:90,align:"center",sortType:!1,formatDate:"yyyy年MM月dd日"},{name:"actions",title:"操作",width:120,sortType:!1,fixed:"right",onRenderCell(h,{col:n,row:i}){return h[0]={html:i.data[n.name].map(t=>`<a href="#action=${t}">${{start:"开始",close:"关闭",edit:"编辑"}[t]||t}</a>`).join(" ")},h}}],d=["禅道开源版","禅道企业版","禅道旗舰版","禅道移动端","禅道自动化测试社区","ZUI3","ZenDAS","渠成云原生应用交付平台","ZTF","ZenData","ZentaoPHP","喧喧","ZSite","ZDOO","ZenTools","ZenShot","ZenPanel","ZBox","MZUI"],c=["李强","张天明","孙小微","王萌","刘大辉","周红","李兰","金星","魏小娟","张亮","马广春","丁玉涛"],C=Date.now();function x(h){const n=Math.floor(Math.random()*c.length),i=h+1;return{id:`${i}`,project:`${d[h%d.length]}${Math.floor(h/d.length)||""}`,manager:c[n],managerAvatar:b(`/assets/avatar/avatar-${1+n%10}.png`),storyPoints:Math.floor(Math.random()*1e3),executionCounts:Math.floor(Math.random()*50),investedDays:Math.floor(Math.random()*60),startDate:new Date(C-Math.floor(Math.random()*100*(3600*1e3*24))).toLocaleDateString(),finishDate:new Date(C+Math.floor(Math.random()*100*(3600*1e3*24))).toLocaleDateString(),progress:Math.floor(Math.random()*100),actions:["start","edit","close"],parent:`${["","","",i-1,i-2,i-3,i-3,i-4,"",""][i%10]}`}}const A=Array(100).fill(0).map((h,n)=>x(n)),B={"dtable-cellspan":{plugins:["rich","cellspan"],nested:!1,cols:{id:!1,manager:!1,executionCounts:{align:"right",sortType:!0},investedDays:{align:"right"},startDate:{width:120,sortType:!0},finishDate:{width:120,sortType:!0},actions:{type:"actionButtons",width:100,onRenderCell:null,actionBtnData:{start:{title:"开始",icon:"play"},close:{title:"关闭",icon:"off"},edit:{title:"编辑",icon:"pencil"}},style:{justifyContent:"center"}}},getCellSpan:h=>{if(h.row.index===0&&h.col.index===0)return{rowSpan:2};if(h.col.name==="progress"&&h.row.index%3===1)return{colSpan:3,rowSpan:2}}},"dtable-sortable":{nested:!1,plugins:["sortable"],sortable:!0}};function P(h){let n=B[h]||{};return typeof n=="string"&&(n=B[n]||{}),{height:400,striped:!1,...n,data:typeof n.data=="number"?A.slice(0,n.data):A,cols:Array.isArray(n.cols)?n.cols.map(i=>typeof i=="string"?E.find(t=>t.name===i):{...E.find(t=>t.name===i.name),...i}):E.map(i=>{if(n.cols){const t=n.cols[i.name];if(t)return{...i,...t};if(t===!1)return{...i,hidden:!0}}return i})}}let r=0;function D(){r&&cancelAnimationFrame(r),r=requestAnimationFrame(u)}function u(){const h=document.querySelectorAll('[id^="dtable-"]:not(.dtable)');let n=0;h.forEach(i=>{if(i.classList.contains("dtable-inited")){n++;return}if(!window.zui||!window.zui.dom.isVisible(i))return;const t=i.id,e=P(t),g=new window.zui.DTable(i,e);i.classList.add("dtable-inited"),console.log("> dtable inited",g),n++}),n===h.length&&document.removeEventListener("scroll",D)}const q={mounted(){onZUIReady(u),document.addEventListener("scroll",D)}},I=q,is=JSON.parse('{"title":"数据表格插件","description":"","frontmatter":{},"headers":[],"relativePath":"lib/dtable/dtable/plugins.md","filePath":"lib/dtable/dtable/plugins.md","lastUpdated":null}'),T=s("h1",{id:"数据表格插件",tabindex:"-1"},[a("数据表格插件 "),s("a",{class:"header-anchor",href:"#数据表格插件","aria-label":'Permalink to "数据表格插件"'},"​")],-1),w=s("h2",{id:"富格式插件-rich",tabindex:"-1"},[a("富格式插件 "),s("code",null,"rich"),a(),s("a",{class:"header-anchor",href:"#富格式插件-rich","aria-label":'Permalink to "富格式插件 `rich`"'},"​")],-1),_=p("",45),S=p("",20),R=p("",16),j=p("",19),M=p("",164),N=s("div",{id:"dtable-cellspan"},null,-1),O=p("",5),L=s("div",{id:"dtable-sortable"},null,-1),$=p("",11),H=s("h2",{id:"上下文菜单-contextmenu",tabindex:"-1"},[a("上下文菜单 "),s("code",null,"contextmenu"),a(),s("a",{class:"header-anchor",href:"#上下文菜单-contextmenu","aria-label":'Permalink to "上下文菜单 `contextmenu`"'},"​")],-1),V=s("h2",{id:"快捷键-hotkey",tabindex:"-1"},[a("快捷键 "),s("code",null,"hotkey"),a(),s("a",{class:"header-anchor",href:"#快捷键-hotkey","aria-label":'Permalink to "快捷键 `hotkey`"'},"​")],-1),K=s("h2",{id:"鼠标移动事件支持-mousemove",tabindex:"-1"},[a("鼠标移动事件支持 "),s("code",null,"mousemove"),a(),s("a",{class:"header-anchor",href:"#鼠标移动事件支持-mousemove","aria-label":'Permalink to "鼠标移动事件支持 `mousemove`"'},"​")],-1),z=s("h2",{id:"拖放选择-selectable",tabindex:"-1"},[a("拖放选择 "),s("code",null,"selectable"),a(),s("a",{class:"header-anchor",href:"#拖放选择-selectable","aria-label":'Permalink to "拖放选择 `selectable`"'},"​")],-1),W=s("h2",{id:"过滤-filter",tabindex:"-1"},[a("过滤 "),s("code",null,"filter"),a(),s("a",{class:"header-anchor",href:"#过滤-filter","aria-label":'Permalink to "过滤 `filter`"'},"​")],-1),Z=s("h2",{id:"拖放移动-moveable",tabindex:"-1"},[a("拖放移动 "),s("code",null,"moveable"),a(),s("a",{class:"header-anchor",href:"#拖放移动-moveable","aria-label":'Permalink to "拖放移动 `moveable`"'},"​")],-1),J=s("h2",{id:"数据网格-datagrid",tabindex:"-1"},[a("数据网格 "),s("code",null,"datagrid"),a(),s("a",{class:"header-anchor",href:"#数据网格-datagrid","aria-label":'Permalink to "数据网格 `datagrid`"'},"​")],-1),G=s("h2",{id:"编辑状态-draft",tabindex:"-1"},[a("编辑状态 "),s("code",null,"draft"),a(),s("a",{class:"header-anchor",href:"#编辑状态-draft","aria-label":'Permalink to "编辑状态 `draft`"'},"​")],-1),U=s("h2",{id:"可编辑-editable",tabindex:"-1"},[a("可编辑 "),s("code",null,"editable"),a(),s("a",{class:"header-anchor",href:"#可编辑-editable","aria-label":'Permalink to "可编辑 `editable`"'},"​")],-1),X=s("h2",{id:"历史记录-history",tabindex:"-1"},[a("历史记录 "),s("code",null,"history"),a(),s("a",{class:"header-anchor",href:"#历史记录-history","aria-label":'Permalink to "历史记录 `history`"'},"​")],-1),Y=s("h2",{id:"自动滚动-autoscroll",tabindex:"-1"},[a("自动滚动 "),s("code",null,"autoscroll"),a(),s("a",{class:"header-anchor",href:"#自动滚动-autoscroll","aria-label":'Permalink to "自动滚动 `autoscroll`"'},"​")],-1);function Q(h,n,i,t,e,g){const k=F("Badge"),y=F("Example");return v(),f("div",null,[T,w,l(k,{text:"内置插件"}),_,l(k,{text:"内置插件"}),S,l(k,{text:"内置插件"}),R,l(k,{text:"内置插件"}),j,l(k,{text:"内置插件"}),M,l(y,null,{default:o(()=>[N]),_:1}),O,l(y,null,{default:o(()=>[L]),_:1}),$,l(k,{text:"WIP",type:"danger"}),H,l(k,{text:"WIP",type:"danger"}),V,l(k,{text:"WIP",type:"danger"}),K,l(k,{text:"WIP",type:"danger"}),z,l(k,{text:"WIP",type:"danger"}),W,l(k,{text:"WIP",type:"danger"}),Z,l(k,{text:"WIP",type:"danger"}),J,l(k,{text:"WIP",type:"danger"}),G,l(k,{text:"WIP",type:"danger"}),U,l(k,{text:"WIP",type:"danger"}),X,l(k,{text:"WIP",type:"danger"}),Y,l(k,{text:"WIP",type:"danger"})])}const as=m(I,[["render",Q]]);export{is as __pageData,as as default};
