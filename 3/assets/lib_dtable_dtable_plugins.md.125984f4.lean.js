import{f as k,_ as f,C as h,o as D,c as v,H as o,w as B,k as s,a as n,Q as c}from"./chunks/framework.723e1065.js";const r=[{name:"id",title:"ID",width:60,fixed:"left",checkbox:!0},{name:"project",title:"项目名称",width:200,fixed:"left",type:"link",sortType:!1,nestedToggle:!0},{name:"manager",title:"负责人",width:60,sortType:!1,flex:1,type:"avatar",avatarKey:"managerAvatar",avatarWithName:!0},{name:"progress",title:"进度",width:65,align:"center",sortType:!1,type:"progress"},{name:"storyPoints",title:"需求规模",width:80,align:"right",sortType:!1,html:p=>`${Number(p).toFixed(1)} <small class="text-gray">SP</small>`},{name:"executionCounts",title:"执行数",width:70,align:"center",sortType:!1,html:'{0} <small class="text-dark">迭代</small>'},{name:"investedDays",title:"已投入",width:70,align:"center",sortType:!1,html:'{0} <small class="text-dark">人天</small>'},{name:"startDate",title:"开始日期",width:90,align:"center",sortType:!1,formatDate:"yyyy年MM月dd日"},{name:"finishDate",title:"完成日期",width:90,align:"center",sortType:!1,formatDate:"yyyy年MM月dd日"},{name:"actions",title:"操作",width:120,sortType:!1,fixed:"right",onRenderCell(p,{col:l,row:a}){return p[0]={html:a.data[l.name].map(t=>`<a href="#action=${t}">${{start:"开始",close:"关闭",edit:"编辑"}[t]||t}</a>`).join(" ")},p}}],y=["禅道开源版","禅道企业版","禅道旗舰版","禅道移动端","禅道自动化测试社区","ZUI3","ZenDAS","渠成云原生应用交付平台","ZTF","ZenData","ZentaoPHP","喧喧","ZSite","ZDOO","ZenTools","ZenShot","ZenPanel","ZBox","MZUI"],u=["李强","张天明","孙小微","王萌","刘大辉","周红","李兰","金星","魏小娟","张亮","马广春","丁玉涛"],b=Date.now();function x(p){const l=Math.floor(Math.random()*u.length),a=p+1;return{id:`${a}`,project:`${y[p%y.length]}${Math.floor(p/y.length)||""}`,manager:u[l],managerAvatar:k(`/assets/avatar/avatar-${1+l%10}.png`),storyPoints:Math.floor(Math.random()*1e3),executionCounts:Math.floor(Math.random()*50),investedDays:Math.floor(Math.random()*60),startDate:new Date(b-Math.floor(Math.random()*100*(3600*1e3*24))).toLocaleDateString(),finishDate:new Date(b+Math.floor(Math.random()*100*(3600*1e3*24))).toLocaleDateString(),progress:Math.floor(Math.random()*100),actions:["start","edit","close"],parent:`${["","","",a-1,a-2,a-3,a-3,a-4,"",""][a%10]}`}}const g=Array(100).fill(0).map((p,l)=>x(l)),C={"dtable-cellspan":{plugins:["rich","cellspan"],nested:!1,cols:{id:!1,manager:!1,executionCounts:{align:"right",sortType:!0},investedDays:{align:"right"},startDate:{width:120,sortType:!0},finishDate:{width:120,sortType:!0},actions:{type:"actionButtons",width:100,onRenderCell:null,actionBtnData:{start:{title:"开始",icon:"play"},close:{title:"关闭",icon:"off"},edit:{title:"编辑",icon:"pencil"}},style:{justifyContent:"center"}}},getCellSpan:p=>{if(p.row.index===0&&p.col.index===0)return{rowSpan:2};if(p.col.name==="progress"&&p.row.index%3===1)return{colSpan:3,rowSpan:2}}},"dtable-sortable":{nested:!1,plugins:["sortable"],sortable:!0}};function P(p){let l=C[p]||{};return typeof l=="string"&&(l=C[l]||{}),{height:400,striped:!1,...l,data:typeof l.data=="number"?g.slice(0,l.data):g,cols:Array.isArray(l.cols)?l.cols.map(a=>typeof a=="string"?r.find(t=>t.name===a):{...r.find(t=>t.name===a.name),...a}):r.map(a=>{if(l.cols){const t=l.cols[a.name];if(t)return{...a,...t};if(t===!1)return{...a,hidden:!0}}return a})}}let i=0;function m(){i&&cancelAnimationFrame(i),i=requestAnimationFrame(A)}function A(){const p=document.querySelectorAll('[id^="dtable-"]:not(.dtable)');let l=0;p.forEach(a=>{if(a.classList.contains("dtable-inited")){l++;return}if(!window.zui||!window.zui.dom.isVisible(a))return;const t=a.id,E=P(t),F=new window.zui.DTable(a,E);a.classList.add("dtable-inited"),console.log("> dtable inited",F),l++}),l===p.length&&document.removeEventListener("scroll",m)}const q={mounted(){onZUIReady(A),document.addEventListener("scroll",m)}},T=q,as=JSON.parse('{"title":"数据表格插件","description":"","frontmatter":{},"headers":[],"relativePath":"lib/dtable/dtable/plugins.md","filePath":"lib/dtable/dtable/plugins.md","lastUpdated":null}'),I=s("h1",{id:"数据表格插件",tabindex:"-1"},[n("数据表格插件 "),s("a",{class:"header-anchor",href:"#数据表格插件","aria-label":'Permalink to "数据表格插件"'},"​")],-1),w=s("h2",{id:"富格式插件-rich",tabindex:"-1"},[n("富格式插件 "),s("code",null,"rich"),n(),s("a",{class:"header-anchor",href:"#富格式插件-rich","aria-label":'Permalink to "富格式插件 `rich`"'},"​")],-1),_=c("",40),S=c("",20),R=c("",16),j=c("",19),M=c("",164),N=s("div",{id:"dtable-cellspan"},null,-1),O=c("",5),L=s("div",{id:"dtable-sortable"},null,-1),$=c("",11),H=s("h2",{id:"上下文菜单-contextmenu",tabindex:"-1"},[n("上下文菜单 "),s("code",null,"contextmenu"),n(),s("a",{class:"header-anchor",href:"#上下文菜单-contextmenu","aria-label":'Permalink to "上下文菜单 `contextmenu`"'},"​")],-1),V=s("h2",{id:"快捷键-hotkey",tabindex:"-1"},[n("快捷键 "),s("code",null,"hotkey"),n(),s("a",{class:"header-anchor",href:"#快捷键-hotkey","aria-label":'Permalink to "快捷键 `hotkey`"'},"​")],-1),K=s("h2",{id:"鼠标移动事件支持-mousemove",tabindex:"-1"},[n("鼠标移动事件支持 "),s("code",null,"mousemove"),n(),s("a",{class:"header-anchor",href:"#鼠标移动事件支持-mousemove","aria-label":'Permalink to "鼠标移动事件支持 `mousemove`"'},"​")],-1),z=s("h2",{id:"拖放选择-selectable",tabindex:"-1"},[n("拖放选择 "),s("code",null,"selectable"),n(),s("a",{class:"header-anchor",href:"#拖放选择-selectable","aria-label":'Permalink to "拖放选择 `selectable`"'},"​")],-1),W=s("h2",{id:"过滤-filter",tabindex:"-1"},[n("过滤 "),s("code",null,"filter"),n(),s("a",{class:"header-anchor",href:"#过滤-filter","aria-label":'Permalink to "过滤 `filter`"'},"​")],-1),Z=s("h2",{id:"拖放移动-moveable",tabindex:"-1"},[n("拖放移动 "),s("code",null,"moveable"),n(),s("a",{class:"header-anchor",href:"#拖放移动-moveable","aria-label":'Permalink to "拖放移动 `moveable`"'},"​")],-1),J=s("h2",{id:"数据网格-datagrid",tabindex:"-1"},[n("数据网格 "),s("code",null,"datagrid"),n(),s("a",{class:"header-anchor",href:"#数据网格-datagrid","aria-label":'Permalink to "数据网格 `datagrid`"'},"​")],-1),G=s("h2",{id:"编辑状态-draft",tabindex:"-1"},[n("编辑状态 "),s("code",null,"draft"),n(),s("a",{class:"header-anchor",href:"#编辑状态-draft","aria-label":'Permalink to "编辑状态 `draft`"'},"​")],-1),U=s("h2",{id:"可编辑-editable",tabindex:"-1"},[n("可编辑 "),s("code",null,"editable"),n(),s("a",{class:"header-anchor",href:"#可编辑-editable","aria-label":'Permalink to "可编辑 `editable`"'},"​")],-1),X=s("h2",{id:"历史记录-history",tabindex:"-1"},[n("历史记录 "),s("code",null,"history"),n(),s("a",{class:"header-anchor",href:"#历史记录-history","aria-label":'Permalink to "历史记录 `history`"'},"​")],-1),Q=s("h2",{id:"自动滚动-autoscroll",tabindex:"-1"},[n("自动滚动 "),s("code",null,"autoscroll"),n(),s("a",{class:"header-anchor",href:"#自动滚动-autoscroll","aria-label":'Permalink to "自动滚动 `autoscroll`"'},"​")],-1);function Y(p,l,a,t,E,F){const e=h("Badge"),d=h("Example");return D(),v("div",null,[I,w,o(e,{text:"内置插件"}),_,o(e,{text:"内置插件"}),S,o(e,{text:"内置插件"}),R,o(e,{text:"内置插件"}),j,o(e,{text:"内置插件"}),M,o(d,null,{default:B(()=>[N]),_:1}),O,o(d,null,{default:B(()=>[L]),_:1}),$,o(e,{text:"WIP",type:"danger"}),H,o(e,{text:"WIP",type:"danger"}),V,o(e,{text:"WIP",type:"danger"}),K,o(e,{text:"WIP",type:"danger"}),z,o(e,{text:"WIP",type:"danger"}),W,o(e,{text:"WIP",type:"danger"}),Z,o(e,{text:"WIP",type:"danger"}),J,o(e,{text:"WIP",type:"danger"}),G,o(e,{text:"WIP",type:"danger"}),U,o(e,{text:"WIP",type:"danger"}),X,o(e,{text:"WIP",type:"danger"}),Q,o(e,{text:"WIP",type:"danger"})])}const ns=f(T,[["render",Y]]);export{as as __pageData,ns as default};
