var Ct=Object.defineProperty;var Nt=(_,y,M)=>y in _?Ct(_,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):_[y]=M;var k=(_,y,M)=>(Nt(_,typeof y!="symbol"?y+"":y,M),M),Ee=(_,y,M)=>{if(!y.has(_))throw TypeError("Cannot "+M)};var H=(_,y,M)=>(Ee(_,y,"read from private field"),M?M.call(_):y.get(_)),j=(_,y,M)=>{if(y.has(_))throw TypeError("Cannot add the same private member more than once");y instanceof WeakSet?y.add(_):y.set(_,M)},G=(_,y,M,_e)=>(Ee(_,y,"write to private field"),_e?_e.call(_,M):y.set(_,M),M);var ue=(_,y,M)=>(Ee(_,y,"access private method"),M);(function(_,y){typeof exports=="object"&&typeof module<"u"?y(exports):typeof define=="function"&&define.amd?define(["exports"],y):(_=typeof globalThis<"u"?globalThis:_||self,y(_.zui={}))})(this,function(_){var Y,ee,te,R,A,Z,K,fe;"use strict";const y="",M="",_e="",zt="",Wt="",Pt="",Rt="",It="",Ut="",jt="",Yt="",lt=s=>{const t={};if(!s)return t;const e=Object.values(s.attributes);return e&&e.length>0&&e.forEach(n=>{const{name:r,value:o}=n;t[r]=o}),t};class at extends HTMLElement{constructor(){super();k(this,"$button");k(this,"$icon");k(this,"onClick");this.$button=document.createElement("button");const e=this.innerHTML;this.innerHTML="",this.$button.innerHTML=e,this.icon&&(this.$icon=document.createElement("i"),this.addClass(this.$icon,`icon ${this.icon}`),this.$button.prepend(this.$icon)),this.$button.classList.add("btn"),this.append(this.$button)}connectedCallback(){this.initStyle(),this.initEventListen(),this.isDisabled&&this.$button.setAttribute("disabled","disabled"),this.$button.addEventListener("keydown",e=>{switch(e.keyCode){case 13:e.stopPropagation();break}})}initStyle(){const e=lt(this);if(e)for(const n in e)["type","size","rounded","outline"].includes(n)&&this.addClass(this.$button,`-${e[n]}`)}initEventListen(){if(this.isDisabled||this.loading)return!1}addClass(e,n){e&&e.classList.add(n)}get type(){return this.getAttribute("type")}set type(e){this.getAttribute("type")?(this.setAttribute("type",e),this.addClass(this.$button,`-${this.type}`)):this.removeAttribute("type")}get size(){return this.getAttribute("size")}set size(e){this.getAttribute("size")?(this.setAttribute("size",e||"base"),this.addClass(this.$button,`-${e}`)):this.removeAttribute("size")}get loading(){return this.getAttribute("loading")}set loading(e){this.getAttribute("loading")?this.setAttribute("loading",e||""):this.removeAttribute("loading")}get rounded(){return this.getAttribute("rounded")}set rounded(e){this.getAttribute("rounded")?(this.setAttribute("rounded",e||""),this.addClass(this.$button,`-${e}`)):this.removeAttribute("rounded")}get isDisabled(){return this.getAttribute("isDisabled")!==null}set isDisabled(e){e===null||e===!1?this.removeAttribute("isDisabled"):this.setAttribute("isDisabled","")}get icon(){return this.getAttribute("icon")}set icon(e){this.setAttribute("icon",e)}static get observedAttributes(){return["type","size","rounded","disabled","loading","outline"]}get class(){return this.$button.classList}attributeChangedCallback(e,n){e==="isDisabled"&&this.$button&&(n!==null?this.$button.setAttribute("disabled","disabled"):this.$button.removeAttribute("disabled")),e==="loading"&&this.$button&&(n!==null?this.$button.setAttribute("disabled","disabled"):this.$button.removeAttribute("disabled")),e==="icon"&&this.$icon&&n&&this.addClass(this.$icon,`-${n}`),this.render()}render(){}}customElements.get("zui-button")||customElements.define("zui-button",at);const Ot="",Ft="";class He{constructor(t){j(this,Y,void 0);j(this,ee,void 0);var e;G(this,Y,t),G(this,ee,t.nextElementSibling),((e=H(this,Y).dataset)==null?void 0:e.toggle)==="dropdown"&&!H(this,Y).parentElement.className.includes("dropdown-hover")&&this.toggle(H(this,Y).parentElement,H(this,ee))}toggle(t,e){t.className.includes("open")?(this.hideMenu(e),t.className=t.className.replace(" open","")):(this.showMenu(e),t.className=t.className+" open")}showMenu(t){this.clearMenu(),t.classList.add("block")}hideMenu(t){t.classList.add("hidden")}clearMenu(){document.querySelectorAll(".dropdown-menu").forEach(e=>{e.classList.add("hidden"),e.parentElement&&(e.parentElement.className=e.parentElement.className.replace(" open",""))})}}Y=new WeakMap,ee=new WeakMap,document.addEventListener("click",function(s){s!==null&&s.target instanceof HTMLElement&&(s.target.dataset.toggle==="dropdown"?new He(s.target):new He(s).clearMenu())});const Bt="",qt="",Gt="",Xt="",Jt="",Vt="",Zt="",Kt="";class Te{constructor(t,e){k(this,"$modal");k(this,"options");k(this,"reposTask",null);this.$modal=t,this.$modal&&(this.options=e,e.type==="show"?this.onShow(this.$modal):this.onHide(this.$modal),e.type==="show"&&e.position&&this.adjustPosition(e.position,null),this.$modal.onclick=n=>this.onClick(n),window.addEventListener("resize",()=>{e.type==="show"&&e.position&&this.adjustPosition(e.position,null)}))}get modalClosable(){return this.$modal.dataset.modalClosable}onClick(t){var e,n;(((e=t.target.dataset)==null?void 0:e.dismiss)==="modal"||((n=t.target.parentElement.dataset)==null?void 0:n.dismiss)==="modal")&&(this.onHide(this.$modal),t.stopPropagation())}lockScroll(){document.body.style.overflow="hidden"}unlockScroll(){document.body.style.overflow=""}onShow(t){this.lockScroll(),t.classList.add("block")}onHide(t){t&&t.classList&&(this.unlockScroll(),t.classList.remove("block"))}onClear(t){document.querySelectorAll(".modal").forEach(n=>{(n.dataset.modalClosable!=="false"||t==="destory")&&n.classList.remove("block")})}adjustPosition(t,e){var a;if(clearTimeout(this.reposTask),e){this.reposTask=setTimeout(this.adjustPosition.bind(this,t,0),e);return}if(t===void 0&&(t=this.options.position),t==null)return;const n=this.$modal.getElementsByClassName("modal-dialog")[0];if(!n)return;const r=window.innerHeight,o=Math.max(0,(r-n.clientHeight)/2);let l=null;if(t==="fit"?l=`${o>50?Math.floor(o*2/3):o}px`:t==="center"?l=`${o}px`:this.isPlainObject(t)||(l=t),n.setAttribute("style",`top: ${l}`),n.className.includes("-fullscreen")){let c=null;if(((a=n.childNodes)==null?void 0:a.length)&&n.childNodes.length===1?c=n.childNodes[0]:c=n.childNodes[1],c){const p=(c==null?void 0:c.getElementsByClassName("modal-header")[0].clientHeight)||0,i=c==null?void 0:c.getElementsByClassName("modal-body")[0],m=(c==null?void 0:c.getElementsByClassName("modal-footer")[0].clientHeight)||0,d=r-p-m,h=i&&i.scrollHeight>d?"auto":"visible";i&&i.setAttribute("style",`max-height:${d}px;overflow:${h}`)}}}isPlainObject(t){return Object.prototype.toString.call(t)==="[object Object]"}}document.addEventListener("click",s=>{var t,e,n;if(s!==null&&s.target instanceof HTMLElement)if(((t=s.target.dataset)==null?void 0:t.toggle)==="modal"){let r=s.target.dataset.target;if(s.target.localName==="a"){const a=((e=s.target)==null?void 0:e.href)||"";r=a&&a.replace(/.*(?=#[^\s]+$)/,"")}if(!r.length)return;const o=document.querySelector(r),l={type:"show",position:((n=s.target.dataset)==null?void 0:n.position)||"fit"};new Te(o,l)}else s.target.parentElement.className.includes("modal")||new Te(s,{type:"hide"}).onClear()});function ct(s){const t=typeof s=="string"?document.querySelector(s):s;if(!t)return!1;if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)return t.select(),!0;if(window.getSelection){const e=window.getSelection();if(e){const n=document.createRange();return n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n),!0}}return!1}function ht(s){document.readyState!=="loading"?s():document.addEventListener("DOMContentLoaded",s)}const N=(...s)=>s.map(t=>Array.isArray(t)?N(...t):typeof t=="function"?N(t()):t!==null&&typeof t=="object"?Object.keys(t).filter(e=>{const n=t[e];return typeof n=="function"?!!n():!!n}).join(" "):t).filter(t=>typeof t=="string"&&t.length).join(" "),L=24*60*60*1e3,x=s=>s?(s instanceof Date||(typeof s=="string"&&(s=s.trim(),/^\d+$/.test(s)&&(s=Number.parseInt(s,10))),typeof s=="number"&&s<1e10&&(s*=1e3),s=new Date(s)),s):new Date,X=(s,t=new Date)=>(s=x(s),t=x(t),s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()),pe=(s,t=new Date)=>x(s).getFullYear()===x(t).getFullYear(),xe=(s,t=new Date)=>(s=x(s),t=x(t),s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()),dt=(s,t=new Date)=>{s=x(s),t=x(t);const e=1e3*60*60*24,n=Math.floor(s.getTime()/e),r=Math.floor(t.getTime()/e);return Math.floor((n+4)/7)===Math.floor((r+4)/7)},ut=(s,t)=>X(x(t),s),ft=(s,t)=>X(x(t).getTime()-L,s),_t=(s,t)=>X(x(t).getTime()+L,s),pt=(s,t)=>X(x(t).getTime()-2*L,s),me=(s,t="yyyy-MM-dd hh:mm")=>{s=x(s);const e={"M+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"H+":s.getHours()%12,"m+":s.getMinutes(),"s+":s.getSeconds(),"S+":s.getMilliseconds()};return/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,`${s.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(e).forEach(n=>{if(new RegExp(`(${n})`).test(t)){const r=`${e[n]}`;t=t.replace(RegExp.$1,RegExp.$1.length===1?r:`00${r}`.substring(r.length))}}),t},mt=(s,t,e)=>{const n={full:"yyyy-M-d",month:"M-d",day:"d",str:"{0} ~ {1}",...e},r=me(s,pe(s)?n.month:n.full);if(X(s,t))return r;const o=me(t,pe(s,t)?xe(s,t)?n.day:n.month:n.full);return n.str.replace("{0}",r).replace("{1}",o)},gt=s=>{const t=new Date().getTime();switch(s){case"oneWeek":return t-L*7;case"oneMonth":return t-L*31;case"threeMonth":return t-L*31*3;case"halfYear":return t-L*183;case"oneYear":return t-L*365;case"twoYear":return t-2*(L*365);default:return 0}},ge=(s,t,e=!0,n=Date.now())=>{switch(t){case"year":return s*=365,ge(s,"day",e,n);case"quarter":s*=3;case"month":return s*=30,ge(s,"day",e,n);case"week":s*=7;case"day":s*=24;case"hour":s*=60;case"minute":s*=6e4;break;default:s=0}return e?n+s:n-s},Qt="",es="",ts="",ss="";var ie,S,De,Q,Le,re={},Ae=[],bt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(s,t){for(var e in t)s[e]=t[e];return s}function Ce(s){var t=s.parentNode;t&&t.removeChild(s)}function w(s,t,e){var n,r,o,l={};for(o in t)o=="key"?n=t[o]:o=="ref"?r=t[o]:l[o]=t[o];if(arguments.length>2&&(l.children=arguments.length>3?ie.call(arguments,2):e),typeof s=="function"&&s.defaultProps!=null)for(o in s.defaultProps)l[o]===void 0&&(l[o]=s.defaultProps[o]);return le(s,l,n,r,null)}function le(s,t,e,n,r){var o={type:s,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r==null?++De:r};return r==null&&S.vnode!=null&&S.vnode(o),o}function Ne(){return{current:null}}function ae(s){return s.children}function J(s,t){this.props=s,this.context=t}function V(s,t){if(t==null)return s.__?V(s.__,s.__.__k.indexOf(s)+1):null;for(var e;t<s.__k.length;t++)if((e=s.__k[t])!=null&&e.__e!=null)return e.__e;return typeof s.type=="function"?V(s):null}function ze(s){var t,e;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,t=0;t<s.__k.length;t++)if((e=s.__k[t])!=null&&e.__e!=null){s.__e=s.__c.base=e.__e;break}return ze(s)}}function We(s){(!s.__d&&(s.__d=!0)&&Q.push(s)&&!ce.__r++||Le!==S.debounceRendering)&&((Le=S.debounceRendering)||setTimeout)(ce)}function ce(){for(var s;ce.__r=Q.length;)s=Q.sort(function(t,e){return t.__v.__b-e.__v.__b}),Q=[],s.some(function(t){var e,n,r,o,l,a;t.__d&&(l=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=P({},o)).__v=o.__v+1,be(a,o,r,e.__n,a.ownerSVGElement!==void 0,o.__h!=null?[l]:null,n,l==null?V(o):l,o.__h),Oe(n,o),o.__e!=l&&ze(o)))})}function Pe(s,t,e,n,r,o,l,a,c,p){var i,m,d,h,u,b,g,v=n&&n.__k||Ae,$=v.length;for(e.__k=[],i=0;i<t.length;i++)if((h=e.__k[i]=(h=t[i])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?le(null,h,null,null,h):Array.isArray(h)?le(ae,{children:h},null,null,null):h.__b>0?le(h.type,h.props,h.key,null,h.__v):h)!=null){if(h.__=e,h.__b=e.__b+1,(d=v[i])===null||d&&h.key==d.key&&h.type===d.type)v[i]=void 0;else for(m=0;m<$;m++){if((d=v[m])&&h.key==d.key&&h.type===d.type){v[m]=void 0;break}d=null}be(s,h,d=d||re,r,o,l,a,c,p),u=h.__e,(m=h.ref)&&d.ref!=m&&(g||(g=[]),d.ref&&g.push(d.ref,null,h),g.push(m,h.__c||u,h)),u!=null?(b==null&&(b=u),typeof h.type=="function"&&h.__k===d.__k?h.__d=c=Re(h,c,s):c=Ie(s,h,d,v,u,c),typeof e.type=="function"&&(e.__d=c)):c&&d.__e==c&&c.parentNode!=s&&(c=V(d))}for(e.__e=b,i=$;i--;)v[i]!=null&&(typeof e.type=="function"&&v[i].__e!=null&&v[i].__e==e.__d&&(e.__d=V(n,i+1)),Be(v[i],v[i]));if(g)for(i=0;i<g.length;i++)Fe(g[i],g[++i],g[++i])}function Re(s,t,e){for(var n,r=s.__k,o=0;r&&o<r.length;o++)(n=r[o])&&(n.__=s,t=typeof n.type=="function"?Re(n,t,e):Ie(e,n,n,r,n.__e,t));return t}function Ie(s,t,e,n,r,o){var l,a,c;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(e==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==s)s.appendChild(r),l=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<n.length;c+=2)if(a==r)break e;s.insertBefore(r,o),l=o}return l!==void 0?l:r.nextSibling}function yt(s,t,e,n,r){var o;for(o in e)o==="children"||o==="key"||o in t||he(s,o,null,e[o],n);for(o in t)r&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||e[o]===t[o]||he(s,o,t[o],e[o],n)}function Ue(s,t,e){t[0]==="-"?s.setProperty(t,e):s[t]=e==null?"":typeof e!="number"||bt.test(t)?e:e+"px"}function he(s,t,e,n,r){var o;e:if(t==="style")if(typeof e=="string")s.style.cssText=e;else{if(typeof n=="string"&&(s.style.cssText=n=""),n)for(t in n)e&&t in e||Ue(s.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||Ue(s.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in s?t.toLowerCase().slice(2):t.slice(2),s.l||(s.l={}),s.l[t+o]=e,e?n||s.addEventListener(t,o?Ye:je,o):s.removeEventListener(t,o?Ye:je,o);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in s)try{s[t]=e==null?"":e;break e}catch{}typeof e=="function"||(e!=null&&(e!==!1||t[0]==="a"&&t[1]==="r")?s.setAttribute(t,e):s.removeAttribute(t))}}function je(s){this.l[s.type+!1](S.event?S.event(s):s)}function Ye(s){this.l[s.type+!0](S.event?S.event(s):s)}function be(s,t,e,n,r,o,l,a,c){var p,i,m,d,h,u,b,g,v,$,I,U,C,E=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(c=e.__h,a=t.__e=e.__e,t.__h=null,o=[a]),(p=S.__b)&&p(t);try{e:if(typeof E=="function"){if(g=t.props,v=(p=E.contextType)&&n[p.__c],$=p?v?v.props.value:p.__:n,e.__c?b=(i=t.__c=e.__c).__=i.__E:("prototype"in E&&E.prototype.render?t.__c=i=new E(g,$):(t.__c=i=new J(g,$),i.constructor=E,i.render=wt),v&&v.sub(i),i.props=g,i.state||(i.state={}),i.context=$,i.__n=n,m=i.__d=!0,i.__h=[]),i.__s==null&&(i.__s=i.state),E.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=P({},i.__s)),P(i.__s,E.getDerivedStateFromProps(g,i.__s))),d=i.props,h=i.state,m)E.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(E.getDerivedStateFromProps==null&&g!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,$),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,$)===!1||t.__v===e.__v){i.props=g,i.state=i.__s,t.__v!==e.__v&&(i.__d=!1),i.__v=t,t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(D){D&&(D.__=t)}),i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,$),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,h,u)})}if(i.context=$,i.props=g,i.__v=t,i.__P=s,I=S.__r,U=0,"prototype"in E&&E.prototype.render)i.state=i.__s,i.__d=!1,I&&I(t),p=i.render(i.props,i.state,i.context);else do i.__d=!1,I&&I(t),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++U<25);i.state=i.__s,i.getChildContext!=null&&(n=P(P({},n),i.getChildContext())),m||i.getSnapshotBeforeUpdate==null||(u=i.getSnapshotBeforeUpdate(d,h)),C=p!=null&&p.type===ae&&p.key==null?p.props.children:p,Pe(s,Array.isArray(C)?C:[C],t,e,n,r,o,l,a,c),i.base=t.__e,t.__h=null,i.__h.length&&l.push(i),b&&(i.__E=i.__=null),i.__e=!1}else o==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=vt(e.__e,t,e,n,r,o,l,c);(p=S.diffed)&&p(t)}catch(D){t.__v=null,(c||o!=null)&&(t.__e=a,t.__h=!!c,o[o.indexOf(a)]=null),S.__e(D,t,e)}}function Oe(s,t){S.__c&&S.__c(t,s),s.some(function(e){try{s=e.__h,e.__h=[],s.some(function(n){n.call(e)})}catch(n){S.__e(n,e.__v)}})}function vt(s,t,e,n,r,o,l,a){var c,p,i,m=e.props,d=t.props,h=t.type,u=0;if(h==="svg"&&(r=!0),o!=null){for(;u<o.length;u++)if((c=o[u])&&"setAttribute"in c==!!h&&(h?c.localName===h:c.nodeType===3)){s=c,o[u]=null;break}}if(s==null){if(h===null)return document.createTextNode(d);s=r?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),o=null,a=!1}if(h===null)m===d||a&&s.data===d||(s.data=d);else{if(o=o&&ie.call(s.childNodes),p=(m=e.props||re).dangerouslySetInnerHTML,i=d.dangerouslySetInnerHTML,!a){if(o!=null)for(m={},u=0;u<s.attributes.length;u++)m[s.attributes[u].name]=s.attributes[u].value;(i||p)&&(i&&(p&&i.__html==p.__html||i.__html===s.innerHTML)||(s.innerHTML=i&&i.__html||""))}if(yt(s,d,m,r,a),i)t.__k=[];else if(u=t.props.children,Pe(s,Array.isArray(u)?u:[u],t,e,n,r&&h!=="foreignObject",o,l,o?o[0]:e.__k&&V(e,0),a),o!=null)for(u=o.length;u--;)o[u]!=null&&Ce(o[u]);a||("value"in d&&(u=d.value)!==void 0&&(u!==s.value||h==="progress"&&!u||h==="option"&&u!==m.value)&&he(s,"value",u,m.value,!1),"checked"in d&&(u=d.checked)!==void 0&&u!==s.checked&&he(s,"checked",u,m.checked,!1))}return s}function Fe(s,t,e){try{typeof s=="function"?s(t):s.current=t}catch(n){S.__e(n,e)}}function Be(s,t,e){var n,r;if(S.unmount&&S.unmount(s),(n=s.ref)&&(n.current&&n.current!==s.__e||Fe(n,null,t)),(n=s.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){S.__e(o,t)}n.base=n.__P=null}if(n=s.__k)for(r=0;r<n.length;r++)n[r]&&Be(n[r],t,typeof s.type!="function");e||s.__e==null||Ce(s.__e),s.__e=s.__d=void 0}function wt(s,t,e){return this.constructor(s,e)}function St(s,t,e){var n,r,o;S.__&&S.__(s,t),r=(n=typeof e=="function")?null:e&&e.__k||t.__k,o=[],be(t,s=(!n&&e||t).__k=w(ae,null,[s]),r||re,re,t.ownerSVGElement!==void 0,!n&&e?[e]:r?null:t.firstChild?ie.call(t.childNodes):null,o,!n&&e?e:r?r.__e:t.firstChild,n),Oe(o,s)}ie=Ae.slice,S={__e:function(s,t,e,n){for(var r,o,l;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(s)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(s,n||{}),l=r.__d),l)return r.__E=r}catch(a){s=a}throw s}},De=0,J.prototype.setState=function(s,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof s=="function"&&(s=s(P({},e),this.props)),s&&P(e,s),s!=null&&this.__v&&(t&&this.__h.push(t),We(this))},J.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),We(this))},J.prototype.render=ae,Q=[],ce.__r=0;const ns="",os="";class ye extends J{constructor(e){var n;super(e);k(this,"_rafId",0);k(this,"_handleWheel",e=>{var r,o,l;!((o=e.target)!=null&&o.closest((r=this.props.wheelContainer)!=null?r:".-scrollbar-container"))||(e.preventDefault(),this.scrollOffset((this.props.type==="horz"?e.deltaX:e.deltaY)*((l=this.props.wheelSpeed)!=null?l:1)))});k(this,"_handleMouseMove",e=>{const{dragStart:n}=this.state;n&&(this._rafId&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(()=>{const r=this.props.type==="horz"?e.clientX-n.x:e.clientY-n.y;this.scroll(n.offset+r*this.props.scrollSize/this.props.clientSize),this._rafId=0}),e.preventDefault())});k(this,"_handleMouseUp",()=>{this.state.dragStart&&this.setState({dragStart:!1})});k(this,"_handleMouseDown",e=>{this.state.dragStart||this.setState({dragStart:{x:e.clientX,y:e.clientY,offset:this.state.scrollPos}}),e.stopPropagation()});k(this,"_handleClick",e=>{const n=e.currentTarget;if(!n)return;const r=n.getBoundingClientRect(),{type:o,clientSize:l,scrollSize:a}=this.props,c=(o==="horz"?e.clientX-r.left:e.clientY-r.top)-this.barSize/2;this.scroll(c*a/l)});this.state={scrollPos:(n=this.props.defaultScrollPos)!=null?n:0,dragStart:!1}}get maxScrollPos(){const{scrollSize:e,clientSize:n}=this.props;return Math.max(0,e-n)}get barSize(){const{clientSize:e,scrollSize:n,size:r=10}=this.props;return Math.max(Math.round(e*e/n),r)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:e}=this.props;e&&document.addEventListener("wheel",this._handleWheel,{passive:!1})}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.props.wheelContainer&&document.removeEventListener("wheel",this._handleWheel)}scroll(e){e=Math.max(0,Math.min(Math.round(e),this.maxScrollPos)),e!==this.state.scrollPos&&this.setState({scrollPos:e},()=>{var r;const{onScroll:n}=this.props;n&&n(e,(r=this.props.type)!=null?r:"vert")})}scrollOffset(e){this.scroll(this.state.scrollPos+e)}render(){const{scrollSize:e,clientSize:n,type:r,size:o=10,className:l,style:a,left:c,top:p,bottom:i,right:m}=this.props,{maxScrollPos:d}=this,{dragStart:h,scrollPos:u}=this.state,b={left:c,top:p,bottom:i,right:m,...a},g={};return r==="horz"?(b.height=o,b.width=n,g.width=Math.max(Math.round(n*n/e),o),g.left=Math.round(u*(n-g.width)/d)):(b.width=o,b.height=n,g.height=this.barSize,g.top=Math.round(u*(n-g.height)/d)),w("div",{className:N("scrollbar",l,{"is-vert":r==="vert","is-horz":r==="horz","is-dragging":h}),style:b,onMouseDown:this._handleClick},w("div",{className:"scrollbar-bar",style:g,onMouseDown:this._handleMouseDown}))}}function ve({col:s,className:t,height:e,style:n,children:r,html:o,...l}){const a={left:s.left,width:s.realWidth,height:e,...n,...s.cellStyle};return s.align&&(a.textAlign=s.align),w("div",{className:N("dtable-cell",s.className,t),style:a,...l,"data-col":s.name,dangerouslySetInnerHTML:o},r)}function kt({className:s,style:t,col:e,height:n,children:r}){let{sortType:o}=e;return o===!0&&(o="none"),w(ve,{className:s,height:n,style:t,col:e,"data-sort":o||null,"data-type":e.type},e.title,o&&w("div",{className:`dtable-sort -sort-${o}`}),r)}function Mt(s){const t={};if(typeof s=="object"&&s&&("html"in s||"children"in s)){const{html:e,children:n,style:r,className:o}=s;e?t.html={__html:e}:n&&(t.children=n),t.style=r,t.className=o}else t.children=s;return t}function we({rowID:s,className:t,top:e=0,left:n=0,width:r,height:o,cols:l,data:a,CellComponent:c=ve,onRenderCell:p}){return w("div",{className:N("dtable-cells",t),style:{top:e,left:n,width:r,height:o}},l.map(i=>{if(!i.visible)return null;let m=null;p?m=p(s,i,a):i.onRenderCell?m=i.onRenderCell(s,i,a):a&&(m=a[i.name]);const{children:d,html:h,className:u,style:b}=Mt(m);return w(c,{key:i.name,col:i,className:u,style:b,html:h},d)}))}function qe({rowID:s,className:t,top:e,height:n,fixedLeftCols:r,fixedRightCols:o,scrollCols:l,flexLeftWidth:a,scrollWidth:c,scrollWidthTotal:p,flexRightWidth:i,scrollLeft:m,CellComponent:d=ve,onRenderCell:h,data:u}){let b=null;r!=null&&r.length&&(b=w(we,{className:"-fixed-left",cols:r,width:a,rowID:s,CellComponent:d,onRenderCell:h,data:u}));let g=null;l!=null&&l.length&&(g=w(we,{className:"-flexable",cols:l,left:a-m,width:p,rowID:s,CellComponent:d,onRenderCell:h,data:u}));let v=null;o!=null&&o.length&&(v=w(we,{className:"-fixed-right",cols:o,left:a+c,width:i,rowID:s,CellComponent:d,onRenderCell:h,data:u}));const $={top:e,height:n,lineHeight:`${n-2}px`};return w("div",{className:N("dtable-row",t),style:$,"data-id":s},b,g,v)}function $t({height:s,fixedLeftCols:t,fixedRightCols:e,scrollCols:n,flexLeftWidth:r,scrollWidth:o,flexRightWidth:l,scrollWidthTotal:a,scrollLeft:c,onRenderCell:p}){return w("div",{className:"dtable-header",style:{height:s}},w(qe,{rowID:"HEADER",className:"-in-header",top:0,height:s,fixedLeftCols:t,fixedRightCols:e,scrollCols:n,flexLeftWidth:r,scrollWidth:o,scrollWidthTotal:a,flexRightWidth:l,scrollLeft:c,CellComponent:kt,onRenderCell:p}))}function Et({className:s,style:t,top:e,rows:n,height:r,rowHeight:o,fixedLeftCols:l,fixedRightCols:a,scrollCols:c,flexLeftWidth:p,scrollWidth:i,scrollWidthTotal:m,flexRightWidth:d,scrollLeft:h,onRenderCell:u}){return t={...t,top:e,height:r},w("div",{className:N("dtable-rows",s),style:t},n.map(b=>w(qe,{rowID:b.data.id,top:b.top,height:o,fixedLeftCols:l,fixedRightCols:a,scrollCols:c,flexLeftWidth:p,scrollWidth:i,scrollWidthTotal:m,flexRightWidth:d,scrollLeft:h,data:b.data,onRenderCell:u})))}class Ht extends J{constructor(){super(...arguments);k(this,"state",{scrollTop:0,scrollLeft:0,hiddenRows:{},hiddenCols:{}});k(this,"ref",Ne());k(this,"_needUpdateSize",!1);k(this,"_handleScroll",(e,n)=>{n==="horz"?this.scrollLeft(e):this.scrollTop(e)});k(this,"_handleClick",e=>{var p,i,m,d,h,u,b,g,v;const n=e.target;if(!n)return;const r=n.closest(".dtable-cell"),o=n.closest(".dtable-row"),l=(p=r==null?void 0:r.getAttribute("data-col"))!=null?p:"",a=(i=o==null?void 0:o.getAttribute("data-id"))!=null?i:"",c=(m=this.props.data)==null?void 0:m.find($=>$.id===a);if(r){if(a==="HEADER")(h=(d=this.props).onHeaderCellClick)==null||h.call(d,e,{colName:l});else if(((b=(u=this.props).onCellClick)==null?void 0:b.call(u,e,{colName:l,rowID:a,rowData:c}))===!0)return}(v=(g=this.props).onRowClick)==null||v.call(g,e,{rowID:a,rowData:c})})}componentDidMount(){var e,n,r;this._needUpdateSize?this.forceUpdate():(n=(e=this.props).afterRender)==null||n.call(e,this.props,this.state),(r=this.ref.current)==null||r.addEventListener("click",this._handleClick)}componentDidUpdate(){var e,n;this._needUpdateSize=!1,(n=(e=this.props).afterRender)==null||n.call(e,this.props,this.state)}componentWillUnmount(){var e;(e=this.ref.current)==null||e.removeEventListener("click",this._handleClick)}scrollLeft(e){this.setState({scrollLeft:e},()=>{var n,r;(r=(n=this.props).onScroll)==null||r.call(n,this.state.scrollLeft,"horz")})}scrollTop(e){this.setState({scrollTop:e},()=>{var n,r;(r=(n=this.props).onScroll)==null||r.call(n,this.state.scrollLeft,"vert")})}getLayout(){var st,nt,ot;const e={...Ge(),...this.props},{data:n,header:r,footer:o,rowHeight:l,defaultColWidth:a,minColWidth:c,maxColWidth:p,rowDataMap:i}=e,{scrollTop:m=0,scrollLeft:d=0,hiddenRows:h={},hiddenCols:u={}}=this.state,b=r?e.headerHeight||l:0,g=o?e.footerHeight||l:0,v=(f,T,W)=>(f&&(T&&(f=Math.max(T,f)),W&&(f=Math.min(W,f))),f),$=[],I=[],U=[];let C=0,E=0;e.cols.forEach(f=>{var it,rt;if(f.hidden||u[f.name])return;const{minWidth:T=c,maxWidth:W=p}=f,ne=v((it=f.width)!=null?it:0,T,W),oe=(rt=f.flex)!=null?rt:1,At=oe*v(a,T,W),q={...f,left:0,flex:oe,realWidth:ne,flexWidth:At,visible:!0};q.fixed==="left"?(q.left=C,C+=ne,$.push(q)):q.fixed==="right"?(q.left=E,E+=ne,I.push(q)):U.push(q)});let D=e.width,O=0;if(typeof D=="function"&&(D=D()),D==="auto")O=C+E,U.forEach(f=>{f.realWidth||(f.realWidth=f.flexWidth),O+=f.realWidth});else if(D==="100%"){const f=(st=this.ref.current)==null?void 0:st.parentElement;if(f)O=f.clientWidth;else{O=0,this._needUpdateSize=!0;return}}else O=D;let se=0;const Lt=(nt=i==null?void 0:i.$hidden)!=null?nt:"$hidden",Je=n.reduce((f,T)=>(!T[Lt]&&!h[T.id]&&(f.push({data:T,top:se}),se+=l),f),[]);let z=e.height,F=0;if(typeof z=="function"&&(z=z()),z==="auto")F=b+g+se;else if(typeof z=="object")F=Math.min(z.max,Math.max(z.min,b+g+se));else if(z==="100%"){const f=(ot=this.ref.current)==null?void 0:ot.parentElement;if(f)F=f.clientHeight;else{F=0,this._needUpdateSize=!0;return}}else F=z;const Ve=F-b-g,Ze=m+Ve,Ke=[],ke=O-C-E;let B=0;const Me=[];let Qe=0;if(U.forEach(f=>{f.realWidth?B+=f.realWidth:(Me.push(f),Qe+=f.flex)}),Me.length){const f=Math.max(0,ke-B);Me.forEach(T=>{var oe;const{minWidth:W=c,maxWidth:ne=p}=T;T.realWidth=Math.min(ne,Math.max(W,Math.ceil(f*((oe=T.flex)!=null?oe:1)/Qe))),B+=T.realWidth})}B=0,U.forEach(f=>{f.left+=B,B+=f.realWidth,(f.left+f.realWidth<d||f.left>d+ke)&&(f.visible=!1)});const et=Math.floor(m/l),tt=Math.min(Je.length,Math.ceil(Ze/l));for(let f=et;f<tt;f++){const T=n[f],W=f*l;Ke.push({top:W-m,data:T})}let $e={width:O,height:F,rows:Je,visibleRows:Ke,rowHeight:l,rowsHeight:Ve,rowsHeightTotal:se,header:r,footer:o,headerHeight:b,footerHeight:g,colsInfo:{fixedLeftCols:$,fixedRightCols:I,scrollCols:U,flexLeftWidth:C,scrollWidth:ke,scrollWidthTotal:B,flexRightWidth:E},scrollBottom:Ze,scrollTop:m,scrollLeft:d,startRowIndex:et,endRowIndex:tt};if(this.props.onLayout){const f=this.props.onLayout($e,e,this.state);f&&($e=f)}return $e}renderHeader(e){const{header:n,colsInfo:r,headerHeight:o}=e;if(!n)return null;if(n===!0)return w($t,{scrollLeft:this.state.scrollLeft,height:o,onRenderCell:this.props.onRenderCell,...r});let l,a;if(typeof n=="function"){const c=n(e,this.props,this.state);typeof c=="object"&&c&&"__html"in c?a=c:l=c}else l=n;return w("div",{className:"dtable-header",style:{height:o},dangerouslySetInnerHTML:a},l)}renderRows(e){const{headerHeight:n,rowsHeight:r,visibleRows:o,rowHeight:l,colsInfo:a}=e;return w(Et,{top:n,height:r,rows:o,rowHeight:l,scrollLeft:this.state.scrollLeft,onRenderCell:this.props.onRenderCell,...a})}renderFooter(e){const{footer:n,footerHeight:r}=e;if(!n)return null;let o,l;if(typeof n=="function"){const a=n(e,this.props,this.state);typeof a=="object"&&a&&"__html"in a?l=a:o=a}else o=n;return w("div",{className:"dtable-footer",style:{height:r},dangerouslySetInnerHTML:l},o)}renderScrollBars(e){const n=[],{scrollLeft:r,colsInfo:o,scrollTop:l,rowsHeight:a,rowsHeightTotal:c}=e,{scrollWidthTotal:p,scrollWidth:i}=o,{scrollbarSize:m=10,horzScrollbarPos:d}=this.props;return p>i&&n.push(w(ye,{key:"horz",type:"horz",defaultScrollPos:r,scrollSize:p,clientSize:i,onScroll:this._handleScroll,left:o.flexLeftWidth,bottom:d==="inside"?0:-m,size:m,wheelContainer:".dtable"})),c>a&&n.push(w(ye,{key:"vert",type:"vert",defaultScrollPos:l,scrollSize:c,clientSize:a,onScroll:this._handleScroll,right:0,size:m,top:e.headerHeight,wheelContainer:".dtable"})),n.length?n:null}render(){const e=this.getLayout(),{className:n,rowHover:r,colHover:o,cellHover:l,bordered:a,striped:c,scrollbarHover:p}=this.props,i={width:e==null?void 0:e.width,height:e==null?void 0:e.height};return w("div",{className:N("dtable",n,{"-hover-row":r,"-hover-col":o,"-hover-cell":l,"-bordered":a,"-striped":c,"scrollbar-hover":p}),style:i,ref:this.ref},e&&this.renderHeader(e),e&&this.renderRows(e),e&&this.renderFooter(e),e&&this.renderScrollBars(e))}}function Ge(){return{cols:[],data:[],width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:1e3,header:!0,footer:!1,headerHeight:0,footerHeight:0,scrollbarWidth:10,rowHover:!0,colHover:!0,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,scrollbarSize:10,horzScrollbarPos:"outside"}}class Tt{constructor(t,e){k(this,"element");k(this,"options");k(this,"ref",Ne());this.element=t,this.options={...Ge(),...e},this.options.cols.length&&this.render()}render(t){this.options=Object.assign(this.options,t),St(w(Ht,{ref:this.ref,...this.options}),this.element)}}const is="",rs="",ls="",as="",cs="",hs="",ds="",us="",fs="",_s="",ps="",ms="",gs="",bs="",ys="",vs="",ws="";let xt=(s=21)=>crypto.getRandomValues(new Uint8Array(s)).reduce((t,e)=>(e&=63,e<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t),"");const Se=class{constructor(t,e="local"){j(this,K);j(this,te,void 0);j(this,R,void 0);j(this,A,void 0);j(this,Z,void 0);G(this,te,e),G(this,R,`ZUI_STORE:${t!=null?t:xt()}`),G(this,A,e==="local"?localStorage:sessionStorage)}get type(){return H(this,te)}get session(){return this.type==="session"?this:(H(this,Z)||G(this,Z,new Se(H(this,R),"session")),H(this,Z))}get(t,e){const n=H(this,A).getItem(ue(this,K,fe).call(this,t));return typeof n=="string"?JSON.parse(n):n!=null?n:e}set(t,e){if(e==null)return this.remove(t);H(this,A).setItem(ue(this,K,fe).call(this,t),JSON.stringify(e))}remove(t){H(this,A).removeItem(ue(this,K,fe).call(this,t))}each(t){for(let e=0;e<H(this,A).length;e++){const n=H(this,A).key(e);if(n!=null&&n.startsWith(H(this,R))){const r=H(this,A).getItem(n);typeof r=="string"&&t(n.substring(H(this,R).length+1),JSON.parse(r))}}}getAll(){const t={};return this.each((e,n)=>{t[e]=n}),t}};let de=Se;te=new WeakMap,R=new WeakMap,A=new WeakMap,Z=new WeakMap,K=new WeakSet,fe=function(t){return`${H(this,R)}:${t}`};const Xe=new de("DEFAULT");function Dt(s,t="local"){return new de(s,t)}Object.assign(Xe,{create:Dt}),_.DTablePlugin=Tt,_.Scrollbar=ye,_.TIME_DAY=L,_.calculateTimestamp=ge,_.classes=N,_.createDate=x,_.domReady=ht,_.formatDate=me,_.formatDateSpan=mt,_.getTimeBeforeDesc=gt,_.isDBY=pt,_.isSameDay=X,_.isSameMonth=xe,_.isSameWeek=dt,_.isSameYear=pe,_.isToday=ut,_.isTomorrow=_t,_.isYesterday=ft,_.selectText=ct,_.store=Xe,Object.defineProperties(_,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
